define(['jquery', 'eventcenter', 'html2canvas'], function($, eventcenter) {    var myCanvas = "";    var showGuide = null;    function setShowGuid(show) {        showGuide = show;    }    function initNavSecond() {        $(".nav-second li").click(function() {            if ($(this).attr("class").indexOf("active") == -1) {                //加抽屉效果                $(this).parent().find(".active").removeClass("active");                $(this).addClass("active");            } else {                $(this).removeClass("active");            }        });    }    function initTabs() {        $('.tabs li').click(function() {            var className = $(this).attr("class");            if (className && className.indexOf("active") > -1) {                return false;            }            $(this).parent().find(".active").removeClass("active");            $(this).addClass("active");            var index = $(this).index();            html2canvas($("#hardware-container"), {                onrendered: function(canvas) {                    myCanvas = canvas                    $(".mod").hide();                    $(".mod:eq(" + index + ")").show();                    switch (index) {                        case 0:                            eventcenter.delaytrigger('hardware', 'init_container');                            break;                        case 1:                            eventcenter.delaytrigger('flowchart', 'init_container');                            if ($(myCanvas).attr("width") != 0) {                                $("#yjlj-content").html(myCanvas)                                $("#yjlj-content canvas").css("width", "180px");                            }                            if (showGuide)                                showGuide(3);                            break;                    }                }            });        });    }    function init() {        $(document).ready(function() {            initTabs();            initNavSecond();            $('.tabs li:first-child').click();        });    }    return {        init: init,        setShowGuid: setShowGuid    }});