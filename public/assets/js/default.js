YJLJCANVAS = ""define(['jquery', 'eventcenter', 'html2canvas'], function($, eventcenter) {  var showGuide = null;  function setShowGuid(show) {    showGuide = show;  }  var save_hardware;  var save_flowchart;  function caseInit(name) {    switch (name) {      case "yjlj":        // initHardware();        eventcenter.delaytrigger('hardware', 'init_container');        break;      case "rjbc":        // initSoftware();        eventcenter.delaytrigger('flowchart', 'init_container');        if ($(YJLJCANVAS).attr("width") != 0) {          $("#yjlj-content").html(YJLJCANVAS)          $("#yjlj-content canvas").css("width", "180px");        }        if (showGuide)          showGuide(3);        break;      case "fzyz":        if (showGuide)          showGuide(7);        break;      default:        break;    }  }  //将项目内容（硬件连接，软件流程等）保存到本地内存  function save_project_to_local() {    var tab_item = $(".nav-first li.active").attr("class").split(" ")[0];    if (tab_item == "yjlj") {      save_hardware()    }    if (tab_item == "rjbc") {      save_flowchart()    }  }  function getYJLJCanvas(item) {    save_project_to_local()    html2canvas($("#hardware-container"), {      onrendered: function(canvas) {        YJLJCANVAS = canvas        $(".nav-first li").removeClass("active");        item.addClass("active");        $(".mod").hide();        $("." + item.attr("class").split(" ")[0] + "_mod").show();        caseInit(item.attr("class").split(" ")[0]);        //console.log(YJLJCANVAS)      }    });  }  function initNavFirst() {    $(".nav-first li").click(function() {      var item = $(this)      getYJLJCanvas(item)    });    $(".nav-first li.yjlj").click();  }  function initNavSecond() {    $(".nav-second li").click(function() {      if ($(this).attr("class").indexOf("active") == -1) {        //加抽屉效果        $(this).parent().find(".active").removeClass("active");        $(this).addClass("active");      } else {        $(this).removeClass("active");      }    });  }  function init() {    $(document).ready(function() {      initNavFirst();      initNavSecond();    });  }  //接受main文件里传进来的保存硬件连接和软件流程图到数据库的接口  function set_save_function(func_dict) {    save_hardware = func_dict.save_hardware;    save_flowchart = func_dict.save_flowchart;  }  return {    init: init,    set_save_function: set_save_function,    save_project_to_local: save_project_to_local,    setShowGuid: setShowGuid  }});