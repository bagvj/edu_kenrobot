!function(e){e.fn.autogrow=function(t){function n(n){var o,r=e(this),a=r.innerHeight(),i=this.scrollHeight,s=r.data("autogrow-start-height")||0;if(i>a)this.scrollTop=0,t.animate?r.stop().animate({height:i},t.speed):r.innerHeight(i);else if(!n||8==n.which||46==n.which||n.ctrlKey&&88==n.which)if(a>s){o=r.clone().addClass(t.cloneClass).css({position:"absolute",zIndex:-10,height:""}).val(r.val()),r.after(o);do i=o[0].scrollHeight-1,o.innerHeight(i);while(i===o[0].scrollHeight);i++,o.remove(),r.focus(),s>i&&(i=s),a>i&&t.animate?r.stop().animate({height:i},t.speed):r.innerHeight(i)}else r.innerHeight(s)}var o=e(this).css({overflow:"hidden",resize:"none"}),r=o.selector,a={context:e(document),animate:!0,speed:200,fixMinHeight:!0,cloneClass:"autogrowclone",onInitialize:!1};return t=e.isPlainObject(t)?t:{context:t?t:e(document)},t=e.extend({},a,t),o.each(function(o,r){var a,i;r=e(r),r.is(":visible")||parseInt(r.css("height"),10)>0?a=parseInt(r.css("height"),10)||r.innerHeight():(i=r.clone().addClass(t.cloneClass).val(r.val()).css({position:"absolute",visibility:"hidden",display:"block"}),e("body").append(i),a=i.innerHeight(),i.remove()),t.fixMinHeight&&r.data("autogrow-start-height",a),r.css("height",a),t.onInitialize&&n.call(r)}),t.context.on("keyup paste",r,n),o}}(jQuery),function(){function e(e,t){for(var n=0;n<t.length;n+=1)if(t[n]===e)return!0;return!1}function t(e){return e.replace(/^\s+|\s+$/g,"")}function n(e){return e.replace(/^\s+/g,"")}function o(e,t){"use strict";var n=new r(e,t);return n.beautify()}function r(o,r){"use strict";function a(e,t){var n=0;e&&(n=e.indentation_level,!V.just_added_newline()&&e.line_indent_level>n&&(n=e.line_indent_level));var o={mode:t,parent:e,last_text:e?e.last_text:"",last_word:e?e.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,inline_frame:!1,if_block:!1,else_block:!1,do_block:!1,do_while:!1,import_block:!1,in_case_statement:!1,in_case:!1,case_body:!1,indentation_level:n,line_indent_level:e?e.line_indent_level:n,start_line_index:V.get_line_number(),ternary_depth:0};return o}function u(e){var t=e.newlines,n=te.keep_array_indentation&&y(X.mode);if(n)for(o=0;t>o;o+=1)h(o>0);else if(te.max_preserve_newlines&&t>te.max_preserve_newlines&&(t=te.max_preserve_newlines),te.preserve_newlines&&e.newlines>1){h();for(var o=1;t>o;o+=1)h(!0)}H=e,ee[H.type]()}function d(e){e=e.replace(l.allLineBreaks,"\n");for(var t=[],n=e.indexOf("\n");-1!==n;)t.push(e.substring(0,n)),e=e.substring(n+1),n=e.indexOf("\n");return e.length&&t.push(e),t}function p(t){if(t=void 0===t?!1:t,!V.just_added_newline())if(te.preserve_newlines&&H.wanted_newline||t)h(!1,!0);else if(te.wrap_line_length){if("TK_RESERVED"===K&&e(X.last_text,ae))return;var n=V.current_line.get_character_count()+H.text.length+(V.space_before_token?1:0);n>=te.wrap_line_length&&h(!1,!0)}}function h(e,t){if(!t&&";"!==X.last_text&&","!==X.last_text&&"="!==X.last_text&&"TK_OPERATOR"!==K)for(;X.mode===c.Statement&&!X.if_block&&!X.do_block;)_();V.add_new_line(e)&&(X.multiline_frame=!0)}function f(){V.just_added_newline()&&(te.keep_array_indentation&&y(X.mode)&&H.wanted_newline?(V.current_line.push(H.whitespace_before),V.space_before_token=!1):V.set_indent(X.indentation_level)&&(X.line_indent_level=X.indentation_level))}function m(e){if(V.raw)return void V.add_raw_token(H);if(te.comma_first&&"TK_COMMA"===K&&V.just_added_newline()&&","===V.previous_line.last()){var t=V.previous_line.pop();V.previous_line.is_empty()&&(V.previous_line.push(t),V.trim(!0),V.current_line.pop(),V.trim()),f(),V.add_token(","),V.space_before_token=!0}e=e||H.text,f(),V.add_token(e)}function b(){X.indentation_level+=1}function g(){X.indentation_level>0&&(!X.parent||X.indentation_level>X.parent.indentation_level)&&(X.indentation_level-=1)}function v(e){X?(J.push(X),Z=X):Z=a(null,e),X=a(Z,e)}function y(e){return e===c.ArrayLiteral}function w(t){return e(t,[c.Expression,c.ForInitializer,c.Conditional])}function _(){J.length>0&&(Z=X,X=J.pop(),Z.mode===c.Statement&&V.remove_redundant_indentation(Z))}function x(){return X.parent.mode===c.ObjectLiteral&&X.mode===c.Statement&&(":"===X.last_text&&0===X.ternary_depth||"TK_RESERVED"===K&&e(X.last_text,["get","set"]))}function C(){return"TK_RESERVED"===K&&e(X.last_text,["var","let","const"])&&"TK_WORD"===H.type||"TK_RESERVED"===K&&"do"===X.last_text||"TK_RESERVED"===K&&e(X.last_text,["return","throw"])&&!H.wanted_newline||"TK_RESERVED"===K&&"else"===X.last_text&&("TK_RESERVED"!==H.type||"if"!==H.text)||"TK_END_EXPR"===K&&(Z.mode===c.ForInitializer||Z.mode===c.Conditional)||"TK_WORD"===K&&X.mode===c.BlockStatement&&!X.in_case&&"--"!==H.text&&"++"!==H.text&&"function"!==G&&"TK_WORD"!==H.type&&"TK_RESERVED"!==H.type||X.mode===c.ObjectLiteral&&(":"===X.last_text&&0===X.ternary_depth||"TK_RESERVED"===K&&e(X.last_text,["get","set"]))?(v(c.Statement),b(),"TK_RESERVED"===K&&e(X.last_text,["var","let","const"])&&"TK_WORD"===H.type&&(X.declaration_statement=!0),x()||p("TK_RESERVED"===H.type&&e(H.text,["do","for","if","while"])),!0):!1}function $(e,n){for(var o=0;o<e.length;o++){var r=t(e[o]);if(r.charAt(0)!==n)return!1}return!0}function q(e,t){for(var n,o=0,r=e.length;r>o;o++)if(n=e[o],n&&0!==n.indexOf(t))return!1;return!0}function E(t){return e(t,["case","return","do","if","throw","else"])}function T(e){var t=z+(e||0);return 0>t||t>=ne.length?null:ne[t]}function S(){C();var t=c.Expression;if("["===H.text){if("TK_WORD"===K||")"===X.last_text)return"TK_RESERVED"===K&&e(X.last_text,W.line_starters)&&(V.space_before_token=!0),v(t),m(),b(),void(te.space_in_paren&&(V.space_before_token=!0));t=c.ArrayLiteral,y(X.mode)&&("["!==X.last_text&&(","!==X.last_text||"]"!==G&&"}"!==G)||te.keep_array_indentation||h())}else"TK_RESERVED"===K&&"for"===X.last_text?t=c.ForInitializer:"TK_RESERVED"===K&&e(X.last_text,["if","while"])&&(t=c.Conditional);";"===X.last_text||"TK_START_BLOCK"===K?h():"TK_END_EXPR"===K||"TK_START_EXPR"===K||"TK_END_BLOCK"===K||"."===X.last_text?p(H.wanted_newline):"TK_RESERVED"===K&&"("===H.text||"TK_WORD"===K||"TK_OPERATOR"===K?"TK_RESERVED"===K&&("function"===X.last_word||"typeof"===X.last_word)||"*"===X.last_text&&"function"===G?te.space_after_anon_function&&(V.space_before_token=!0):"TK_RESERVED"!==K||!e(X.last_text,W.line_starters)&&"catch"!==X.last_text||te.space_before_conditional&&(V.space_before_token=!0):V.space_before_token=!0,"("===H.text&&"TK_RESERVED"===K&&"await"===X.last_word&&(V.space_before_token=!0),"("===H.text&&("TK_EQUALS"!==K&&"TK_OPERATOR"!==K||x()||p()),"("===H.text&&"TK_WORD"!==K&&"TK_RESERVED"!==K&&p(),v(t),m(),te.space_in_paren&&(V.space_before_token=!0),b()}function A(){for(;X.mode===c.Statement;)_();X.multiline_frame&&p("]"===H.text&&y(X.mode)&&!te.keep_array_indentation),te.space_in_paren&&("TK_START_EXPR"!==K||te.space_in_empty_paren?V.space_before_token=!0:(V.trim(),V.space_before_token=!1)),"]"===H.text&&te.keep_array_indentation?(m(),_()):(_(),m()),V.remove_redundant_indentation(Z),X.do_while&&Z.mode===c.Conditional&&(Z.mode=c.Expression,X.do_block=!1,X.do_while=!1)}function I(){var t=T(1),n=T(2);v(n&&(e(n.text,[":",","])&&e(t.type,["TK_STRING","TK_WORD","TK_RESERVED"])||e(t.text,["get","set"])&&e(n.type,["TK_WORD","TK_RESERVED"]))?e(G,["class","interface"])?c.BlockStatement:c.ObjectLiteral:"TK_OPERATOR"===K&&"=>"===X.last_text?c.BlockStatement:e(K,["TK_EQUALS","TK_START_EXPR","TK_COMMA","TK_OPERATOR"])||"TK_RESERVED"===K&&e(X.last_text,["return","throw","import"])?c.ObjectLiteral:c.BlockStatement);var o=!t.comments_before.length&&"}"===t.text,r=o&&"function"===X.last_word&&"TK_END_EXPR"===K;if("expand"===te.brace_style||"none"===te.brace_style&&H.wanted_newline)"TK_OPERATOR"!==K&&(r||"TK_EQUALS"===K||"TK_RESERVED"===K&&E(X.last_text)&&"else"!==X.last_text)?V.space_before_token=!0:h(!1,!0);else{if("collapse-preserve-inline"===te.brace_style){var a=0,i=null;X.inline_frame=!0;do if(a+=1,i=T(a),i.wanted_newline){X.inline_frame=!1;break}while("TK_EOF"!==i.type&&("TK_END_BLOCK"!==i.type||i.opened!==H))}!y(Z.mode)||"TK_START_EXPR"!==K&&"TK_COMMA"!==K?"TK_OPERATOR"!==K&&"TK_START_EXPR"!==K&&("TK_START_BLOCK"===K?h():V.space_before_token=!0):X.inline_frame?(p(),X.inline_frame=!0,Z.multiline_frame=Z.multiline_frame||X.multiline_frame,X.multiline_frame=!1):"TK_COMMA"===K&&(V.space_before_token=!0)}m(),b()}function D(){for(;X.mode===c.Statement;)_();var e="TK_START_BLOCK"===K;"expand"===te.brace_style?e||h():e||(X.inline_frame?V.space_before_token=!0:y(X.mode)&&te.keep_array_indentation?(te.keep_array_indentation=!1,h(),te.keep_array_indentation=!0):h()),_(),m()}function P(){if("TK_RESERVED"===H.type)if(e(H.text,["set","get"])&&X.mode!==c.ObjectLiteral)H.type="TK_WORD";else if(e(H.text,["as","from"])&&!X.import_block)H.type="TK_WORD";else if(X.mode===c.ObjectLiteral){var t=T(1);":"==t.text&&(H.type="TK_WORD")}if(C()||!H.wanted_newline||w(X.mode)||"TK_OPERATOR"===K&&"--"!==X.last_text&&"++"!==X.last_text||"TK_EQUALS"===K||!te.preserve_newlines&&"TK_RESERVED"===K&&e(X.last_text,["var","let","const","set","get"])||h(),X.do_block&&!X.do_while){if("TK_RESERVED"===H.type&&"while"===H.text)return V.space_before_token=!0,m(),V.space_before_token=!0,void(X.do_while=!0);h(),X.do_block=!1}if(X.if_block)if(X.else_block||"TK_RESERVED"!==H.type||"else"!==H.text){for(;X.mode===c.Statement;)_();X.if_block=!1,X.else_block=!1}else X.else_block=!0;if("TK_RESERVED"===H.type&&("case"===H.text||"default"===H.text&&X.in_case_statement))return h(),(X.case_body||te.jslint_happy)&&(g(),X.case_body=!1),m(),X.in_case=!0,void(X.in_case_statement=!0);if("TK_RESERVED"===H.type&&"function"===H.text&&((e(X.last_text,["}",";"])||V.just_added_newline()&&!e(X.last_text,["[","{",":","=",","]))&&(V.just_added_blankline()||H.comments_before.length||(h(),h(!0))),"TK_RESERVED"===K||"TK_WORD"===K?"TK_RESERVED"===K&&e(X.last_text,["get","set","new","return","export","async"])?V.space_before_token=!0:"TK_RESERVED"===K&&"default"===X.last_text&&"export"===G?V.space_before_token=!0:h():"TK_OPERATOR"===K||"="===X.last_text?V.space_before_token=!0:(X.multiline_frame||!w(X.mode)&&!y(X.mode))&&h()),"TK_COMMA"!==K&&"TK_START_EXPR"!==K&&"TK_EQUALS"!==K&&"TK_OPERATOR"!==K||x()||p(),"TK_RESERVED"===H.type&&e(H.text,["function","get","set"]))return m(),void(X.last_word=H.text);if(Q="NONE","TK_END_BLOCK"===K?"TK_RESERVED"===H.type&&e(H.text,["else","catch","finally","from"])?"expand"===te.brace_style||"end-expand"===te.brace_style||"none"===te.brace_style&&H.wanted_newline?Q="NEWLINE":(Q="SPACE",V.space_before_token=!0):Q="NEWLINE":"TK_SEMICOLON"===K&&X.mode===c.BlockStatement?Q="NEWLINE":"TK_SEMICOLON"===K&&w(X.mode)?Q="SPACE":"TK_STRING"===K?Q="NEWLINE":"TK_RESERVED"===K||"TK_WORD"===K||"*"===X.last_text&&"function"===G?Q="SPACE":"TK_START_BLOCK"===K?Q=X.inline_frame?"SPACE":"NEWLINE":"TK_END_EXPR"===K&&(V.space_before_token=!0,Q="NEWLINE"),"TK_RESERVED"===H.type&&e(H.text,W.line_starters)&&")"!==X.last_text&&(Q="else"===X.last_text||"export"===X.last_text?"SPACE":"NEWLINE"),"TK_RESERVED"===H.type&&e(H.text,["else","catch","finally"]))if("TK_END_BLOCK"!==K||Z.mode!==c.BlockStatement||"expand"===te.brace_style||"end-expand"===te.brace_style||"none"===te.brace_style&&H.wanted_newline)h();else{V.trim(!0);var n=V.current_line;"}"!==n.last()&&h(),V.space_before_token=!0}else"NEWLINE"===Q?"TK_RESERVED"===K&&E(X.last_text)?V.space_before_token=!0:"TK_END_EXPR"!==K?"TK_START_EXPR"===K&&"TK_RESERVED"===H.type&&e(H.text,["var","let","const"])||":"===X.last_text||("TK_RESERVED"===H.type&&"if"===H.text&&"else"===X.last_text?V.space_before_token=!0:h()):"TK_RESERVED"===H.type&&e(H.text,W.line_starters)&&")"!==X.last_text&&h():X.multiline_frame&&y(X.mode)&&","===X.last_text&&"}"===G?h():"SPACE"===Q&&(V.space_before_token=!0);m(),X.last_word=H.text,"TK_RESERVED"===H.type&&("do"===H.text?X.do_block=!0:"if"===H.text?X.if_block=!0:"import"===H.text?X.import_block=!0:X.import_block&&"TK_RESERVED"===H.type&&"from"===H.text&&(X.import_block=!1))}function k(){for(C()&&(V.space_before_token=!1);X.mode===c.Statement&&!X.if_block&&!X.do_block;)_();X.import_block&&(X.import_block=!1),m()}function O(){C()?V.space_before_token=!0:"TK_RESERVED"===K||"TK_WORD"===K||X.inline_frame?V.space_before_token=!0:"TK_COMMA"===K||"TK_START_EXPR"===K||"TK_EQUALS"===K||"TK_OPERATOR"===K?x()||p():h(),m()}function j(){C(),X.declaration_statement&&(X.declaration_assignment=!0),V.space_before_token=!0,m(),V.space_before_token=!0}function R(){m(),V.space_before_token=!0,X.declaration_statement?(w(X.parent.mode)&&(X.declaration_assignment=!1),X.declaration_assignment?(X.declaration_assignment=!1,h(!1,!0)):te.comma_first&&p()):X.mode===c.ObjectLiteral||X.mode===c.Statement&&X.parent.mode===c.ObjectLiteral?(X.mode===c.Statement&&_(),X.inline_frame||h()):te.comma_first&&p()}function L(){if(C(),"TK_RESERVED"===K&&E(X.last_text))return V.space_before_token=!0,void m();if("*"===H.text&&"TK_DOT"===K)return void m();if(":"===H.text&&X.in_case)return X.case_body=!0,b(),m(),h(),void(X.in_case=!1);if("::"===H.text)return void m();"TK_OPERATOR"===K&&p();var t=!0,n=!0;e(H.text,["--","++","!","~"])||e(H.text,["-","+"])&&(e(K,["TK_START_BLOCK","TK_START_EXPR","TK_EQUALS","TK_OPERATOR"])||e(X.last_text,W.line_starters)||","===X.last_text)?(t=!1,n=!1,!H.wanted_newline||"--"!==H.text&&"++"!==H.text||h(!1,!0),";"===X.last_text&&w(X.mode)&&(t=!0),"TK_RESERVED"===K?t=!0:"TK_END_EXPR"===K?t=!("]"===X.last_text&&("--"===H.text||"++"===H.text)):"TK_OPERATOR"===K&&(t=e(H.text,["--","-","++","+"])&&e(X.last_text,["--","-","++","+"]),e(H.text,["+","-"])&&e(X.last_text,["--","++"])&&(n=!0)),(X.mode!==c.BlockStatement||X.inline_frame)&&X.mode!==c.Statement||"{"!==X.last_text&&";"!==X.last_text||h()):":"===H.text?0===X.ternary_depth?t=!1:X.ternary_depth-=1:"?"===H.text?X.ternary_depth+=1:"*"===H.text&&"TK_RESERVED"===K&&"function"===X.last_text&&(t=!1,n=!1),V.space_before_token=V.space_before_token||t,m(),V.space_before_token=n}function N(){if(V.raw)return V.add_raw_token(H),void(H.directives&&"end"===H.directives.preserve&&(te.test_output_raw||(V.raw=!1)));if(H.directives)return h(!1,!0),m(),"start"===H.directives.preserve&&(V.raw=!0),void h(!1,!0);if(!l.newline.test(H.text)&&!H.wanted_newline)return V.space_before_token=!0,m(),void(V.space_before_token=!0);var e,t=d(H.text),o=!1,r=!1,a=H.whitespace_before,i=a.length;for(h(!1,!0),t.length>1&&($(t.slice(1),"*")?o=!0:q(t.slice(1),a)&&(r=!0)),m(t[0]),e=1;e<t.length;e++)h(!1,!0),o?m(" "+n(t[e])):r&&t[e].length>i?m(t[e].substring(i)):V.add_token(t[e]);h(!1,!0)}function M(){H.wanted_newline?h(!1,!0):V.trim(!0),V.space_before_token=!0,m(),h(!1,!0)}function B(){C(),"TK_RESERVED"===K&&E(X.last_text)?V.space_before_token=!0:p(")"===X.last_text&&te.break_chained_methods),m()}function F(){m(),"\n"===H.text[H.text.length-1]&&h()}function U(){for(;X.mode===c.Statement;)_()}var V,z,W,H,K,G,Y,X,Z,J,Q,ee,te,ne=[],oe="";for(ee={TK_START_EXPR:S,TK_END_EXPR:A,TK_START_BLOCK:I,TK_END_BLOCK:D,TK_WORD:P,TK_RESERVED:P,TK_SEMICOLON:k,TK_STRING:O,TK_EQUALS:j,TK_OPERATOR:L,TK_COMMA:R,TK_BLOCK_COMMENT:N,TK_COMMENT:M,TK_DOT:B,TK_UNKNOWN:F,TK_EOF:U},r=r?r:{},te={},void 0!==r.braces_on_own_line&&(te.brace_style=r.braces_on_own_line?"expand":"collapse"),te.brace_style=r.brace_style?r.brace_style:te.brace_style?te.brace_style:"collapse","expand-strict"===te.brace_style&&(te.brace_style="expand"),te.indent_size=r.indent_size?parseInt(r.indent_size,10):4,te.indent_char=r.indent_char?r.indent_char:" ",te.eol=r.eol?r.eol:"auto",te.preserve_newlines=void 0===r.preserve_newlines?!0:r.preserve_newlines,te.break_chained_methods=void 0===r.break_chained_methods?!1:r.break_chained_methods,te.max_preserve_newlines=void 0===r.max_preserve_newlines?0:parseInt(r.max_preserve_newlines,10),te.space_in_paren=void 0===r.space_in_paren?!1:r.space_in_paren,te.space_in_empty_paren=void 0===r.space_in_empty_paren?!1:r.space_in_empty_paren,te.jslint_happy=void 0===r.jslint_happy?!1:r.jslint_happy,te.space_after_anon_function=void 0===r.space_after_anon_function?!1:r.space_after_anon_function,te.keep_array_indentation=void 0===r.keep_array_indentation?!1:r.keep_array_indentation,te.space_before_conditional=void 0===r.space_before_conditional?!0:r.space_before_conditional,te.unescape_strings=void 0===r.unescape_strings?!1:r.unescape_strings,te.wrap_line_length=void 0===r.wrap_line_length?0:parseInt(r.wrap_line_length,10),te.e4x=void 0===r.e4x?!1:r.e4x,te.end_with_newline=void 0===r.end_with_newline?!1:r.end_with_newline,te.comma_first=void 0===r.comma_first?!1:r.comma_first,te.test_output_raw=void 0===r.test_output_raw?!1:r.test_output_raw,te.jslint_happy&&(te.space_after_anon_function=!0),r.indent_with_tabs&&(te.indent_char="	",te.indent_size=1),"auto"===te.eol&&(te.eol="\n",o&&l.lineBreak.test(o||"")&&(te.eol=o.match(l.lineBreak)[0])),te.eol=te.eol.replace(/\\r/,"\r").replace(/\\n/,"\n"),Y="";te.indent_size>0;)Y+=te.indent_char,te.indent_size-=1;var re=0;if(o&&o.length){for(;" "===o.charAt(re)||"	"===o.charAt(re);)oe+=o.charAt(re),re+=1;o=o.substring(re)}K="TK_START_BLOCK",G="",V=new i(Y,oe),V.raw=te.test_output_raw,J=[],v(c.BlockStatement),this.beautify=function(){var e,t;for(W=new s(o,te,Y),ne=W.tokenize(),z=0;e=T();){for(var n=0;n<e.comments_before.length;n++)u(e.comments_before[n]);u(e),G=X.last_text,K=e.type,X.last_text=e.text,z+=1}return t=V.get_code(),te.end_with_newline&&(t+="\n"),"\n"!=te.eol&&(t=t.replace(/[\n]/g,te.eol)),t};var ae=["break","contiue","return","throw"]}function a(e){var t=0,n=-1,o=[],r=!0;this.set_indent=function(o){t=e.baseIndentLength+o*e.indent_length,n=o},this.get_character_count=function(){return t},this.is_empty=function(){return r},this.last=function(){return this._empty?null:o[o.length-1]},this.push=function(e){o.push(e),t+=e.length,r=!1},this.pop=function(){var e=null;return r||(e=o.pop(),t-=e.length,r=0===o.length),e},this.remove_indent=function(){n>0&&(n-=1,t-=e.indent_length)},this.trim=function(){for(;" "===this.last();){o.pop();t-=1}r=0===o.length},this.toString=function(){var t="";return this._empty||(n>=0&&(t=e.indent_cache[n]),t+=o.join("")),t}}function i(e,t){t=t||"",this.indent_cache=[t],this.baseIndentLength=t.length,this.indent_length=e.length,this.raw=!1;var n=[];this.baseIndentString=t,this.indent_string=e,this.previous_line=null,this.current_line=null,this.space_before_token=!1,this.add_outputline=function(){this.previous_line=this.current_line,this.current_line=new a(this),n.push(this.current_line)},this.add_outputline(),this.get_line_number=function(){return n.length},this.add_new_line=function(e){return 1===this.get_line_number()&&this.just_added_newline()?!1:e||!this.just_added_newline()?(this.raw||this.add_outputline(),!0):!1},this.get_code=function(){var e=n.join("\n").replace(/[\r\n\t ]+$/,"");return e},this.set_indent=function(e){if(n.length>1){for(;e>=this.indent_cache.length;)this.indent_cache.push(this.indent_cache[this.indent_cache.length-1]+this.indent_string);return this.current_line.set_indent(e),!0}return this.current_line.set_indent(0),!1},this.add_raw_token=function(e){for(var t=0;t<e.newlines;t++)this.add_outputline();this.current_line.push(e.whitespace_before),this.current_line.push(e.text),this.space_before_token=!1},this.add_token=function(e){this.add_space_before_token(),this.current_line.push(e)},this.add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&this.current_line.push(" "),this.space_before_token=!1},this.remove_redundant_indentation=function(e){if(!e.multiline_frame&&e.mode!==c.ForInitializer&&e.mode!==c.Conditional)for(var t=e.start_line_index,o=n.length;o>t;)n[t].remove_indent(),t++},this.trim=function(o){for(o=void 0===o?!1:o,this.current_line.trim(e,t);o&&n.length>1&&this.current_line.is_empty();)n.pop(),this.current_line=n[n.length-1],this.current_line.trim();this.previous_line=n.length>1?n[n.length-2]:null},this.just_added_newline=function(){return this.current_line.is_empty()},this.just_added_blankline=function(){if(this.just_added_newline()){if(1===n.length)return!0;var e=n[n.length-2];return e.is_empty()}return!1}}function s(n,o,r){function a(e){if(!e.match(q))return null;var t={};E.lastIndex=0;for(var n=E.exec(e);n;)t[n[1]]=n[2],n=E.exec(e);return t}function i(){var r,i=[];if(b=0,g="",w>=_)return["","TK_EOF"];var q;q=y.length?y[y.length-1]:new u("TK_START_BLOCK","{");var E=n.charAt(w);for(w+=1;e(E,c);){if(l.newline.test(E)?"\n"===E&&"\r"===n.charAt(w-2)||(b+=1,i=[]):i.push(E),w>=_)return["","TK_EOF"];E=n.charAt(w),w+=1}if(i.length&&(g=i.join("")),d.test(E)||"."===E&&d.test(n.charAt(w))){var A=!0,I=!0,D=d;for("0"===E&&_>w&&/[XxOoBb]/.test(n.charAt(w))?(A=!1,I=!1,D=/[Bb]/.test(n.charAt(w))?p:/[Oo]/.test(n.charAt(w))?h:f,E+=n.charAt(w),w+=1):"."===E?A=!1:(E="",w-=1);_>w&&D.test(n.charAt(w));)E+=n.charAt(w),w+=1,A&&_>w&&"."===n.charAt(w)?(E+=n.charAt(w),w+=1,A=!1):I&&_>w&&/[Ee]/.test(n.charAt(w))&&(E+=n.charAt(w),w+=1,_>w&&/[+-]/.test(n.charAt(w))&&(E+=n.charAt(w),w+=1),I=!1,A=!1);return[E,"TK_WORD"]}if(l.isIdentifierStart(n.charCodeAt(w-1))){if(_>w)for(;l.isIdentifierChar(n.charCodeAt(w))&&(E+=n.charAt(w),w+=1,w!==_););return"TK_DOT"===q.type||"TK_RESERVED"===q.type&&e(q.text,["set","get"])||!e(E,x)?[E,"TK_WORD"]:"in"===E?[E,"TK_OPERATOR"]:[E,"TK_RESERVED"]}if("("===E||"["===E)return[E,"TK_START_EXPR"];if(")"===E||"]"===E)return[E,"TK_END_EXPR"];if("{"===E)return[E,"TK_START_BLOCK"];if("}"===E)return[E,"TK_END_BLOCK"];if(";"===E)return[E,"TK_SEMICOLON"];if("/"===E){var P="";if("*"===n.charAt(w)){w+=1,C.lastIndex=w;var k=C.exec(n);P="/*"+k[0],w+=k[0].length;var O=a(P);return O&&"start"===O.ignore&&(T.lastIndex=w,k=T.exec(n),P+=k[0],w+=k[0].length),P=P.replace(l.allLineBreaks,"\n"),[P,"TK_BLOCK_COMMENT",O]}if("/"===n.charAt(w)){w+=1,$.lastIndex=w;var k=$.exec(n);return P="//"+k[0],w+=k[0].length,[P,"TK_COMMENT"]}}var j=/^<([-a-zA-Z:0-9_.]+|{.+?}|!\[CDATA\[[\s\S]*?\]\])(\s+{.+?}|\s+[-a-zA-Z:0-9_.]+|\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{.+?}))*\s*(\/?)\s*>/;if("`"===E||"'"===E||'"'===E||("/"===E||o.e4x&&"<"===E&&n.slice(w-1).match(j))&&("TK_RESERVED"===q.type&&e(q.text,["return","case","throw","else","do","typeof","yield"])||"TK_END_EXPR"===q.type&&")"===q.text&&q.parent&&"TK_RESERVED"===q.parent.type&&e(q.parent.text,["if","while","for"])||e(q.type,["TK_COMMENT","TK_START_EXPR","TK_START_BLOCK","TK_END_BLOCK","TK_OPERATOR","TK_EQUALS","TK_EOF","TK_SEMICOLON","TK_COMMA"]))){var R=E,L=!1,N=!1;if(r=E,"/"===R)for(var M=!1;_>w&&(L||M||n.charAt(w)!==R)&&!l.newline.test(n.charAt(w));)r+=n.charAt(w),L?L=!1:(L="\\"===n.charAt(w),"["===n.charAt(w)?M=!0:"]"===n.charAt(w)&&(M=!1)),w+=1;else if(o.e4x&&"<"===R){var B=/<(\/?)([-a-zA-Z:0-9_.]+|{.+?}|!\[CDATA\[[\s\S]*?\]\])(\s+{.+?}|\s+[-a-zA-Z:0-9_.]+|\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{.+?}))*\s*(\/?)\s*>/g,F=n.slice(w-1),U=B.exec(F);if(U&&0===U.index){for(var V=U[2],z=0;U;){var W=!!U[1],H=U[2],K=!!U[U.length-1]||"![CDATA["===H.slice(0,8);if(H!==V||K||(W?--z:++z),0>=z)break;U=B.exec(F)}var G=U?U.index+U[0].length:F.length;return F=F.slice(0,G),w+=G-1,F=F.replace(l.allLineBreaks,"\n"),[F,"TK_STRING"]}}else{var Y=function(e,t,o){for(var a;_>w&&(a=n.charAt(w),L||a!==e&&(t||!l.newline.test(a)));)(L||t)&&l.newline.test(a)?("\r"===a&&"\n"===n.charAt(w+1)&&(w+=1,a=n.charAt(w)),r+="\n"):r+=a,L?("x"!==a&&"u"!==a||(N=!0),L=!1):L="\\"===a,w+=1,o&&-1!==r.indexOf(o,r.length-o.length)&&("`"===e?Y("}",t,"`"):Y("`",t,"${"))};"`"===R?Y("`",!0,"${"):Y(R)}if(N&&o.unescape_strings&&(r=s(r)),_>w&&n.charAt(w)===R&&(r+=R,w+=1,"/"===R))for(;_>w&&l.isIdentifierStart(n.charCodeAt(w));)r+=n.charAt(w),w+=1;return[r,"TK_STRING"]}if("#"===E){if(0===y.length&&"!"===n.charAt(w)){for(r=E;_>w&&"\n"!==E;)E=n.charAt(w),r+=E,w+=1;return[t(r)+"\n","TK_UNKNOWN"]}var X="#";if(_>w&&d.test(n.charAt(w))){do E=n.charAt(w),X+=E,w+=1;while(_>w&&"#"!==E&&"="!==E);return"#"===E||("["===n.charAt(w)&&"]"===n.charAt(w+1)?(X+="[]",w+=2):"{"===n.charAt(w)&&"}"===n.charAt(w+1)&&(X+="{}",w+=2)),[X,"TK_WORD"]}}if("<"===E&&("?"===n.charAt(w)||"%"===n.charAt(w))){S.lastIndex=w-1;var Z=S.exec(n);if(Z)return E=Z[0],w+=E.length-1,E=E.replace(l.allLineBreaks,"\n"),[E,"TK_STRING"]}if("<"===E&&"<!--"===n.substring(w-1,w+3)){for(w+=3,E="<!--";!l.newline.test(n.charAt(w))&&_>w;)E+=n.charAt(w),w++;return v=!0,[E,"TK_COMMENT"]}if("-"===E&&v&&"-->"===n.substring(w-1,w+2))return v=!1,w+=2,["-->","TK_COMMENT"];if("."===E)return[E,"TK_DOT"];if(e(E,m)){for(;_>w&&e(E+n.charAt(w),m)&&(E+=n.charAt(w),w+=1,!(w>=_)););return","===E?[E,"TK_COMMA"]:"="===E?[E,"TK_EQUALS"]:[E,"TK_OPERATOR"]}return[E,"TK_UNKNOWN"]}function s(e){for(var t,n=!1,o="",r=0,a="",i=0;n||r<e.length;)if(t=e.charAt(r),r++,n){if(n=!1,"x"===t)a=e.substr(r,2),r+=2;else{if("u"!==t){o+="\\"+t;continue}a=e.substr(r,4),r+=4}if(!a.match(/^[0123456789abcdefABCDEF]+$/))return e;if(i=parseInt(a,16),i>=0&&32>i){o+="x"===t?"\\x"+a:"\\u"+a;continue}if(34===i||39===i||92===i)o+="\\"+String.fromCharCode(i);else{if("x"===t&&i>126&&255>=i)return e;o+=String.fromCharCode(i)}}else"\\"===t?n=!0:o+=t;return o}var c="\n\r	 ".split(""),d=/[0-9]/,p=/[01]/,h=/[01234567]/,f=/[0123456789abcdefABCDEF]/,m="+ - * / % & ++ -- = += -= *= /= %= == === != !== > < >= <= >> << >>> >>>= >>= <<= && &= | || ! ~ , : ? ^ ^= |= :: => **".split(" ");this.line_starters="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(",");var b,g,v,y,w,_,x=this.line_starters.concat(["do","in","else","get","set","new","catch","finally","typeof","yield","async","await","from","as"]),C=/([\s\S]*?)((?:\*\/)|$)/g,$=/([^\n\r\u2028\u2029]*)/g,q=/\/\* beautify( \w+[:]\w+)+ \*\//g,E=/ (\w+)[:](\w+)/g,T=/([\s\S]*?)((?:\/\*\sbeautify\signore:end\s\*\/)|$)/g,S=/((<\?php|<\?=)[\s\S]*?\?>)|(<%[\s\S]*?%>)/g;this.tokenize=function(){_=n.length,w=0,v=!1,y=[];for(var e,t,o,r=null,a=[],s=[];!t||"TK_EOF"!==t.type;){for(o=i(),e=new u(o[1],o[0],b,g);"TK_COMMENT"===e.type||"TK_BLOCK_COMMENT"===e.type||"TK_UNKNOWN"===e.type;)"TK_BLOCK_COMMENT"===e.type&&(e.directives=o[2]),s.push(e),o=i(),e=new u(o[1],o[0],b,g);s.length&&(e.comments_before=s,s=[]),"TK_START_BLOCK"===e.type||"TK_START_EXPR"===e.type?(e.parent=t,a.push(r),r=e):("TK_END_BLOCK"===e.type||"TK_END_EXPR"===e.type)&&r&&("]"===e.text&&"["===r.text||")"===e.text&&"("===r.text||"}"===e.text&&"{"===r.text)&&(e.parent=r.parent,e.opened=r,r=a.pop()),y.push(e),t=e}return y}}var l={};!function(e){var t="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",n="̀-ͯ҃-֑҇-ׇֽֿׁׂׅׄؐ-ؚؠ-ىٲ-ۓۧ-ۨۻ-ۼܰ-݊ࠀ-ࠔࠛ-ࠣࠥ-ࠧࠩ-࠭ࡀ-ࡗࣤ-ࣾऀ-ःऺ-़ा-ॏ॑-ॗॢ-ॣ०-९ঁ-ঃ়া-ৄেৈৗয়-ৠਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢ-ૣ૦-૯ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୟ-ୠ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఁ-ఃె-ైొ-్ౕౖౢ-ౣ౦-౯ಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢ-ೣ೦-೯ംഃെ-ൈൗൢ-ൣ൦-൯ංඃ්ා-ුූෘ-ෟෲෳิ-ฺเ-ๅ๐-๙ິ-ູ່-ໍ໐-໙༘༙༠-༩༹༵༷ཁ-ཇཱ-྄྆-྇ྍ-ྗྙ-ྼ࿆က-ဩ၀-၉ၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟ᜎ-ᜐᜠ-ᜰᝀ-ᝐᝲᝳក-ឲ៝០-៩᠋-᠍᠐-᠙ᤠ-ᤫᤰ-᤻ᥑ-ᥭᦰ-ᧀᧈ-ᧉ᧐-᧙ᨀ-ᨕᨠ-ᩓ᩠-᩿᩼-᪉᪐-᪙ᭆ-ᭋ᭐-᭙᭫-᭳᮰-᮹᯦-᯳ᰀ-ᰢ᱀-᱉ᱛ-ᱽ᳐-᳒ᴀ-ᶾḁ-ἕ‌‍‿⁀⁔⃐-⃥⃜⃡-⃰ⶁ-ⶖⷠ-ⷿ〡-〨゙゚Ꙁ-ꙭꙴ-꙽ꚟ꛰-꛱ꟸ-ꠀ꠆ꠋꠣ-ꠧꢀ-ꢁꢴ-꣄꣐-꣙ꣳ-ꣷ꤀-꤉ꤦ-꤭ꤰ-ꥅꦀ-ꦃ꦳-꧀ꨀ-ꨧꩀ-ꩁꩌ-ꩍ꩐-꩙ꩻꫠ-ꫩꫲ-ꫳꯀ-ꯡ꯬꯭꯰-꯹ﬠ-ﬨ︀-️︠-︦︳︴﹍-﹏０-９＿",o=new RegExp("["+t+"]"),r=new RegExp("["+t+n+"]"),a=(e.newline=/[\n\r\u2028\u2029]/,e.lineBreak=/\r\n|[\n\r\u2028\u2029]/);e.allLineBreaks=new RegExp(a.source,"g"),e.isIdentifierStart=function(e){return 65>e?36===e||64===e:91>e?!0:97>e?95===e:123>e?!0:e>=170&&o.test(String.fromCharCode(e))},e.isIdentifierChar=function(e){return 48>e?36===e:58>e?!0:65>e?!1:91>e?!0:97>e?95===e:123>e?!0:e>=170&&r.test(String.fromCharCode(e))}}(l);var c={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"},u=function(e,t,n,o,r,a){this.type=e,this.text=t,this.comments_before=[],this.newlines=n||0,this.wanted_newline=n>0,this.whitespace_before=o||"",this.parent=null,this.opened=null,this.directives=null};"function"==typeof define&&define.amd?define([],function(){return{js_beautify:o}}):"undefined"!=typeof exports?exports.js_beautify=o:"undefined"!=typeof window?window.js_beautify=o:"undefined"!=typeof global&&(global.js_beautify=o)}();var _self="undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{},Prism=function(){var e=/\blang(?:uage)?-(\w+)\b/i,t=0,n=_self.Prism={util:{encode:function(e){return e instanceof o?new o(e.type,n.util.encode(e.content),e.alias):"Array"===n.util.type(e)?e.map(n.util.encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).match(/\[object (\w+)\]/)[1]},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++t}),e.__id},clone:function(e){var t=n.util.type(e);switch(t){case"Object":var o={};for(var r in e)e.hasOwnProperty(r)&&(o[r]=n.util.clone(e[r]));return o;case"Array":return e.map&&e.map(function(e){return n.util.clone(e)})}return e}},languages:{extend:function(e,t){var o=n.util.clone(n.languages[e]);for(var r in t)o[r]=t[r];return o},insertBefore:function(e,t,o,r){r=r||n.languages;var a=r[e];if(2==arguments.length){o=arguments[1];for(var i in o)o.hasOwnProperty(i)&&(a[i]=o[i]);return a}var s={};for(var l in a)if(a.hasOwnProperty(l)){if(l==t)for(var i in o)o.hasOwnProperty(i)&&(s[i]=o[i]);s[l]=a[l]}return n.languages.DFS(n.languages,function(t,n){n===r[e]&&t!=e&&(this[t]=s)}),r[e]=s},DFS:function(e,t,o,r){r=r||{};for(var a in e)e.hasOwnProperty(a)&&(t.call(e,a,e[a],o||a),"Object"!==n.util.type(e[a])||r[n.util.objId(e[a])]?"Array"!==n.util.type(e[a])||r[n.util.objId(e[a])]||(r[n.util.objId(e[a])]=!0,n.languages.DFS(e[a],t,a,r)):(r[n.util.objId(e[a])]=!0,n.languages.DFS(e[a],t,null,r)))}},plugins:{},highlightAll:function(e,t){for(var o,r=document.querySelectorAll('code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'),a=0;o=r[a++];)n.highlightElement(o,e===!0,t)},highlightElement:function(t,o,r){for(var a,i,s=t;s&&!e.test(s.className);)s=s.parentNode;s&&(a=(s.className.match(e)||[,""])[1],i=n.languages[a]),t.className=t.className.replace(e,"").replace(/\s+/g," ")+" language-"+a,s=t.parentNode,/pre/i.test(s.nodeName)&&(s.className=s.className.replace(e,"").replace(/\s+/g," ")+" language-"+a);var l=t.textContent,c={element:t,language:a,grammar:i,code:l};if(!l||!i)return void n.hooks.run("complete",c);if(n.hooks.run("before-highlight",c),o&&_self.Worker){var u=new Worker(n.filename);u.onmessage=function(e){c.highlightedCode=e.data,n.hooks.run("before-insert",c),c.element.innerHTML=c.highlightedCode,r&&r.call(c.element),n.hooks.run("after-highlight",c),n.hooks.run("complete",c)},u.postMessage(JSON.stringify({language:c.language,code:c.code,immediateClose:!0}))}else c.highlightedCode=n.highlight(c.code,c.grammar,c.language),n.hooks.run("before-insert",c),c.element.innerHTML=c.highlightedCode,r&&r.call(t),n.hooks.run("after-highlight",c),n.hooks.run("complete",c)},highlight:function(e,t,r){var a=n.tokenize(e,t);return o.stringify(n.util.encode(a),r)},tokenize:function(e,t,o){var r=n.Token,a=[e],i=t.rest;if(i){for(var s in i)t[s]=i[s];delete t.rest}e:for(var s in t)if(t.hasOwnProperty(s)&&t[s]){var l=t[s];l="Array"===n.util.type(l)?l:[l];for(var c=0;c<l.length;++c){var u=l[c],d=u.inside,p=!!u.lookbehind,h=0,f=u.alias;u=u.pattern||u;for(var m=0;m<a.length;m++){var b=a[m];if(a.length>e.length)break e;if(!(b instanceof r)){
u.lastIndex=0;var g=u.exec(b);if(g){p&&(h=g[1].length);var v=g.index-1+h,g=g[0].slice(h),y=g.length,w=v+y,_=b.slice(0,v+1),x=b.slice(w+1),C=[m,1];_&&C.push(_);var $=new r(s,d?n.tokenize(g,d):g,f);C.push($),x&&C.push(x),Array.prototype.splice.apply(a,C)}}}}}return a},hooks:{all:{},add:function(e,t){var o=n.hooks.all;o[e]=o[e]||[],o[e].push(t)},run:function(e,t){var o=n.hooks.all[e];if(o&&o.length)for(var r,a=0;r=o[a++];)r(t)}}},o=n.Token=function(e,t,n){this.type=e,this.content=t,this.alias=n};if(o.stringify=function(e,t,r){if("string"==typeof e)return e;if("Array"===n.util.type(e))return e.map(function(n){return o.stringify(n,t,e)}).join("");var a={type:e.type,content:o.stringify(e.content,t,r),tag:"span",classes:["token",e.type],attributes:{},language:t,parent:r};if("comment"==a.type&&(a.attributes.spellcheck="true"),e.alias){var i="Array"===n.util.type(e.alias)?e.alias:[e.alias];Array.prototype.push.apply(a.classes,i)}n.hooks.run("wrap",a);var s="";for(var l in a.attributes)s+=(s?" ":"")+l+'="'+(a.attributes[l]||"")+'"';return"<"+a.tag+' class="'+a.classes.join(" ")+'" '+s+">"+a.content+"</"+a.tag+">"},!_self.document)return _self.addEventListener?(_self.addEventListener("message",function(e){var t=JSON.parse(e.data),o=t.language,r=t.code,a=t.immediateClose;_self.postMessage(n.highlight(r,n.languages[o],o)),a&&_self.close()},!1),_self.Prism):_self.Prism;var r=document.currentScript||[].slice.call(document.getElementsByTagName("script")).pop();return r&&(n.filename=r.src,document.addEventListener&&!r.hasAttribute("data-manual")&&document.addEventListener("DOMContentLoaded",n.highlightAll)),_self.Prism}();"undefined"!=typeof module&&module.exports&&(module.exports=Prism),"undefined"!=typeof global&&(global.Prism=Prism),Prism.languages.markup={comment:/<!--[\w\W]*?-->/,prolog:/<\?[\w\W]+?\?>/,doctype:/<!DOCTYPE[\w\W]+?>/,cdata:/<!\[CDATA\[[\w\W]*?]]>/i,tag:{pattern:/<\/?(?!\d)[^\s>\/=.$<]+(?:\s+[^\s>\/=]+(?:=(?:("|')(?:\\\1|\\?(?!\1)[\w\W])*\1|[^\s'">=]+))?)*\s*\/?>/i,inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=(?:('|")[\w\W]*?(\1)|[^\s>]+)/i,inside:{punctuation:/[=>"']/}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:/&#?[\da-z]{1,8};/i},Prism.hooks.add("wrap",function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))}),Prism.languages.xml=Prism.languages.markup,Prism.languages.html=Prism.languages.markup,Prism.languages.mathml=Prism.languages.markup,Prism.languages.svg=Prism.languages.markup,Prism.languages.css={comment:/\/\*[\w\W]*?\*\//,atrule:{pattern:/@[\w-]+?.*?(;|(?=\s*\{))/i,inside:{rule:/@[\w-]+/}},url:/url\((?:(["'])(\\(?:\r\n|[\w\W])|(?!\1)[^\\\r\n])*\1|.*?)\)/i,selector:/[^\{\}\s][^\{\};]*?(?=\s*\{)/,string:/("|')(\\(?:\r\n|[\w\W])|(?!\1)[^\\\r\n])*\1/,property:/(\b|\B)[\w-]+(?=\s*:)/i,important:/\B!important\b/i,"function":/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:]/},Prism.languages.css.atrule.inside.rest=Prism.util.clone(Prism.languages.css),Prism.languages.markup&&(Prism.languages.insertBefore("markup","tag",{style:{pattern:/(<style[\w\W]*?>)[\w\W]*?(?=<\/style>)/i,lookbehind:!0,inside:Prism.languages.css,alias:"language-css"}}),Prism.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/\s*style=("|').*?\1/i,inside:{"attr-name":{pattern:/^\s*style/i,inside:Prism.languages.markup.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/i,inside:Prism.languages.css}},alias:"language-css"}},Prism.languages.markup.tag)),Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\w\W]*?\*\//,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0}],string:/(["'])(\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[a-z0-9_\.\\]+/i,lookbehind:!0,inside:{punctuation:/(\.|\\)/}},keyword:/\b(if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,"boolean":/\b(true|false)\b/,"function":/[a-z0-9_]+(?=\()/i,number:/\b-?(?:0x[\da-f]+|\d*\.?\d+(?:e[+-]?\d+)?)\b/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/},Prism.languages.javascript=Prism.languages.extend("clike",{keyword:/\b(as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|var|void|while|with|yield)\b/,number:/\b-?(0x[\dA-Fa-f]+|0b[01]+|0o[0-7]+|\d*\.?\d+([Ee][+-]?\d+)?|NaN|Infinity)\b/,"function":/[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*(?=\()/i}),Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:/(^|[^\/])\/(?!\/)(\[.+?]|\\.|[^\/\\\r\n])+\/[gimyu]{0,5}(?=\s*($|[\r\n,.;})]))/,lookbehind:!0}}),Prism.languages.insertBefore("javascript","class-name",{"template-string":{pattern:/`(?:\\`|\\?[^`])*`/,inside:{interpolation:{pattern:/\$\{[^}]+\}/,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}}}),Prism.languages.markup&&Prism.languages.insertBefore("markup","tag",{script:{pattern:/(<script[\w\W]*?>)[\w\W]*?(?=<\/script>)/i,lookbehind:!0,inside:Prism.languages.javascript,alias:"language-javascript"}}),Prism.languages.js=Prism.languages.javascript,function(){"undefined"!=typeof self&&self.Prism&&self.document&&document.querySelector&&(self.Prism.fileHighlight=function(){var e={js:"javascript",html:"markup",svg:"markup",xml:"markup",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell"};Array.prototype.forEach&&Array.prototype.slice.call(document.querySelectorAll("pre[data-src]")).forEach(function(t){for(var n,o=t.getAttribute("data-src"),r=t,a=/\blang(?:uage)?-(?!\*)(\w+)\b/i;r&&!a.test(r.className);)r=r.parentNode;if(r&&(n=(t.className.match(a)||[,""])[1]),!n){var i=(o.match(/\.(\w+)$/)||[,""])[1];n=e[i]||i}var s=document.createElement("code");s.className="language-"+n,t.textContent="",s.textContent="Loading…",t.appendChild(s);var l=new XMLHttpRequest;l.open("GET",o,!0),l.onreadystatechange=function(){4==l.readyState&&(l.status<400&&l.responseText?(s.textContent=l.responseText,Prism.highlightElement(s)):l.status>=400?s.textContent="✖ Error "+l.status+" while fetching file: "+l.statusText:s.textContent="✖ Error: File does not exist or is empty")},l.send(null)})},document.addEventListener("DOMContentLoaded",self.Prism.fileHighlight))}(),function(){"undefined"!=typeof self&&self.Prism&&self.document&&Prism.hooks.add("complete",function(e){if(e.code){var t=e.element.parentNode,n=/\s*\bline-numbers\b\s*/;if(t&&/pre/i.test(t.nodeName)&&(n.test(t.className)||n.test(e.element.className))&&!e.element.querySelector(".line-numbers-rows")){n.test(e.element.className)&&(e.element.className=e.element.className.replace(n,"")),n.test(t.className)||(t.className+=" line-numbers");var o,r=e.code.match(/\n(?!$)/g),a=r?r.length+1:1,i=new Array(a+1);i=i.join("<span></span>"),o=document.createElement("span"),o.className="line-numbers-rows",o.innerHTML=i,t.hasAttribute("data-start")&&(t.style.counterReset="linenumber "+(parseInt(t.getAttribute("data-start"),10)-1)),e.element.appendChild(o)}}})}(),function(){function e(e,t){if(e!==t){var n=null===e,o=e===w,r=e===e,a=null===t,i=t===w,s=t===t;if(e>t&&!a||!r||n&&!i&&s||o&&s)return 1;if(t>e&&!n||!s||a&&!o&&r||i&&r)return-1}return 0}function t(e,t,n){for(var o=e.length,r=n?o:-1;n?r--:++r<o;)if(t(e[r],r,e))return r;return-1}function n(e,t,n){if(t!==t)return p(e,n);n-=1;for(var o=e.length;++n<o;)if(e[n]===t)return n;return-1}function o(e){return"function"==typeof e||!1}function r(e){return null==e?"":e+""}function a(e,t){for(var n=-1,o=e.length;++n<o&&-1<t.indexOf(e.charAt(n)););return n}function i(e,t){for(var n=e.length;n--&&-1<t.indexOf(e.charAt(n)););return n}function s(t,n){return e(t.a,n.a)||t.b-n.b}function l(e){return je[e]}function c(e){return Re[e]}function u(e,t,n){return t?e=Me[e]:n&&(e=Be[e]),"\\"+e}function d(e){return"\\"+Be[e]}function p(e,t,n){var o=e.length;for(t+=n?0:-1;n?t--:++t<o;){var r=e[t];if(r!==r)return t}return-1}function h(e){return!!e&&"object"==typeof e}function f(e){return 160>=e&&e>=9&&13>=e||32==e||160==e||5760==e||6158==e||e>=8192&&(8202>=e||8232==e||8233==e||8239==e||8287==e||12288==e||65279==e)}function m(e,t){for(var n=-1,o=e.length,r=-1,a=[];++n<o;)e[n]===t&&(e[n]=M,a[++r]=n);return a}function b(e){for(var t=-1,n=e.length;++t<n&&f(e.charCodeAt(t)););return t}function g(e){for(var t=e.length;t--&&f(e.charCodeAt(t)););return t}function v(e){return Le[e]}function y(f){function je(e){if(h(e)&&!(Sa(e)||e instanceof Ne)){if(e instanceof Le)return e;if(tr.call(e,"__chain__")&&tr.call(e,"__wrapped__"))return Un(e)}return new Le(e)}function Re(){}function Le(e,t,n){this.__wrapped__=e,this.__actions__=n||[],this.__chain__=!!t}function Ne(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Sr,this.__views__=[]}function Me(){this.__data__={}}function Be(e){var t=e?e.length:0;for(this.data={hash:gr(null),set:new dr};t--;)this.push(e[t])}function Fe(e,t){var n=e.data;return("string"==typeof t||go(t)?n.set.has(t):n.hash[t])?0:-1}function Ue(e,t){var n=-1,o=e.length;for(t||(t=Fo(o));++n<o;)t[n]=e[n];return t}function Ve(e,t){for(var n=-1,o=e.length;++n<o&&!1!==t(e[n],n,e););return e}function ze(e,t){for(var n=-1,o=e.length;++n<o;)if(!t(e[n],n,e))return!1;return!0}function We(e,t){for(var n=-1,o=e.length,r=-1,a=[];++n<o;){var i=e[n];t(i,n,e)&&(a[++r]=i)}return a}function Ge(e,t){for(var n=-1,o=e.length,r=Fo(o);++n<o;)r[n]=t(e[n],n,e);return r}function Ye(e,t){for(var n=-1,o=t.length,r=e.length;++n<o;)e[r+n]=t[n];return e}function Xe(e,t,n,o){var r=-1,a=e.length;for(o&&a&&(n=e[++r]);++r<a;)n=t(n,e[r],r,e);return n}function Ze(e,t){for(var n=-1,o=e.length;++n<o;)if(t(e[n],n,e))return!0;return!1}function Je(e,t,n,o){return e!==w&&tr.call(o,n)?e:t}function Qe(e,t,n){for(var o=-1,r=Ma(t),a=r.length;++o<a;){var i=r[o],s=e[i],l=n(s,t[i],i,e,t);(l===l?l===s:s!==s)&&(s!==w||i in e)||(e[i]=l)}return e}function et(e,t){return null==t?e:nt(t,Ma(t),e)}function tt(e,t){for(var n=-1,o=null==e,r=!o&&An(e),a=r?e.length:0,i=t.length,s=Fo(i);++n<i;){var l=t[n];s[n]=r?In(l,a)?e[l]:w:o?w:e[l]}return s}function nt(e,t,n){n||(n={});for(var o=-1,r=t.length;++o<r;){var a=t[o];n[a]=e[a]}return n}function ot(e,t,n){var o=typeof e;return"function"==o?t===w?e:Mt(e,t,n):null==e?Ro:"object"==o?wt(e):t===w?Bo(e):_t(e,t)}function rt(e,t,n,o,r,a,i){var s;if(n&&(s=r?n(e,o,r):n(e)),s!==w)return s;if(!go(e))return e;if(o=Sa(e)){if(s=qn(e),!t)return Ue(e,s)}else{var l=or.call(e),c=l==W;if(l!=K&&l!=B&&(!c||r))return Oe[l]?Tn(e,l,t):r?e:{};if(s=En(c?{}:e),!t)return et(s,e)}for(a||(a=[]),i||(i=[]),r=a.length;r--;)if(a[r]==e)return i[r];return a.push(e),i.push(s),(o?Ve:ht)(e,function(o,r){s[r]=rt(o,t,n,r,e,a,i)}),s}function at(e,t,n){if("function"!=typeof e)throw new Xo(N);return pr(function(){e.apply(w,n)},t)}function it(e,t){var o=e?e.length:0,r=[];if(!o)return r;var a=-1,i=xn(),s=i===n,l=s&&t.length>=j&&gr&&dr?new Be(t):null,c=t.length;l&&(i=Fe,s=!1,t=l);e:for(;++a<o;)if(l=e[a],s&&l===l){for(var u=c;u--;)if(t[u]===l)continue e;r.push(l)}else 0>i(t,l,0)&&r.push(l);return r}function st(e,t){var n=!0;return jr(e,function(e,o,r){return n=!!t(e,o,r)}),n}function lt(e,t,n,o){var r=o,a=r;return jr(e,function(e,i,s){i=+t(e,i,s),(n(i,r)||i===o&&i===a)&&(r=i,a=e)}),a}function ct(e,t){var n=[];return jr(e,function(e,o,r){t(e,o,r)&&n.push(e)}),n}function ut(e,t,n,o){var r;return n(e,function(e,n,a){return t(e,n,a)?(r=o?n:e,!1):void 0}),r}function dt(e,t,n,o){o||(o=[]);for(var r=-1,a=e.length;++r<a;){var i=e[r];h(i)&&An(i)&&(n||Sa(i)||ho(i))?t?dt(i,t,n,o):Ye(o,i):n||(o[o.length]=i)}return o}function pt(e,t){Lr(e,t,So)}function ht(e,t){return Lr(e,t,Ma)}function ft(e,t){return Nr(e,t,Ma)}function mt(e,t){for(var n=-1,o=t.length,r=-1,a=[];++n<o;){var i=t[n];bo(e[i])&&(a[++r]=i)}return a}function bt(e,t,n){if(null!=e){n!==w&&n in Bn(e)&&(t=[n]),n=0;for(var o=t.length;null!=e&&o>n;)e=e[t[n++]];return n&&n==o?e:w}}function gt(e,t,n,o,r,a){if(e===t)e=!0;else if(null==e||null==t||!go(e)&&!h(t))e=e!==e&&t!==t;else e:{var i=gt,s=Sa(e),l=Sa(t),c=F,u=F;s||(c=or.call(e),c==B?c=K:c!=K&&(s=Co(e))),l||(u=or.call(t),u==B?u=K:u!=K&&Co(t));var d=c==K,l=u==K,u=c==u;if(!u||s||d){if(!o&&(c=d&&tr.call(e,"__wrapped__"),l=l&&tr.call(t,"__wrapped__"),c||l)){e=i(c?e.value():e,l?t.value():t,n,o,r,a);break e}if(u){for(r||(r=[]),a||(a=[]),c=r.length;c--;)if(r[c]==e){e=a[c]==t;break e}r.push(e),a.push(t),e=(s?gn:yn)(e,t,i,n,o,r,a),r.pop(),a.pop()}else e=!1}else e=vn(e,t,c)}return e}function vt(e,t,n){var o=t.length,r=o,a=!n;if(null==e)return!r;for(e=Bn(e);o--;){var i=t[o];if(a&&i[2]?i[1]!==e[i[0]]:!(i[0]in e))return!1}for(;++o<r;){var i=t[o],s=i[0],l=e[s],c=i[1];if(a&&i[2]){if(l===w&&!(s in e))return!1}else if(i=n?n(l,c,s):w,i===w?!gt(c,l,n,!0):!i)return!1}return!0}function yt(e,t){var n=-1,o=An(e)?Fo(e.length):[];return jr(e,function(e,r,a){o[++n]=t(e,r,a)}),o}function wt(e){var t=Cn(e);if(1==t.length&&t[0][2]){var n=t[0][0],o=t[0][1];return function(e){return null==e?!1:e[n]===o&&(o!==w||n in Bn(e))}}return function(e){return vt(e,t)}}function _t(e,t){var n=Sa(e),o=Pn(e)&&t===t&&!go(t),r=e+"";return e=Fn(e),function(a){if(null==a)return!1;var i=r;if(a=Bn(a),!(!n&&o||i in a)){if(a=1==e.length?a:bt(a,St(e,0,-1)),null==a)return!1;i=Kn(e),a=Bn(a)}return a[i]===t?t!==w||i in a:gt(t,a[i],w,!0)}}function xt(e,t,n,o,r){if(!go(e))return e;var a=An(t)&&(Sa(t)||Co(t)),i=a?w:Ma(t);return Ve(i||t,function(s,l){if(i&&(l=s,s=t[l]),h(s)){o||(o=[]),r||(r=[]);e:{for(var c=l,u=o,d=r,p=u.length,f=t[c];p--;)if(u[p]==f){e[c]=d[p];break e}var p=e[c],m=n?n(p,f,c,e,t):w,b=m===w;b&&(m=f,An(f)&&(Sa(f)||Co(f))?m=Sa(p)?p:An(p)?Ue(p):[]:wo(f)||ho(f)?m=ho(p)?Eo(p):wo(p)?p:{}:b=!1),u.push(f),d.push(m),b?e[c]=xt(m,f,n,u,d):(m===m?m!==p:p===p)&&(e[c]=m)}}else c=e[l],u=n?n(c,s,l,e,t):w,(d=u===w)&&(u=s),u===w&&(!a||l in e)||!d&&(u===u?u===c:c!==c)||(e[l]=u)}),e}function Ct(e){return function(t){return null==t?w:t[e]}}function $t(e){var t=e+"";return e=Fn(e),function(n){return bt(n,e,t)}}function qt(e,t){for(var n=e?t.length:0;n--;){var o=t[n];if(o!=r&&In(o)){var r=o;hr.call(e,o,1)}}}function Et(e,t){return e+vr(Er()*(t-e+1))}function Tt(e,t,n,o,r){return r(e,function(e,r,a){n=o?(o=!1,e):t(n,e,r,a)}),n}function St(e,t,n){var o=-1,r=e.length;for(t=null==t?0:+t||0,0>t&&(t=-t>r?0:r+t),n=n===w||n>r?r:+n||0,0>n&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0,n=Fo(r);++o<r;)n[o]=e[o+t];return n}function At(e,t){var n;return jr(e,function(e,o,r){return n=t(e,o,r),!n}),!!n}function It(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].c;return e}function Dt(t,n,o){var r=wn(),a=-1;return n=Ge(n,function(e){return r(e)}),t=yt(t,function(e){return{a:Ge(n,function(t){return t(e)}),b:++a,c:e}}),It(t,function(t,n){var r;e:{for(var a=-1,i=t.a,s=n.a,l=i.length,c=o.length;++a<l;)if(r=e(i[a],s[a])){if(a>=c)break e;a=o[a],r*="asc"===a||!0===a?1:-1;break e}r=t.b-n.b}return r})}function Pt(e,t){var n=0;return jr(e,function(e,o,r){n+=+t(e,o,r)||0}),n}function kt(e,t){var o=-1,r=xn(),a=e.length,i=r===n,s=i&&a>=j,l=s&&gr&&dr?new Be(void 0):null,c=[];l?(r=Fe,i=!1):(s=!1,l=t?[]:c);e:for(;++o<a;){var u=e[o],d=t?t(u,o,e):u;if(i&&u===u){for(var p=l.length;p--;)if(l[p]===d)continue e;t&&l.push(d),c.push(u)}else 0>r(l,d,0)&&((t||s)&&l.push(d),c.push(u))}return c}function Ot(e,t){for(var n=-1,o=t.length,r=Fo(o);++n<o;)r[n]=e[t[n]];return r}function jt(e,t,n,o){for(var r=e.length,a=o?r:-1;(o?a--:++a<r)&&t(e[a],a,e););return n?St(e,o?0:a,o?a+1:r):St(e,o?a+1:0,o?r:a)}function Rt(e,t){var n=e;n instanceof Ne&&(n=n.value());for(var o=-1,r=t.length;++o<r;)var a=t[o],n=a.func.apply(a.thisArg,Ye([n],a.args));return n}function Lt(e,t,n){var o=0,r=e?e.length:o;if("number"==typeof t&&t===t&&Ir>=r){for(;r>o;){var a=o+r>>>1,i=e[a];(n?t>=i:t>i)&&null!==i?o=a+1:r=a}return r}return Nt(e,t,Ro,n)}function Nt(e,t,n,o){t=n(t);for(var r=0,a=e?e.length:0,i=t!==t,s=null===t,l=t===w;a>r;){var c=vr((r+a)/2),u=n(e[c]),d=u!==w,p=u===u;(i?p||o:s?p&&d&&(o||null!=u):l?p&&(o||d):null==u?0:o?t>=u:t>u)?r=c+1:a=c}return Cr(a,Ar)}function Mt(e,t,n){if("function"!=typeof e)return Ro;if(t===w)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,o,r){return e.call(t,n,o,r)};case 4:return function(n,o,r,a){return e.call(t,n,o,r,a)};case 5:return function(n,o,r,a,i){return e.call(t,n,o,r,a,i)}}return function(){return e.apply(t,arguments)}}function Bt(e){var t=new ir(e.byteLength);return new fr(t).set(new fr(e)),t}function Ft(e,t,n){for(var o=n.length,r=-1,a=xr(e.length-o,0),i=-1,s=t.length,l=Fo(s+a);++i<s;)l[i]=t[i];for(;++r<o;)l[n[r]]=e[r];for(;a--;)l[i++]=e[r++];return l}function Ut(e,t,n){for(var o=-1,r=n.length,a=-1,i=xr(e.length-r,0),s=-1,l=t.length,c=Fo(i+l);++a<i;)c[a]=e[a];for(i=a;++s<l;)c[i+s]=t[s];for(;++o<r;)c[i+n[o]]=e[a++];return c}function Vt(e,t){return function(n,o,r){var a=t?t():{};if(o=wn(o,r,3),Sa(n)){r=-1;for(var i=n.length;++r<i;){var s=n[r];e(a,s,o(s,r,n),n)}}else jr(n,function(t,n,r){e(a,t,o(t,n,r),r)});return a}}function zt(e){return uo(function(t,n){var o=-1,r=null==t?0:n.length,a=r>2?n[r-2]:w,i=r>2?n[2]:w,s=r>1?n[r-1]:w;for("function"==typeof a?(a=Mt(a,s,5),r-=2):(a="function"==typeof s?s:w,r-=a?1:0),i&&Dn(n[0],n[1],i)&&(a=3>r?w:a,r=1);++o<r;)(i=n[o])&&e(t,i,a);return t})}function Wt(e,t){return function(n,o){var r=n?Fr(n):0;if(!On(r))return e(n,o);for(var a=t?r:-1,i=Bn(n);(t?a--:++a<r)&&!1!==o(i[a],a,i););return n}}function Ht(e){return function(t,n,o){var r=Bn(t);o=o(t);for(var a=o.length,i=e?a:-1;e?i--:++i<a;){var s=o[i];if(!1===n(r[s],s,r))break}return t}}function Kt(e,t){function n(){return(this&&this!==He&&this instanceof n?o:e).apply(t,arguments)}var o=Yt(e);return n}function Gt(e){return function(t){var n=-1;t=Oo(Do(t));for(var o=t.length,r="";++n<o;)r=e(r,t[n],n);return r}}function Yt(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Or(e.prototype),t=e.apply(n,t);return go(t)?t:n}}function Xt(e){function t(n,o,r){return r&&Dn(n,o,r)&&(o=w),n=bn(n,e,w,w,w,w,w,o),n.placeholder=t.placeholder,n}return t}function Zt(e,t){return uo(function(n){var o=n[0];return null==o?o:(n.push(t),e.apply(w,n))})}function Jt(e,t){return function(n,o,r){if(r&&Dn(n,o,r)&&(o=w),o=wn(o,r,3),1==o.length){r=n=Sa(n)?n:Mn(n);for(var a=o,i=-1,s=r.length,l=t,c=l;++i<s;){var u=r[i],d=+a(u);e(d,l)&&(l=d,c=u)}if(r=c,!n.length||r!==t)return r}return lt(n,o,e,t)}}function Qt(e,n){return function(o,r,a){return r=wn(r,a,3),Sa(o)?(r=t(o,r,n),r>-1?o[r]:w):ut(o,r,e)}}function en(e){return function(n,o,r){return n&&n.length?(o=wn(o,r,3),t(n,o,e)):-1}}function tn(e){return function(t,n,o){return n=wn(n,o,3),ut(t,n,e,!0)}}function nn(e){return function(){for(var t,n=arguments.length,o=e?n:-1,r=0,a=Fo(n);e?o--:++o<n;){var i=a[r++]=arguments[o];if("function"!=typeof i)throw new Xo(N);!t&&Le.prototype.thru&&"wrapper"==_n(i)&&(t=new Le([],!0))}for(o=t?-1:n;++o<n;){var i=a[o],r=_n(i),s="wrapper"==r?Br(i):w;t=s&&kn(s[0])&&s[1]==(A|q|T|I)&&!s[4].length&&1==s[9]?t[_n(s[0])].apply(t,s[3]):1==i.length&&kn(i)?t[r]():t.thru(i)}return function(){var e=arguments,o=e[0];if(t&&1==e.length&&Sa(o)&&o.length>=j)return t.plant(o).value();for(var r=0,e=n?a[r].apply(this,e):o;++r<n;)e=a[r].call(this,e);return e}}}function on(e,t){return function(n,o,r){return"function"==typeof o&&r===w&&Sa(n)?e(n,o):t(n,Mt(o,r,3))}}function rn(e){return function(t,n,o){return("function"!=typeof n||o!==w)&&(n=Mt(n,o,3)),e(t,n,So)}}function an(e){return function(t,n,o){return("function"!=typeof n||o!==w)&&(n=Mt(n,o,3)),e(t,n)}}function sn(e){return function(t,n,o){var r={};return n=wn(n,o,3),ht(t,function(t,o,a){a=n(t,o,a),o=e?a:o,t=e?t:a,r[o]=t}),r}}function ln(e){return function(t,n,o){return t=r(t),(e?t:"")+pn(t,n,o)+(e?"":t)}}function cn(e){var t=uo(function(n,o){var r=m(o,t.placeholder);return bn(n,e,w,o,r)});return t}function un(e,t){return function(n,o,r,a){var i=3>arguments.length;return"function"==typeof o&&a===w&&Sa(n)?e(n,o,r,i):Tt(n,wn(o,a,4),r,i,t)}}function dn(e,t,n,o,r,a,i,s,l,c){function u(){for(var y=arguments.length,_=y,$=Fo(y);_--;)$[_]=arguments[_];if(o&&($=Ft($,o,r)),a&&($=Ut($,a,i)),f||g){var _=u.placeholder,q=m($,_),y=y-q.length;if(c>y){var E=s?Ue(s):w,y=xr(c-y,0),A=f?q:w,q=f?w:q,I=f?$:w,$=f?w:$;return t|=f?T:S,t&=~(f?S:T),b||(t&=~(x|C)),$=[e,t,n,I,A,$,q,E,l,y],E=dn.apply(w,$),kn(e)&&Ur(E,$),E.placeholder=_,E}}if(_=p?n:this,E=h?_[e]:e,s)for(y=$.length,A=Cr(s.length,y),q=Ue($);A--;)I=s[A],$[A]=In(I,y)?q[I]:w;return d&&l<$.length&&($.length=l),this&&this!==He&&this instanceof u&&(E=v||Yt(e)),E.apply(_,$)}var d=t&A,p=t&x,h=t&C,f=t&q,b=t&$,g=t&E,v=h?w:Yt(e);return u}function pn(e,t,n){return e=e.length,t=+t,t>e&&wr(t)?(t-=e,n=null==n?" ":n+"",Po(n,br(t/n.length)).slice(0,t)):""}function hn(e,t,n,o){function r(){for(var t=-1,s=arguments.length,l=-1,c=o.length,u=Fo(c+s);++l<c;)u[l]=o[l];for(;s--;)u[l++]=arguments[++t];return(this&&this!==He&&this instanceof r?i:e).apply(a?n:this,u)}var a=t&x,i=Yt(e);return r}function fn(e){var t=Wo[e];return function(e,n){return(n=n===w?0:+n||0)?(n=cr(10,n),t(e*n)/n):t(e)}}function mn(e){return function(t,n,o,r){var a=wn(o);return null==o&&a===ot?Lt(t,n,e):Nt(t,n,a(o,r,1),e)}}function bn(e,t,n,o,r,a,i,s){var l=t&C;if(!l&&"function"!=typeof e)throw new Xo(N);var c=o?o.length:0;if(c||(t&=~(T|S),o=r=w),c-=r?r.length:0,t&S){var u=o,d=r;o=r=w}var p=l?w:Br(e);return n=[e,t,n,o,r,u,d,a,i,s],p&&(o=n[1],t=p[1],s=o|t,r=t==A&&o==q||t==A&&o==I&&n[7].length<=p[8]||t==(A|I)&&o==q,(A>s||r)&&(t&x&&(n[2]=p[2],s|=o&x?0:$),(o=p[3])&&(r=n[3],n[3]=r?Ft(r,o,p[4]):Ue(o),n[4]=r?m(n[3],M):Ue(p[4])),(o=p[5])&&(r=n[5],n[5]=r?Ut(r,o,p[6]):Ue(o),n[6]=r?m(n[5],M):Ue(p[6])),(o=p[7])&&(n[7]=Ue(o)),t&A&&(n[8]=null==n[8]?p[8]:Cr(n[8],p[8])),null==n[9]&&(n[9]=p[9]),n[0]=p[0],n[1]=s),t=n[1],s=n[9]),n[9]=null==s?l?0:e.length:xr(s-c,0)||0,(p?Mr:Ur)(t==x?Kt(n[0],n[2]):t!=T&&t!=(x|T)||n[4].length?dn.apply(w,n):hn.apply(w,n),n)}function gn(e,t,n,o,r,a,i){var s=-1,l=e.length,c=t.length;if(l!=c&&(!r||l>=c))return!1;for(;++s<l;){var u=e[s],c=t[s],d=o?o(r?c:u,r?u:c,s):w;if(d!==w){if(d)continue;return!1}if(r){if(!Ze(t,function(e){return u===e||n(u,e,o,r,a,i)}))return!1}else if(u!==c&&!n(u,c,o,r,a,i))return!1}return!0}function vn(e,t,n){switch(n){case U:case V:return+e==+t;case z:return e.name==t.name&&e.message==t.message;case H:return e!=+e?t!=+t:e==+t;case G:case Y:return e==t+""}return!1}function yn(e,t,n,o,r,a,i){var s=Ma(e),l=s.length,c=Ma(t).length;if(l!=c&&!r)return!1;for(c=l;c--;){var u=s[c];if(!(r?u in t:tr.call(t,u)))return!1}for(var d=r;++c<l;){var u=s[c],p=e[u],h=t[u],f=o?o(r?h:p,r?p:h,u):w;if(f===w?!n(p,h,o,r,a,i):!f)return!1;d||(d="constructor"==u)}return!(!d&&(n=e.constructor,o=t.constructor,n!=o&&"constructor"in e&&"constructor"in t&&!("function"==typeof n&&n instanceof n&&"function"==typeof o&&o instanceof o)))}function wn(e,t,n){var o=je.callback||jo,o=o===jo?ot:o;return n?o(e,t,n):o}function _n(e){for(var t=e.name+"",n=kr[t],o=n?n.length:0;o--;){var r=n[o],a=r.func;if(null==a||a==e)return r.name}return t}function xn(e,t,o){var r=je.indexOf||Hn,r=r===Hn?n:r;return e?r(e,t,o):r}function Cn(e){e=Ao(e);for(var t=e.length;t--;){var n=e[t][1];e[t][2]=n===n&&!go(n)}return e}function $n(e,t){var n=null==e?w:e[t];return vo(n)?n:w}function qn(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&tr.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function En(e){return e=e.constructor,"function"==typeof e&&e instanceof e||(e=Ko),new e}function Tn(e,t,n){var o=e.constructor;switch(t){case X:return Bt(e);case U:case V:return new o(+e);case Z:case J:case Q:case ee:case te:case ne:case oe:case re:case ae:return t=e.buffer,new o(n?Bt(t):t,e.byteOffset,e.length);case H:case Y:return new o(e);case G:var r=new o(e.source,$e.exec(e));r.lastIndex=e.lastIndex}return r}function Sn(e,t,n){return null==e||Pn(t,e)||(t=Fn(t),e=1==t.length?e:bt(e,St(t,0,-1)),t=Kn(t)),t=null==e?e:e[t],null==t?w:t.apply(e,n)}function An(e){return null!=e&&On(Fr(e))}function In(e,t){return e="number"==typeof e||Te.test(e)?+e:-1,t=null==t?Dr:t,e>-1&&0==e%1&&t>e}function Dn(e,t,n){if(!go(n))return!1;var o=typeof t;return("number"==o?An(n)&&In(t,n.length):"string"==o&&t in n)?(t=n[t],e===e?e===t:t!==t):!1}function Pn(e,t){var n=typeof e;return"string"==n&&ge.test(e)||"number"==n?!0:Sa(e)?!1:!be.test(e)||null!=t&&e in Bn(t)}function kn(e){var t=_n(e),n=je[t];return"function"==typeof n&&t in Ne.prototype?e===n?!0:(t=Br(n),!!t&&e===t[0]):!1}function On(e){return"number"==typeof e&&e>-1&&0==e%1&&Dr>=e}function jn(e,t){return e===w?t:Aa(e,t,jn)}function Rn(e,t){e=Bn(e);for(var n=-1,o=t.length,r={};++n<o;){var a=t[n];a in e&&(r[a]=e[a])}return r}function Ln(e,t){var n={};return pt(e,function(e,o,r){t(e,o,r)&&(n[o]=e)}),n}function Nn(e){for(var t=So(e),n=t.length,o=n&&e.length,r=!!o&&On(o)&&(Sa(e)||ho(e)),a=-1,i=[];++a<n;){var s=t[a];(r&&In(s,o)||tr.call(e,s))&&i.push(s)}return i}function Mn(e){return null==e?[]:An(e)?go(e)?e:Ko(e):Io(e)}function Bn(e){return go(e)?e:Ko(e)}function Fn(e){if(Sa(e))return e;var t=[];return r(e).replace(ve,function(e,n,o,r){t.push(o?r.replace(xe,"$1"):n||e)}),t}function Un(e){return e instanceof Ne?e.clone():new Le(e.__wrapped__,e.__chain__,Ue(e.__actions__))}function Vn(e,t,n){return e&&e.length?((n?Dn(e,t,n):null==t)&&(t=1),St(e,0>t?0:t)):[]}function zn(e,t,n){var o=e?e.length:0;return o?((n?Dn(e,t,n):null==t)&&(t=1),t=o-(+t||0),St(e,0,0>t?0:t)):[]}function Wn(e){return e?e[0]:w}function Hn(e,t,o){var r=e?e.length:0;if(!r)return-1;if("number"==typeof o)o=0>o?xr(r+o,0):o;else if(o)return o=Lt(e,t),r>o&&(t===t?t===e[o]:e[o]!==e[o])?o:-1;return n(e,t,o||0)}function Kn(e){var t=e?e.length:0;return t?e[t-1]:w}function Gn(e){return Vn(e,1)}function Yn(e,t,o,r){if(!e||!e.length)return[];null!=t&&"boolean"!=typeof t&&(r=o,o=Dn(e,t,r)?w:t,t=!1);var a=wn();if((null!=o||a!==ot)&&(o=a(o,r,3)),t&&xn()===n){t=o;var i;o=-1,r=e.length;for(var a=-1,s=[];++o<r;){var l=e[o],c=t?t(l,o,e):l;o&&i===c||(i=c,s[++a]=l)}e=s}else e=kt(e,o);return e}function Xn(e){if(!e||!e.length)return[];var t=-1,n=0;e=We(e,function(e){return An(e)?(n=xr(e.length,n),!0):void 0});for(var o=Fo(n);++t<n;)o[t]=Ge(e,Ct(t));return o}function Zn(e,t,n){return e&&e.length?(e=Xn(e),null==t?e:(t=Mt(t,n,4),Ge(e,function(e){return Xe(e,t,w,!0)}))):[]}function Jn(e,t){var n=-1,o=e?e.length:0,r={};for(!o||t||Sa(e[0])||(t=[]);++n<o;){var a=e[n];t?r[a]=t[n]:a&&(r[a[0]]=a[1])}return r}function Qn(e){return e=je(e),e.__chain__=!0,e}function eo(e,t,n){return t.call(n,e)}function to(e,t,n){var o=Sa(e)?ze:st;return n&&Dn(e,t,n)&&(t=w),("function"!=typeof t||n!==w)&&(t=wn(t,n,3)),o(e,t)}function no(e,t,n){var o=Sa(e)?We:ct;return t=wn(t,n,3),o(e,t)}function oo(e,t,n,o){var r=e?Fr(e):0;return On(r)||(e=Io(e),r=e.length),n="number"!=typeof n||o&&Dn(t,n,o)?0:0>n?xr(r+n,0):n||0,"string"==typeof e||!Sa(e)&&xo(e)?r>=n&&-1<e.indexOf(t,n):!!r&&-1<xn(e,t,n)}function ro(e,t,n){var o=Sa(e)?Ge:yt;return t=wn(t,n,3),o(e,t)}function ao(e,t,n){if(n?Dn(e,t,n):null==t){e=Mn(e);var o=e.length;return o>0?e[Et(0,o-1)]:w}n=-1,e=qo(e);var o=e.length,r=o-1;for(t=Cr(0>t?0:+t||0,o);++n<t;){var o=Et(n,r),a=e[o];e[o]=e[n],e[n]=a}return e.length=t,e}function io(e,t,n){var o=Sa(e)?Ze:At;return n&&Dn(e,t,n)&&(t=w),("function"!=typeof t||n!==w)&&(t=wn(t,n,3)),o(e,t)}function so(e,t){var n;if("function"!=typeof t){if("function"!=typeof e)throw new Xo(N);var o=e;e=t,t=o}return function(){return 0<--e&&(n=t.apply(this,arguments)),1>=e&&(t=w),n}}function lo(e,t,n){function o(t,n){n&&sr(n),l=p=h=w,t&&(f=fa(),c=e.apply(d,s),p||l||(s=d=w))}function r(){var e=t-(fa()-u);0>=e||e>t?o(h,l):p=pr(r,e)}function a(){o(b,p)}function i(){if(s=arguments,u=fa(),d=this,h=b&&(p||!g),!1===m)var n=g&&!p;else{l||g||(f=u);var o=m-(u-f),i=0>=o||o>m;i?(l&&(l=sr(l)),f=u,c=e.apply(d,s)):l||(l=pr(a,o))}return i&&p?p=sr(p):p||t===m||(p=pr(r,t)),n&&(i=!0,c=e.apply(d,s)),!i||p||l||(s=d=w),c}var s,l,c,u,d,p,h,f=0,m=!1,b=!0;if("function"!=typeof e)throw new Xo(N);if(t=0>t?0:+t||0,!0===n)var g=!0,b=!1;else go(n)&&(g=!!n.leading,m="maxWait"in n&&xr(+n.maxWait||0,t),b="trailing"in n?!!n.trailing:b);return i.cancel=function(){p&&sr(p),l&&sr(l),f=0,l=p=h=w},i}function co(e,t){function n(){var o=arguments,r=t?t.apply(this,o):o[0],a=n.cache;return a.has(r)?a.get(r):(o=e.apply(this,o),n.cache=a.set(r,o),o)}if("function"!=typeof e||t&&"function"!=typeof t)throw new Xo(N);return n.cache=new co.Cache,n}function uo(e,t){if("function"!=typeof e)throw new Xo(N);return t=xr(t===w?e.length-1:+t||0,0),function(){for(var n=arguments,o=-1,r=xr(n.length-t,0),a=Fo(r);++o<r;)a[o]=n[t+o];switch(t){case 0:return e.call(this,a);case 1:return e.call(this,n[0],a);case 2:return e.call(this,n[0],n[1],a)}for(r=Fo(t+1),o=-1;++o<t;)r[o]=n[o];return r[t]=a,e.apply(this,r)}}function po(e,t){return e>t}function ho(e){return h(e)&&An(e)&&tr.call(e,"callee")&&!ur.call(e,"callee")}function fo(e,t,n,o){return o=(n="function"==typeof n?Mt(n,o,3):w)?n(e,t):w,o===w?gt(e,t,n):!!o}function mo(e){return h(e)&&"string"==typeof e.message&&or.call(e)==z}function bo(e){return go(e)&&or.call(e)==W}function go(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function vo(e){return null==e?!1:bo(e)?ar.test(er.call(e)):h(e)&&Ee.test(e)}function yo(e){return"number"==typeof e||h(e)&&or.call(e)==H}function wo(e){var t;if(!h(e)||or.call(e)!=K||ho(e)||!(tr.call(e,"constructor")||(t=e.constructor,"function"!=typeof t||t instanceof t)))return!1;var n;return pt(e,function(e,t){n=t}),n===w||tr.call(e,n)}function _o(e){return go(e)&&or.call(e)==G}function xo(e){return"string"==typeof e||h(e)&&or.call(e)==Y}function Co(e){return h(e)&&On(e.length)&&!!ke[or.call(e)]}function $o(e,t){return t>e}function qo(e){var t=e?Fr(e):0;return On(t)?t?Ue(e):[]:Io(e)}function Eo(e){return nt(e,So(e))}function To(e){return mt(e,So(e))}function So(e){if(null==e)return[];go(e)||(e=Ko(e));for(var t=e.length,t=t&&On(t)&&(Sa(e)||ho(e))&&t||0,n=e.constructor,o=-1,n="function"==typeof n&&n.prototype===e,r=Fo(t),a=t>0;++o<t;)r[o]=o+"";for(var i in e)a&&In(i,t)||"constructor"==i&&(n||!tr.call(e,i))||r.push(i);return r}function Ao(e){e=Bn(e);for(var t=-1,n=Ma(e),o=n.length,r=Fo(o);++t<o;){var a=n[t];r[t]=[a,e[a]]}return r}function Io(e){return Ot(e,Ma(e))}function Do(e){return(e=r(e))&&e.replace(Se,l).replace(_e,"")}function Po(e,t){var n="";if(e=r(e),t=+t,1>t||!e||!wr(t))return n;do t%2&&(n+=e),t=vr(t/2),e+=e;while(t);return n}function ko(e,t,n){var o=e;return(e=r(e))?(n?Dn(o,t,n):null==t)?e.slice(b(e),g(e)+1):(t+="",e.slice(a(e,t),i(e,t)+1)):e}function Oo(e,t,n){return n&&Dn(e,t,n)&&(t=w),e=r(e),e.match(t||De)||[]}function jo(e,t,n){return n&&Dn(e,t,n)&&(t=w),h(e)?Lo(e):ot(e,t)}function Ro(e){return e}function Lo(e){return wt(rt(e,!0))}function No(e,t,n){if(null==n){var o=go(t),r=o?Ma(t):w;((r=r&&r.length?mt(t,r):w)?r.length:o)||(r=!1,n=t,t=e,e=this)}r||(r=mt(t,Ma(t)));var a=!0,o=-1,i=bo(e),s=r.length;!1===n?a=!1:go(n)&&"chain"in n&&(a=n.chain);for(;++o<s;){n=r[o];var l=t[n];e[n]=l,i&&(e.prototype[n]=function(t){return function(){var n=this.__chain__;if(a||n){var o=e(this.__wrapped__);return(o.__actions__=Ue(this.__actions__)).push({func:t,args:arguments,thisArg:e}),o.__chain__=n,o}return t.apply(e,Ye([this.value()],arguments))}}(l))}return e}function Mo(){}function Bo(e){return Pn(e)?Ct(e):$t(e)}f=f?Ke.defaults(He.Object(),f,Ke.pick(He,Pe)):He;var Fo=f.Array,Uo=f.Date,Vo=f.Error,zo=f.Function,Wo=f.Math,Ho=f.Number,Ko=f.Object,Go=f.RegExp,Yo=f.String,Xo=f.TypeError,Zo=Fo.prototype,Jo=Ko.prototype,Qo=Yo.prototype,er=zo.prototype.toString,tr=Jo.hasOwnProperty,nr=0,or=Jo.toString,rr=He._,ar=Go("^"+er.call(tr).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ir=f.ArrayBuffer,sr=f.clearTimeout,lr=f.parseFloat,cr=Wo.pow,ur=Jo.propertyIsEnumerable,dr=$n(f,"Set"),pr=f.setTimeout,hr=Zo.splice,fr=f.Uint8Array,mr=$n(f,"WeakMap"),br=Wo.ceil,gr=$n(Ko,"create"),vr=Wo.floor,yr=$n(Fo,"isArray"),wr=f.isFinite,_r=$n(Ko,"keys"),xr=Wo.max,Cr=Wo.min,$r=$n(Uo,"now"),qr=f.parseInt,Er=Wo.random,Tr=Ho.NEGATIVE_INFINITY,Sr=Ho.POSITIVE_INFINITY,Ar=4294967294,Ir=2147483647,Dr=9007199254740991,Pr=mr&&new mr,kr={};
je.support={},je.templateSettings={escape:he,evaluate:fe,interpolate:me,variable:"",imports:{_:je}};var Or=function(){function e(){}return function(t){if(go(t)){e.prototype=t;var n=new e;e.prototype=w}return n||{}}}(),jr=Wt(ht),Rr=Wt(ft,!0),Lr=Ht(),Nr=Ht(!0),Mr=Pr?function(e,t){return Pr.set(e,t),e}:Ro,Br=Pr?function(e){return Pr.get(e)}:Mo,Fr=Ct("length"),Ur=function(){var e=0,t=0;return function(n,o){var r=fa(),a=O-(r-t);if(t=r,a>0){if(++e>=k)return n}else e=0;return Mr(n,o)}}(),Vr=uo(function(e,t){return h(e)&&An(e)?it(e,dt(t,!1,!0)):[]}),zr=en(),Wr=en(!0),Hr=uo(function(e){for(var t=e.length,o=t,r=Fo(u),a=xn(),i=a===n,s=[];o--;){var l=e[o]=An(l=e[o])?l:[];r[o]=i&&120<=l.length&&gr&&dr?new Be(o&&l):null}var i=e[0],c=-1,u=i?i.length:0,d=r[0];e:for(;++c<u;)if(l=i[c],0>(d?Fe(d,l):a(s,l,0))){for(o=t;--o;){var p=r[o];if(0>(p?Fe(p,l):a(e[o],l,0)))continue e}d&&d.push(l),s.push(l)}return s}),Kr=uo(function(t,n){n=dt(n);var o=tt(t,n);return qt(t,n.sort(e)),o}),Gr=mn(),Yr=mn(!0),Xr=uo(function(e){return kt(dt(e,!1,!0))}),Zr=uo(function(e,t){return An(e)?it(e,t):[]}),Jr=uo(Xn),Qr=uo(function(e){var t=e.length,n=t>2?e[t-2]:w,o=t>1?e[t-1]:w;return t>2&&"function"==typeof n?t-=2:(n=t>1&&"function"==typeof o?(--t,o):w,o=w),e.length=t,Zn(e,n,o)}),ea=uo(function(e){return e=dt(e),this.thru(function(t){t=Sa(t)?t:[Bn(t)];for(var n=e,o=-1,r=t.length,a=-1,i=n.length,s=Fo(r+i);++o<r;)s[o]=t[o];for(;++a<i;)s[o++]=n[a];return s})}),ta=uo(function(e,t){return tt(e,dt(t))}),na=Vt(function(e,t,n){tr.call(e,n)?++e[n]:e[n]=1}),oa=Qt(jr),ra=Qt(Rr,!0),aa=on(Ve,jr),ia=on(function(e,t){for(var n=e.length;n--&&!1!==t(e[n],n,e););return e},Rr),sa=Vt(function(e,t,n){tr.call(e,n)?e[n].push(t):e[n]=[t]}),la=Vt(function(e,t,n){e[n]=t}),ca=uo(function(e,t,n){var o=-1,r="function"==typeof t,a=Pn(t),i=An(e)?Fo(e.length):[];return jr(e,function(e){var s=r?t:a&&null!=e?e[t]:w;i[++o]=s?s.apply(e,n):Sn(e,t,n)}),i}),ua=Vt(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),da=un(Xe,jr),pa=un(function(e,t,n,o){var r=e.length;for(o&&r&&(n=e[--r]);r--;)n=t(n,e[r],r,e);return n},Rr),ha=uo(function(e,t){if(null==e)return[];var n=t[2];return n&&Dn(t[0],t[1],n)&&(t.length=1),Dt(e,dt(t),[])}),fa=$r||function(){return(new Uo).getTime()},ma=uo(function(e,t,n){var o=x;if(n.length)var r=m(n,ma.placeholder),o=o|T;return bn(e,o,t,n,r)}),ba=uo(function(e,t){t=t.length?dt(t):To(e);for(var n=-1,o=t.length;++n<o;){var r=t[n];e[r]=bn(e[r],x,e)}return e}),ga=uo(function(e,t,n){var o=x|C;if(n.length)var r=m(n,ga.placeholder),o=o|T;return bn(t,o,e,n,r)}),va=Xt(q),ya=Xt(E),wa=uo(function(e,t){return at(e,1,t)}),_a=uo(function(e,t,n){return at(e,t,n)}),xa=nn(),Ca=nn(!0),$a=uo(function(e,t){if(t=dt(t),"function"!=typeof e||!ze(t,o))throw new Xo(N);var n=t.length;return uo(function(o){for(var r=Cr(o.length,n);r--;)o[r]=t[r](o[r]);return e.apply(this,o)})}),qa=cn(T),Ea=cn(S),Ta=uo(function(e,t){return bn(e,I,w,w,w,dt(t))}),Sa=yr||function(e){return h(e)&&On(e.length)&&or.call(e)==F},Aa=zt(xt),Ia=zt(function(e,t,n){return n?Qe(e,t,n):et(e,t)}),Da=Zt(Ia,function(e,t){return e===w?t:e}),Pa=Zt(Aa,jn),ka=tn(ht),Oa=tn(ft),ja=rn(Lr),Ra=rn(Nr),La=an(ht),Na=an(ft),Ma=_r?function(e){var t=null==e?w:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&An(e)?Nn(e):go(e)?_r(e):[]}:Nn,Ba=sn(!0),Fa=sn(),Ua=uo(function(e,t){if(null==e)return{};if("function"!=typeof t[0])return t=Ge(dt(t),Yo),Rn(e,it(So(e),t));var n=Mt(t[0],t[1],3);return Ln(e,function(e,t,o){return!n(e,t,o)})}),Va=uo(function(e,t){return null==e?{}:"function"==typeof t[0]?Ln(e,Mt(t[0],t[1],3)):Rn(e,dt(t))}),za=Gt(function(e,t,n){return t=t.toLowerCase(),e+(n?t.charAt(0).toUpperCase()+t.slice(1):t)}),Wa=Gt(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Ha=ln(),Ka=ln(!0),Ga=Gt(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Ya=Gt(function(e,t,n){return e+(n?" ":"")+(t.charAt(0).toUpperCase()+t.slice(1))}),Xa=uo(function(e,t){try{return e.apply(w,t)}catch(n){return mo(n)?n:new Vo(n)}}),Za=uo(function(e,t){return function(n){return Sn(n,e,t)}}),Ja=uo(function(e,t){return function(n){return Sn(e,n,t)}}),Qa=fn("ceil"),ei=fn("floor"),ti=Jt(po,Tr),ni=Jt($o,Sr),oi=fn("round");return je.prototype=Re.prototype,Le.prototype=Or(Re.prototype),Le.prototype.constructor=Le,Ne.prototype=Or(Re.prototype),Ne.prototype.constructor=Ne,Me.prototype["delete"]=function(e){return this.has(e)&&delete this.__data__[e]},Me.prototype.get=function(e){return"__proto__"==e?w:this.__data__[e]},Me.prototype.has=function(e){return"__proto__"!=e&&tr.call(this.__data__,e)},Me.prototype.set=function(e,t){return"__proto__"!=e&&(this.__data__[e]=t),this},Be.prototype.push=function(e){var t=this.data;"string"==typeof e||go(e)?t.set.add(e):t.hash[e]=!0},co.Cache=Me,je.after=function(e,t){if("function"!=typeof t){if("function"!=typeof e)throw new Xo(N);var n=e;e=t,t=n}return e=wr(e=+e)?e:0,function(){return 1>--e?t.apply(this,arguments):void 0}},je.ary=function(e,t,n){return n&&Dn(e,t,n)&&(t=w),t=e&&null==t?e.length:xr(+t||0,0),bn(e,A,w,w,w,w,t)},je.assign=Ia,je.at=ta,je.before=so,je.bind=ma,je.bindAll=ba,je.bindKey=ga,je.callback=jo,je.chain=Qn,je.chunk=function(e,t,n){t=(n?Dn(e,t,n):null==t)?1:xr(vr(t)||1,1),n=0;for(var o=e?e.length:0,r=-1,a=Fo(br(o/t));o>n;)a[++r]=St(e,n,n+=t);return a},je.compact=function(e){for(var t=-1,n=e?e.length:0,o=-1,r=[];++t<n;){var a=e[t];a&&(r[++o]=a)}return r},je.constant=function(e){return function(){return e}},je.countBy=na,je.create=function(e,t,n){var o=Or(e);return n&&Dn(e,t,n)&&(t=w),t?et(o,t):o},je.curry=va,je.curryRight=ya,je.debounce=lo,je.defaults=Da,je.defaultsDeep=Pa,je.defer=wa,je.delay=_a,je.difference=Vr,je.drop=Vn,je.dropRight=zn,je.dropRightWhile=function(e,t,n){return e&&e.length?jt(e,wn(t,n,3),!0,!0):[]},je.dropWhile=function(e,t,n){return e&&e.length?jt(e,wn(t,n,3),!0):[]},je.fill=function(e,t,n,o){var r=e?e.length:0;if(!r)return[];for(n&&"number"!=typeof n&&Dn(e,t,n)&&(n=0,o=r),r=e.length,n=null==n?0:+n||0,0>n&&(n=-n>r?0:r+n),o=o===w||o>r?r:+o||0,0>o&&(o+=r),r=n>o?0:o>>>0,n>>>=0;r>n;)e[n++]=t;return e},je.filter=no,je.flatten=function(e,t,n){var o=e?e.length:0;return n&&Dn(e,t,n)&&(t=!1),o?dt(e,t):[]},je.flattenDeep=function(e){return e&&e.length?dt(e,!0):[]},je.flow=xa,je.flowRight=Ca,je.forEach=aa,je.forEachRight=ia,je.forIn=ja,je.forInRight=Ra,je.forOwn=La,je.forOwnRight=Na,je.functions=To,je.groupBy=sa,je.indexBy=la,je.initial=function(e){return zn(e,1)},je.intersection=Hr,je.invert=function(e,t,n){n&&Dn(e,t,n)&&(t=w),n=-1;for(var o=Ma(e),r=o.length,a={};++n<r;){var i=o[n],s=e[i];t?tr.call(a,s)?a[s].push(i):a[s]=[i]:a[s]=i}return a},je.invoke=ca,je.keys=Ma,je.keysIn=So,je.map=ro,je.mapKeys=Ba,je.mapValues=Fa,je.matches=Lo,je.matchesProperty=function(e,t){return _t(e,rt(t,!0))},je.memoize=co,je.merge=Aa,je.method=Za,je.methodOf=Ja,je.mixin=No,je.modArgs=$a,je.negate=function(e){if("function"!=typeof e)throw new Xo(N);return function(){return!e.apply(this,arguments)}},je.omit=Ua,je.once=function(e){return so(2,e)},je.pairs=Ao,je.partial=qa,je.partialRight=Ea,je.partition=ua,je.pick=Va,je.pluck=function(e,t){return ro(e,Bo(t))},je.property=Bo,je.propertyOf=function(e){return function(t){return bt(e,Fn(t),t+"")}},je.pull=function(){var e=arguments,t=e[0];if(!t||!t.length)return t;for(var n=0,o=xn(),r=e.length;++n<r;)for(var a=0,i=e[n];-1<(a=o(t,i,a));)hr.call(t,a,1);return t},je.pullAt=Kr,je.range=function(e,t,n){n&&Dn(e,t,n)&&(t=n=w),e=+e||0,n=null==n?1:+n||0,null==t?(t=e,e=0):t=+t||0;var o=-1;t=xr(br((t-e)/(n||1)),0);for(var r=Fo(t);++o<t;)r[o]=e,e+=n;return r},je.rearg=Ta,je.reject=function(e,t,n){var o=Sa(e)?We:ct;return t=wn(t,n,3),o(e,function(e,n,o){return!t(e,n,o)})},je.remove=function(e,t,n){var o=[];if(!e||!e.length)return o;var r=-1,a=[],i=e.length;for(t=wn(t,n,3);++r<i;)n=e[r],t(n,r,e)&&(o.push(n),a.push(r));return qt(e,a),o},je.rest=Gn,je.restParam=uo,je.set=function(e,t,n){if(null==e)return e;var o=t+"";t=null!=e[o]||Pn(t,e)?[o]:Fn(t);for(var o=-1,r=t.length,a=r-1,i=e;null!=i&&++o<r;){var s=t[o];go(i)&&(o==a?i[s]=n:null==i[s]&&(i[s]=In(t[o+1])?[]:{})),i=i[s]}return e},je.shuffle=function(e){return ao(e,Sr)},je.slice=function(e,t,n){var o=e?e.length:0;return o?(n&&"number"!=typeof n&&Dn(e,t,n)&&(t=0,n=o),St(e,t,n)):[]},je.sortBy=function(e,t,n){if(null==e)return[];n&&Dn(e,t,n)&&(t=w);var o=-1;return t=wn(t,n,3),e=yt(e,function(e,n,r){return{a:t(e,n,r),b:++o,c:e}}),It(e,s)},je.sortByAll=ha,je.sortByOrder=function(e,t,n,o){return null==e?[]:(o&&Dn(t,n,o)&&(n=w),Sa(t)||(t=null==t?[]:[t]),Sa(n)||(n=null==n?[]:[n]),Dt(e,t,n))},je.spread=function(e){if("function"!=typeof e)throw new Xo(N);return function(t){return e.apply(this,t)}},je.take=function(e,t,n){return e&&e.length?((n?Dn(e,t,n):null==t)&&(t=1),St(e,0,0>t?0:t)):[]},je.takeRight=function(e,t,n){var o=e?e.length:0;return o?((n?Dn(e,t,n):null==t)&&(t=1),t=o-(+t||0),St(e,0>t?0:t)):[]},je.takeRightWhile=function(e,t,n){return e&&e.length?jt(e,wn(t,n,3),!1,!0):[]},je.takeWhile=function(e,t,n){return e&&e.length?jt(e,wn(t,n,3)):[]},je.tap=function(e,t,n){return t.call(n,e),e},je.throttle=function(e,t,n){var o=!0,r=!0;if("function"!=typeof e)throw new Xo(N);return!1===n?o=!1:go(n)&&(o="leading"in n?!!n.leading:o,r="trailing"in n?!!n.trailing:r),lo(e,t,{leading:o,maxWait:+t,trailing:r})},je.thru=eo,je.times=function(e,t,n){if(e=vr(e),1>e||!wr(e))return[];var o=-1,r=Fo(Cr(e,4294967295));for(t=Mt(t,n,1);++o<e;)4294967295>o?r[o]=t(o):t(o);return r},je.toArray=qo,je.toPlainObject=Eo,je.transform=function(e,t,n,o){var r=Sa(e)||Co(e);return t=wn(t,o,4),null==n&&(r||go(e)?(o=e.constructor,n=r?Sa(e)?new o:[]:Or(bo(o)?o.prototype:w)):n={}),(r?Ve:ht)(e,function(e,o,r){return t(n,e,o,r)}),n},je.union=Xr,je.uniq=Yn,je.unzip=Xn,je.unzipWith=Zn,je.values=Io,je.valuesIn=function(e){return Ot(e,So(e))},je.where=function(e,t){return no(e,wt(t))},je.without=Zr,je.wrap=function(e,t){return t=null==t?Ro:t,bn(t,T,w,[e],[])},je.xor=function(){for(var e=-1,t=arguments.length;++e<t;){var n=arguments[e];if(An(n))var o=o?Ye(it(o,n),it(n,o)):n}return o?kt(o):[]},je.zip=Jr,je.zipObject=Jn,je.zipWith=Qr,je.backflow=Ca,je.collect=ro,je.compose=Ca,je.each=aa,je.eachRight=ia,je.extend=Ia,je.iteratee=jo,je.methods=To,je.object=Jn,je.select=no,je.tail=Gn,je.unique=Yn,No(je,je),je.add=function(e,t){return(+e||0)+(+t||0)},je.attempt=Xa,je.camelCase=za,je.capitalize=function(e){return(e=r(e))&&e.charAt(0).toUpperCase()+e.slice(1)},je.ceil=Qa,je.clone=function(e,t,n,o){return t&&"boolean"!=typeof t&&Dn(e,t,n)?t=!1:"function"==typeof t&&(o=n,n=t,t=!1),"function"==typeof n?rt(e,t,Mt(n,o,3)):rt(e,t)},je.cloneDeep=function(e,t,n){return"function"==typeof t?rt(e,!0,Mt(t,n,3)):rt(e,!0)},je.deburr=Do,je.endsWith=function(e,t,n){e=r(e),t+="";var o=e.length;return n=n===w?o:Cr(0>n?0:+n||0,o),n-=t.length,n>=0&&e.indexOf(t,n)==n},je.escape=function(e){return(e=r(e))&&pe.test(e)?e.replace(ue,c):e},je.escapeRegExp=function(e){return(e=r(e))&&we.test(e)?e.replace(ye,u):e||"(?:)"},je.every=to,je.find=oa,je.findIndex=zr,je.findKey=ka,je.findLast=ra,je.findLastIndex=Wr,je.findLastKey=Oa,je.findWhere=function(e,t){return oa(e,wt(t))},je.first=Wn,je.floor=ei,je.get=function(e,t,n){return e=null==e?w:bt(e,Fn(t),t+""),e===w?n:e},je.gt=po,je.gte=function(e,t){return e>=t},je.has=function(e,t){if(null==e)return!1;var n=tr.call(e,t);if(!n&&!Pn(t)){if(t=Fn(t),e=1==t.length?e:bt(e,St(t,0,-1)),null==e)return!1;t=Kn(t),n=tr.call(e,t)}return n||On(e.length)&&In(t,e.length)&&(Sa(e)||ho(e))},je.identity=Ro,je.includes=oo,je.indexOf=Hn,je.inRange=function(e,t,n){return t=+t||0,n===w?(n=t,t=0):n=+n||0,e>=Cr(t,n)&&e<xr(t,n)},je.isArguments=ho,je.isArray=Sa,je.isBoolean=function(e){return!0===e||!1===e||h(e)&&or.call(e)==U},je.isDate=function(e){return h(e)&&or.call(e)==V},je.isElement=function(e){return!!e&&1===e.nodeType&&h(e)&&!wo(e)},je.isEmpty=function(e){return null==e?!0:An(e)&&(Sa(e)||xo(e)||ho(e)||h(e)&&bo(e.splice))?!e.length:!Ma(e).length},je.isEqual=fo,je.isError=mo,je.isFinite=function(e){return"number"==typeof e&&wr(e)},je.isFunction=bo,je.isMatch=function(e,t,n,o){return n="function"==typeof n?Mt(n,o,3):w,vt(e,Cn(t),n)},je.isNaN=function(e){return yo(e)&&e!=+e},je.isNative=vo,je.isNull=function(e){return null===e},je.isNumber=yo,je.isObject=go,je.isPlainObject=wo,je.isRegExp=_o,je.isString=xo,je.isTypedArray=Co,je.isUndefined=function(e){return e===w},je.kebabCase=Wa,je.last=Kn,je.lastIndexOf=function(e,t,n){var o=e?e.length:0;if(!o)return-1;var r=o;if("number"==typeof n)r=(0>n?xr(o+n,0):Cr(n||0,o-1))+1;else if(n)return r=Lt(e,t,!0)-1,e=e[r],(t===t?t===e:e!==e)?r:-1;if(t!==t)return p(e,r,!0);for(;r--;)if(e[r]===t)return r;return-1},je.lt=$o,je.lte=function(e,t){return t>=e},je.max=ti,je.min=ni,je.noConflict=function(){return He._=rr,this},je.noop=Mo,je.now=fa,je.pad=function(e,t,n){e=r(e),t=+t;var o=e.length;return t>o&&wr(t)?(o=(t-o)/2,t=vr(o),o=br(o),n=pn("",o,n),n.slice(0,t)+e+n):e},je.padLeft=Ha,je.padRight=Ka,je.parseInt=function(e,t,n){return(n?Dn(e,t,n):null==t)?t=0:t&&(t=+t),e=ko(e),qr(e,t||(qe.test(e)?16:10))},je.random=function(e,t,n){n&&Dn(e,t,n)&&(t=n=w);var o=null==e,r=null==t;return null==n&&(r&&"boolean"==typeof e?(n=e,e=1):"boolean"==typeof t&&(n=t,r=!0)),o&&r&&(t=1,r=!1),e=+e||0,r?(t=e,e=0):t=+t||0,n||e%1||t%1?(n=Er(),Cr(e+n*(t-e+lr("1e-"+((n+"").length-1))),t)):Et(e,t)},je.reduce=da,je.reduceRight=pa,je.repeat=Po,je.result=function(e,t,n){var o=null==e?w:e[t];return o===w&&(null==e||Pn(t,e)||(t=Fn(t),e=1==t.length?e:bt(e,St(t,0,-1)),o=null==e?w:e[Kn(t)]),o=o===w?n:o),bo(o)?o.call(e):o},je.round=oi,je.runInContext=y,je.size=function(e){var t=e?Fr(e):0;return On(t)?t:Ma(e).length},je.snakeCase=Ga,je.some=io,je.sortedIndex=Gr,je.sortedLastIndex=Yr,je.startCase=Ya,je.startsWith=function(e,t,n){return e=r(e),n=null==n?0:Cr(0>n?0:+n||0,e.length),e.lastIndexOf(t,n)==n},je.sum=function(e,t,n){if(n&&Dn(e,t,n)&&(t=w),t=wn(t,n,3),1==t.length){e=Sa(e)?e:Mn(e),n=e.length;for(var o=0;n--;)o+=+t(e[n])||0;e=o}else e=Pt(e,t);return e},je.template=function(e,t,n){var o=je.templateSettings;n&&Dn(e,t,n)&&(t=n=w),e=r(e),t=Qe(et({},n||t),o,Je),n=Qe(et({},t.imports),o.imports,Je);var a,i,s=Ma(n),l=Ot(n,s),c=0;n=t.interpolate||Ae;var u="__p+='";n=Go((t.escape||Ae).source+"|"+n.source+"|"+(n===me?Ce:Ae).source+"|"+(t.evaluate||Ae).source+"|$","g");var p="sourceURL"in t?"//# sourceURL="+t.sourceURL+"\n":"";if(e.replace(n,function(t,n,o,r,s,l){return o||(o=r),u+=e.slice(c,l).replace(Ie,d),n&&(a=!0,u+="'+__e("+n+")+'"),s&&(i=!0,u+="';"+s+";\n__p+='"),o&&(u+="'+((__t=("+o+"))==null?'':__t)+'"),c=l+t.length,t}),u+="';",(t=t.variable)||(u="with(obj){"+u+"}"),u=(i?u.replace(ie,""):u).replace(se,"$1").replace(le,"$1;"),u="function("+(t||"obj")+"){"+(t?"":"obj||(obj={});")+"var __t,__p=''"+(a?",__e=_.escape":"")+(i?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":";")+u+"return __p}",t=Xa(function(){return zo(s,p+"return "+u).apply(w,l)}),t.source=u,mo(t))throw t;return t},je.trim=ko,je.trimLeft=function(e,t,n){var o=e;return(e=r(e))?e.slice((n?Dn(o,t,n):null==t)?b(e):a(e,t+"")):e},je.trimRight=function(e,t,n){var o=e;return(e=r(e))?(n?Dn(o,t,n):null==t)?e.slice(0,g(e)+1):e.slice(0,i(e,t+"")+1):e},je.trunc=function(e,t,n){n&&Dn(e,t,n)&&(t=w);var o=D;if(n=P,null!=t)if(go(t)){var a="separator"in t?t.separator:a,o="length"in t?+t.length||0:o;n="omission"in t?r(t.omission):n}else o=+t||0;if(e=r(e),o>=e.length)return e;if(o-=n.length,1>o)return n;if(t=e.slice(0,o),null==a)return t+n;if(_o(a)){if(e.slice(o).search(a)){var i,s=e.slice(0,o);for(a.global||(a=Go(a.source,($e.exec(a)||"")+"g")),a.lastIndex=0;e=a.exec(s);)i=e.index;t=t.slice(0,null==i?o:i)}}else e.indexOf(a,o)!=o&&(a=t.lastIndexOf(a),a>-1&&(t=t.slice(0,a)));return t+n},je.unescape=function(e){return(e=r(e))&&de.test(e)?e.replace(ce,v):e},je.uniqueId=function(e){var t=++nr;return r(e)+t},je.words=Oo,je.all=to,je.any=io,je.contains=oo,je.eq=fo,je.detect=oa,je.foldl=da,je.foldr=pa,je.head=Wn,je.include=oo,je.inject=da,No(je,function(){var e={};return ht(je,function(t,n){je.prototype[n]||(e[n]=t)}),e}(),!1),je.sample=ao,je.prototype.sample=function(e){return this.__chain__||null!=e?this.thru(function(t){return ao(t,e)}):ao(this.value())},je.VERSION=_,Ve("bind bindKey curry curryRight partial partialRight".split(" "),function(e){je[e].placeholder=je}),Ve(["drop","take"],function(e,t){Ne.prototype[e]=function(n){var o=this.__filtered__;if(o&&!t)return new Ne(this);n=null==n?1:xr(vr(n)||0,0);var r=this.clone();return o?r.__takeCount__=Cr(r.__takeCount__,n):r.__views__.push({size:n,type:e+(0>r.__dir__?"Right":"")}),r},Ne.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),Ve(["filter","map","takeWhile"],function(e,t){var n=t+1,o=n!=L;Ne.prototype[e]=function(e,t){var r=this.clone();return r.__iteratees__.push({iteratee:wn(e,t,1),type:n}),r.__filtered__=r.__filtered__||o,r}}),Ve(["first","last"],function(e,t){var n="take"+(t?"Right":"");Ne.prototype[e]=function(){return this[n](1).value()[0]}}),Ve(["initial","rest"],function(e,t){var n="drop"+(t?"":"Right");Ne.prototype[e]=function(){return this.__filtered__?new Ne(this):this[n](1)}}),Ve(["pluck","where"],function(e,t){var n=t?"filter":"map",o=t?wt:Bo;Ne.prototype[e]=function(e){return this[n](o(e))}}),Ne.prototype.compact=function(){return this.filter(Ro)},Ne.prototype.reject=function(e,t){return e=wn(e,t,1),this.filter(function(t){return!e(t)})},Ne.prototype.slice=function(e,t){e=null==e?0:+e||0;var n=this;return n.__filtered__&&(e>0||0>t)?new Ne(n):(0>e?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==w&&(t=+t||0,n=0>t?n.dropRight(-t):n.take(t-e)),n)},Ne.prototype.takeRightWhile=function(e,t){return this.reverse().takeWhile(e,t).reverse()},Ne.prototype.toArray=function(){return this.take(Sr)},ht(Ne.prototype,function(e,t){var n=/^(?:filter|map|reject)|While$/.test(t),o=/^(?:first|last)$/.test(t),r=je[o?"take"+("last"==t?"Right":""):t];r&&(je.prototype[t]=function(){function t(e){return o&&i?r(e,1)[0]:r.apply(w,Ye([e],a))}var a=o?[1]:arguments,i=this.__chain__,s=this.__wrapped__,l=!!this.__actions__.length,c=s instanceof Ne,u=a[0],d=c||Sa(s);return d&&n&&"function"==typeof u&&1!=u.length&&(c=d=!1),u={func:eo,args:[t],thisArg:w},l=c&&!l,o&&!i?l?(s=s.clone(),s.__actions__.push(u),e.call(s)):r.call(w,this.value())[0]:!o&&d?(s=l?s:new Ne(this),s=e.apply(s,a),s.__actions__.push(u),new Le(s,i)):this.thru(t)})}),Ve("join pop push replace shift sort splice split unshift".split(" "),function(e){var t=(/^(?:replace|split)$/.test(e)?Qo:Zo)[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",o=/^(?:join|pop|replace|shift)$/.test(e);je.prototype[e]=function(){var e=arguments;return o&&!this.__chain__?t.apply(this.value(),e):this[n](function(n){return t.apply(n,e)})}}),ht(Ne.prototype,function(e,t){var n=je[t];if(n){var o=n.name+"";(kr[o]||(kr[o]=[])).push({name:t,func:n})}}),kr[dn(w,C).name]=[{name:"wrapper",func:w}],Ne.prototype.clone=function(){var e=new Ne(this.__wrapped__);return e.__actions__=Ue(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ue(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ue(this.__views__),e},Ne.prototype.reverse=function(){if(this.__filtered__){var e=new Ne(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e},Ne.prototype.value=function(){var e,t=this.__wrapped__.value(),n=this.__dir__,o=Sa(t),r=0>n,a=o?t.length:0;e=a;for(var i=this.__views__,s=0,l=-1,c=i.length;++l<c;){var u=i[l],d=u.size;switch(u.type){case"drop":s+=d;break;case"dropRight":e-=d;break;case"take":e=Cr(e,s+d);break;case"takeRight":s=xr(s,e-d)}}if(e={start:s,end:e},i=e.start,s=e.end,e=s-i,r=r?s:i-1,i=this.__iteratees__,s=i.length,l=0,c=Cr(e,this.__takeCount__),!o||j>a||a==e&&c==e)return Rt(t,this.__actions__);o=[];e:for(;e--&&c>l;){for(r+=n,a=-1,u=t[r];++a<s;){var p=i[a],d=p.type,p=p.iteratee(u);if(d==L)u=p;else if(!p){if(d==R)continue e;break e}}o[l++]=u}return o},je.prototype.chain=function(){return Qn(this)},je.prototype.commit=function(){return new Le(this.value(),this.__chain__)},je.prototype.concat=ea,je.prototype.plant=function(e){for(var t,n=this;n instanceof Re;){var o=Un(n);t?r.__wrapped__=o:t=o;var r=o,n=n.__wrapped__}return r.__wrapped__=e,t},je.prototype.reverse=function(){function e(e){return e.reverse()}var t=this.__wrapped__;return t instanceof Ne?(this.__actions__.length&&(t=new Ne(this)),t=t.reverse(),t.__actions__.push({func:eo,args:[e],thisArg:w}),new Le(t,this.__chain__)):this.thru(e)},je.prototype.toString=function(){return this.value()+""},je.prototype.run=je.prototype.toJSON=je.prototype.valueOf=je.prototype.value=function(){return Rt(this.__wrapped__,this.__actions__)},je.prototype.collect=je.prototype.map,je.prototype.head=je.prototype.first,je.prototype.select=je.prototype.filter,je.prototype.tail=je.prototype.rest,je}var w,_="3.10.1",x=1,C=2,$=4,q=8,E=16,T=32,S=64,A=128,I=256,D=30,P="...",k=150,O=16,j=200,R=1,L=2,N="Expected a function",M="__lodash_placeholder__",B="[object Arguments]",F="[object Array]",U="[object Boolean]",V="[object Date]",z="[object Error]",W="[object Function]",H="[object Number]",K="[object Object]",G="[object RegExp]",Y="[object String]",X="[object ArrayBuffer]",Z="[object Float32Array]",J="[object Float64Array]",Q="[object Int8Array]",ee="[object Int16Array]",te="[object Int32Array]",ne="[object Uint8Array]",oe="[object Uint8ClampedArray]",re="[object Uint16Array]",ae="[object Uint32Array]",ie=/\b__p\+='';/g,se=/\b(__p\+=)''\+/g,le=/(__e\(.*?\)|\b__t\))\+'';/g,ce=/&(?:amp|lt|gt|quot|#39|#96);/g,ue=/[&<>"'`]/g,de=RegExp(ce.source),pe=RegExp(ue.source),he=/<%-([\s\S]+?)%>/g,fe=/<%([\s\S]+?)%>/g,me=/<%=([\s\S]+?)%>/g,be=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,ge=/^\w*$/,ve=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,ye=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,we=RegExp(ye.source),_e=/[\u0300-\u036f\ufe20-\ufe23]/g,xe=/\\(\\)?/g,Ce=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,$e=/\w*$/,qe=/^0[xX]/,Ee=/^\[object .+?Constructor\]$/,Te=/^\d+$/,Se=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Ae=/($^)/,Ie=/['\n\r\u2028\u2029\\]/g,De=RegExp("[A-Z\\xc0-\\xd6\\xd8-\\xde]+(?=[A-Z\\xc0-\\xd6\\xd8-\\xde][a-z\\xdf-\\xf6\\xf8-\\xff]+)|[A-Z\\xc0-\\xd6\\xd8-\\xde]?[a-z\\xdf-\\xf6\\xf8-\\xff]+|[A-Z\\xc0-\\xd6\\xd8-\\xde]+|[0-9]+","g"),Pe="Array ArrayBuffer Date Error Float32Array Float64Array Function Int8Array Int16Array Int32Array Math Number Object RegExp Set String _ clearTimeout isFinite parseFloat parseInt setTimeout TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array WeakMap".split(" "),ke={};ke[Z]=ke[J]=ke[Q]=ke[ee]=ke[te]=ke[ne]=ke[oe]=ke[re]=ke[ae]=!0,ke[B]=ke[F]=ke[X]=ke[U]=ke[V]=ke[z]=ke[W]=ke["[object Map]"]=ke[H]=ke[K]=ke[G]=ke["[object Set]"]=ke[Y]=ke["[object WeakMap]"]=!1;var Oe={};Oe[B]=Oe[F]=Oe[X]=Oe[U]=Oe[V]=Oe[Z]=Oe[J]=Oe[Q]=Oe[ee]=Oe[te]=Oe[H]=Oe[K]=Oe[G]=Oe[Y]=Oe[ne]=Oe[oe]=Oe[re]=Oe[ae]=!0,Oe[z]=Oe[W]=Oe["[object Map]"]=Oe["[object Set]"]=Oe["[object WeakMap]"]=!1;var je={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},Re={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Le={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Ne={"function":!0,object:!0},Me={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Be={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Fe=Ne[typeof exports]&&exports&&!exports.nodeType&&exports,Ue=Ne[typeof module]&&module&&!module.nodeType&&module,Ve=Ne[typeof self]&&self&&self.Object&&self,ze=Ne[typeof window]&&window&&window.Object&&window,We=Ue&&Ue.exports===Fe&&Fe,He=Fe&&Ue&&"object"==typeof global&&global&&global.Object&&global||ze!==(this&&this.window)&&ze||Ve||this,Ke=y();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(He._=Ke,define(function(){return Ke})):Fe&&Ue?We?(Ue.exports=Ke)._=Ke:Fe._=Ke:He._=Ke}.call(this),function(){"undefined"==typeof Math.sgn&&(Math.sgn=function(e){return 0==e?0:e>0?1:-1});var e={subtract:function(e,t){return{x:e.x-t.x,y:e.y-t.y}},dotProduct:function(e,t){return e.x*t.x+e.y*t.y},square:function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},scale:function(e,t){return{x:e.x*t,y:e.y*t}}},t=64,n=Math.pow(2,-t-1),o=function(t,n){for(var o=[],r=a(t,n),s=n.length-1,l=2*s-1,c=i(r,l,o,0),d=e.subtract(t,n[0]),p=e.square(d),h=0,f=0;c>f;f++){d=e.subtract(t,u(n,s,o[f],null,null));var m=e.square(d);p>m&&(p=m,h=o[f])}return d=e.subtract(t,n[s]),m=e.square(d),p>m&&(p=m,h=1),{location:h,distance:p}},r=function(e,t){var n=o(e,t);return{point:u(t,t.length-1,n.location,null,null),location:n.location}},a=function(t,n){for(var o=n.length-1,r=2*o-1,a=[],i=[],s=[],l=[],c=[[1,.6,.3,.1],[.4,.6,.6,.4],[.1,.3,.6,1]],u=0;o>=u;u++)a[u]=e.subtract(n[u],t);for(var u=0;o-1>=u;u++)i[u]=e.subtract(n[u+1],n[u]),i[u]=e.scale(i[u],3);for(var d=0;o-1>=d;d++)for(var p=0;o>=p;p++)s[d]||(s[d]=[]),s[d][p]=e.dotProduct(i[d],a[p]);for(u=0;r>=u;u++)l[u]||(l[u]=[]),l[u].y=0,l[u].x=parseFloat(u)/r;for(var h=o,f=o-1,m=0;h+f>=m;m++){var b=Math.max(0,m-f),g=Math.min(m,h);for(u=b;g>=u;u++)j=m-u,l[u+j].y+=s[j][u]*c[j][u]}return l},i=function(e,n,o,r){var a,d,p=[],h=[],f=[],m=[];switch(s(e,n)){case 0:return 0;case 1:if(r>=t)return o[0]=(e[0].x+e[n].x)/2,1;if(l(e,n))return o[0]=c(e,n),1}u(e,n,.5,p,h),a=i(p,n,f,r+1),d=i(h,n,m,r+1);for(var b=0;a>b;b++)o[b]=f[b];for(var b=0;d>b;b++)o[b+a]=m[b];return a+d},s=function(e,t){var n,o,r=0;n=o=Math.sgn(e[0].y);for(var a=1;t>=a;a++)n=Math.sgn(e[a].y),n!=o&&r++,o=n;return r},l=function(e,t){var o,r,a,i,s,l,c,u,d,p,h,f,m,b,g,v;l=e[0].y-e[t].y,c=e[t].x-e[0].x,u=e[0].x*e[t].y-e[t].x*e[0].y;for(var y=max_distance_below=0,w=1;t>w;w++){var _=l*e[w].x+c*e[w].y+u;_>y?y=_:max_distance_below>_&&(max_distance_below=_)}return h=0,f=1,m=0,b=l,g=c,v=u-y,d=h*g-b*f,p=1/d,r=(f*v-g*m)*p,b=l,g=c,v=u-max_distance_below,d=h*g-b*f,p=1/d,a=(f*v-g*m)*p,i=Math.min(r,a),s=Math.max(r,a),o=s-i,n>o?1:0},c=function(e,t){var n=1,o=0,r=e[t].x-e[0].x,a=e[t].y-e[0].y,i=e[0].x-0,s=e[0].y-0,l=r*o-a*n,c=1/l,u=(r*s-a*i)*c;return 0+n*u},u=function(e,t,n,o,r){for(var a=[[]],i=0;t>=i;i++)a[0][i]=e[i];for(var s=1;t>=s;s++)for(var i=0;t-s>=i;i++)a[s]||(a[s]=[]),a[s][i]||(a[s][i]={}),a[s][i].x=(1-n)*a[s-1][i].x+n*a[s-1][i+1].x,a[s][i].y=(1-n)*a[s-1][i].y+n*a[s-1][i+1].y;if(null!=o)for(i=0;t>=i;i++)o[i]=a[i][0];if(null!=r)for(i=0;t>=i;i++)r[i]=a[t-i][i];return a[t][0]},d={},p=function(e){var t=d[e];if(!t){t=[];var n=function(){return function(t){return Math.pow(t,e)}},o=function(){return function(t){return Math.pow(1-t,e)}},r=function(e){return function(){return e}},a=function(){return function(e){return e}},i=function(){return function(e){return 1-e}},s=function(e){return function(t){for(var n=1,o=0;o<e.length;o++)n*=e[o](t);return n}};t.push(new n);for(var l=1;e>l;l++){for(var c=[new r(e)],u=0;e-l>u;u++)c.push(new a);for(var u=0;l>u;u++)c.push(new i);t.push(new s(c))}t.push(new o),d[e]=t}return t},h=function(e,t){for(var n=p(e.length-1),o=0,r=0,a=0;a<e.length;a++)o+=e[a].x*n[a](t),r+=e[a].y*n[a](t);return{x:o,y:r}},f=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},m=function(e){return e[0].x==e[1].x&&e[0].y==e[1].y},b=function(e,t,n){if(m(e))return{point:e[0],location:t};for(var o=h(e,t),r=0,a=t,i=n>0?1:-1,s=null;r<Math.abs(n);)a+=.005*i,s=h(e,a),r+=f(s,o),o=s;return{point:s,location:a}},g=function(e){if(m(e))return 0;for(var t=h(e,0),n=0,o=0,r=1,a=null;1>o;)o+=.005*r,a=h(e,o),n+=f(a,t),t=a;return n},v=function(e,t,n){return b(e,t,n).point},y=function(e,t,n){return b(e,t,n).location},w=function(e,t){var n=h(e,t),o=h(e.slice(0,e.length-1),t),r=o.y-n.y,a=o.x-n.x;return 0==r?1/0:Math.atan(r/a)},_=function(e,t,n){var o=b(e,t,n);return o.location>1&&(o.location=1),o.location<0&&(o.location=0),w(e,o.location)},x=function(e,t,n,o){o=null==o?0:o;var r=b(e,t,o),a=w(e,r.location),i=Math.atan(-1/a),s=n/2*Math.sin(i),l=n/2*Math.cos(i);return[{x:r.point.x+l,y:r.point.y+s},{x:r.point.x-l,y:r.point.y-s}]};this.jsBezier={distanceFromCurve:o,gradientAtPoint:w,gradientAtPointAlongCurveFrom:_,nearestPointOnCurve:r,pointOnCurve:h,pointAlongCurveFrom:v,perpendicularToCurveAt:x,locationAlongCurveFrom:y,getLength:g}}.call(this),function(){"use strict";var e=this.Biltong={},t=function(e){return"[object Array]"===Object.prototype.toString.call(e)},n=function(e,n,o){return e=t(e)?e:[e.x,e.y],n=t(n)?n:[n.x,n.y],o(e,n)},o=e.gradient=function(e,t){return n(e,t,function(e,t){return t[0]==e[0]?t[1]>e[1]?1/0:-1/0:t[1]==e[1]?t[0]>e[0]?0:-0:(t[1]-e[1])/(t[0]-e[0])})},r=(e.normal=function(e,t){return-1/o(e,t)},e.lineLength=function(e,t){return n(e,t,function(e,t){return Math.sqrt(Math.pow(t[1]-e[1],2)+Math.pow(t[0]-e[0],2))})},e.quadrant=function(e,t){return n(e,t,function(e,t){return t[0]>e[0]?t[1]>e[1]?2:1:t[0]==e[0]?t[1]>e[1]?2:1:t[1]>e[1]?3:4})}),a=(e.theta=function(e,t){return n(e,t,function(e,t){var n=o(e,t),a=Math.atan(n),i=r(e,t);return(4==i||3==i)&&(a+=Math.PI),0>a&&(a+=2*Math.PI),a})},e.intersects=function(e,t){var n=e.x,o=e.x+e.w,r=e.y,a=e.y+e.h,i=t.x,s=t.x+t.w,l=t.y,c=t.y+t.h;return i>=n&&o>=i&&l>=r&&a>=l||s>=n&&o>=s&&l>=r&&a>=l||i>=n&&o>=i&&c>=r&&a>=c||s>=n&&o>=i&&c>=r&&a>=c||n>=i&&s>=n&&r>=l&&c>=r||o>=i&&s>=o&&r>=l&&c>=r||n>=i&&s>=n&&a>=l&&c>=a||o>=i&&s>=n&&a>=l&&c>=a},e.encloses=function(e,t,n){var o=e.x,r=e.x+e.w,a=e.y,i=e.y+e.h,s=t.x,l=t.x+t.w,c=t.y,u=t.y+t.h,d=function(e,t,o,r){return n?t>=e&&o>=r:t>e&&o>r};return d(o,s,r,l)&&d(a,c,i,u)},[null,[1,-1],[1,1],[-1,1],[-1,-1]]),i=[null,[-1,-1],[-1,1],[1,1],[1,-1]];e.pointOnLine=function(e,t,n){var s=o(e,t),l=r(e,t),c=n>0?a[l]:i[l],u=Math.atan(s),d=Math.abs(n*Math.sin(u))*c[1],p=Math.abs(n*Math.cos(u))*c[0];return{x:e.x+p,y:e.y+d}},e.perpendicularLineTo=function(e,t,n){var r=o(e,t),a=Math.atan(-1/r),i=n/2*Math.sin(a),s=n/2*Math.cos(a);return[{x:t.x+s,y:t.y+i},{x:t.x-s,y:t.y-i}]}}.call(this),function(){"use strict";var e=this,t={android:navigator.userAgent.toLowerCase().indexOf("android")>-1},n=function(e,t,n){n=n||e.parentNode;for(var o=n.querySelectorAll(t),r=0;r<o.length;r++)if(o[r]===e)return!0;return!1},o=function(e){return"string"==typeof e||e.constructor===String?document.getElementById(e):e},r=function(e){return e.srcElement||e.target},a=function(e,t){for(var n=0,o=e.length;o>n&&e[n]!=t;n++);n<e.length&&e.splice(n,1)},i=1,s=function(e,t,n){var o=i++;return e.__ta=e.__ta||{},e.__ta[t]=e.__ta[t]||{},e.__ta[t][o]=n,n.__tauid=o,o},l=function(e,t,n){if(e.__ta&&e.__ta[t]&&delete e.__ta[t][n.__tauid],n.__taExtra){for(var o=0;o<n.__taExtra.length;o++)I(e,n.__taExtra[o][0],n.__taExtra[o][1]);n.__taExtra.length=0}n.__taUnstore&&n.__taUnstore()},c=function(e,t,o,a){if(null==e)return o;var i=e.split(","),s=function(e){s.__tauid=o.__tauid;for(var a=r(e),l=0;l<i.length;l++)n(a,i[l],t)&&o.apply(a,arguments)};return u(o,a,s),s},u=function(e,t,n){e.__taExtra=e.__taExtra||[],e.__taExtra.push([t,n])},d=function(e,t,n,o){if(g&&y[t]){var r=c(o,e,n,y[t]);A(e,y[t],r,n)}"focus"===t&&null==e.getAttribute("tabindex")&&e.setAttribute("tabindex","1"),A(e,t,c(o,e,n,t),n)},p=function(e,t,n,o){if(null==e.__taSmartClicks){var i=function(t){e.__tad=C(t)},s=function(t){e.__tau=C(t)},l=function(t){if(e.__tad&&e.__tau&&e.__tad[0]===e.__tau[0]&&e.__tad[1]===e.__tau[1])for(var n=0;n<e.__taSmartClicks.length;n++)e.__taSmartClicks[n].apply(r(t),[t])};d(e,"mousedown",i,o),d(e,"mouseup",s,o),d(e,"click",l,o),e.__taSmartClicks=[]}e.__taSmartClicks.push(n),n.__taUnstore=function(){a(e.__taSmartClicks,n)}},h={tap:{touches:1,
taps:1},dbltap:{touches:1,taps:2},contextmenu:{touches:2,taps:1}},f=function(e,t){return function(o,i,s,l){if("contextmenu"==i&&v)d(o,i,s,l);else{if(null==o.__taTapHandler){var c=o.__taTapHandler={tap:[],dbltap:[],contextmenu:[],down:!1,taps:0,downSelectors:[]},u=function(r){for(var a=r.srcElement||r.target,i=0;i<c.downSelectors.length;i++)if(null==c.downSelectors[i]||n(a,c.downSelectors[i],o)){c.down=!0,setTimeout(f,e),setTimeout(m,t);break}},p=function(e){if(c.down){var t=e.srcElement||e.target;c.taps++;var a=S(e);for(var i in h)if(h.hasOwnProperty(i)){var s=h[i];if(s.touches===a&&(1===s.taps||s.taps===c.taps))for(var l=0;l<c[i].length;l++)(null==c[i][l][1]||n(t,c[i][l][1],o))&&c[i][l][0].apply(r(e),[e])}}},f=function(){c.down=!1},m=function(){c.taps=0};d(o,"mousedown",u),d(o,"mouseup",p)}o.__taTapHandler.downSelectors.push(l),o.__taTapHandler[i].push([s,l]),s.__taUnstore=function(){a(o.__taTapHandler[i],s)}}}},m=function(e,t,n,o){for(var r in n.__tamee[e])n.__tamee[e].hasOwnProperty(r)&&n.__tamee[e][r].apply(o,[t])},b=function(){var e=[];return function(t,o,a,i){if(!t.__tamee){t.__tamee={over:!1,mouseenter:[],mouseexit:[]};var l=function(o){var a=r(o);(null==i&&a==t&&!t.__tamee.over||n(a,i,t)&&(null==a.__tamee||!a.__tamee.over))&&(m("mouseenter",o,t,a),a.__tamee=a.__tamee||{},a.__tamee.over=!0,e.push(a))},u=function(o){for(var a=r(o),i=0;i<e.length;i++)a!=e[i]||n(o.relatedTarget||o.toElement,"*",a)||(a.__tamee.over=!1,e.splice(i,1),m("mouseexit",o,t,a))};A(t,"mouseover",c(i,t,l,"mouseover"),l),A(t,"mouseout",c(i,t,u,"mouseout"),u)}a.__taUnstore=function(){delete t.__tamee[o][a.__tauid]},s(t,o,a),t.__tamee[o][a.__tauid]=a}},g="ontouchstart"in document.documentElement,v="onmousedown"in document.documentElement,y={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},w=function(){var e=-1;if("Microsoft Internet Explorer"==navigator.appName){var t=navigator.userAgent,n=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");null!=n.exec(t)&&(e=parseFloat(RegExp.$1))}return e}(),_=w>-1&&9>w,x=function(e,t){if(null==e)return[0,0];var n=T(e),o=E(n,0);return[o[t+"X"],o[t+"Y"]]},C=function(e){return null==e?[0,0]:_?[e.clientX+document.documentElement.scrollLeft,e.clientY+document.documentElement.scrollTop]:x(e,"page")},$=function(e){return x(e,"screen")},q=function(e){return x(e,"client")},E=function(e,t){return e.item?e.item(t):e[t]},T=function(e){return e.touches&&e.touches.length>0?e.touches:e.changedTouches&&e.changedTouches.length>0?e.changedTouches:e.targetTouches&&e.targetTouches.length>0?e.targetTouches:[e]},S=function(e){return T(e).length},A=function(e,t,n,o){if(s(e,t,n),o.__tauid=n.__tauid,e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent){var r=t+n.__tauid;e["e"+r]=n,e[r]=function(){e["e"+r]&&e["e"+r](window.event)},e.attachEvent("on"+t,e[r])}},I=function(e,t,n){null!=n&&D(e,function(){var r=o(this);if(l(r,t,n),null!=n.__tauid)if(r.removeEventListener)r.removeEventListener(t,n,!1),g&&y[t]&&r.removeEventListener(y[t],n,!1);else if(this.detachEvent){var a=t+n.__tauid;r[a]&&r.detachEvent("on"+t,r[a]),r[a]=null,r["e"+a]=null}n.__taTouchProxy&&I(e,n.__taTouchProxy[1],n.__taTouchProxy[0])})},D=function(e,t){if(null!=e){e="undefined"!=typeof Window&&"unknown"!=typeof e.top&&e==e.top?[e]:"string"!=typeof e&&null==e.tagName&&null!=e.length?e:"string"==typeof e?document.querySelectorAll(e):[e];for(var n=0;n<e.length;n++)t.apply(e[n])}};e.Mottle=function(e){e=e||{};var n=e.clickThreshold||150,r=e.dblClickThreshold||350,a=new b,i=new f(n,r),s=e.smartClicks,l=function(e,t,n,r){null!=n&&D(e,function(){var e=o(this);s&&"click"===t?p(e,t,n,r):"tap"===t||"dbltap"===t||"contextmenu"===t?i(e,t,n,r):"mouseenter"===t||"mouseexit"==t?a(e,t,n,r):d(e,t,n,r)})};this.remove=function(e){return D(e,function(){var e=o(this);if(e.__ta)for(var t in e.__ta)if(e.__ta.hasOwnProperty(t))for(var n in e.__ta[t])e.__ta[t].hasOwnProperty(n)&&I(e,t,e.__ta[t][n]);e.parentNode&&e.parentNode.removeChild(e)}),this},this.on=function(){var e=arguments[0],t=4==arguments.length?arguments[2]:null,n=arguments[1],o=arguments[arguments.length-1];return l(e,n,o,t),this},this.off=function(e,t,n){return I(e,t,n),this},this.trigger=function(e,n,r,a){var i=v&&("undefined"==typeof MouseEvent||null==r||r.constructor===MouseEvent),s=g&&!v&&y[n]?y[n]:n,l=!(g&&!v&&y[n]),c=C(r),u=$(r),d=q(r);return D(e,function(){var e,p=o(this);r=r||{screenX:u[0],screenY:u[1],clientX:d[0],clientY:d[1]};var h=function(e){a&&(e.payload=a)},f={TouchEvent:function(e){var t=document.createTouch(window,p,0,c[0],c[1],u[0],u[1],d[0],d[1],0,0,0,0),n=document.createTouchList(t),o=document.createTouchList(t),r=document.createTouchList(t);e.initTouchEvent(s,!0,!0,window,null,u[0],u[1],d[0],d[1],!1,!1,!1,!1,n,o,r,1,0)},MouseEvents:function(e){if(e.initMouseEvent(s,!0,!0,window,0,u[0],u[1],d[0],d[1],!1,!1,!1,!1,1,p),t.android){var n=document.createTouch(window,p,0,c[0],c[1],u[0],u[1],d[0],d[1],0,0,0,0);e.touches=e.targetTouches=e.changedTouches=document.createTouchList(n)}}};if(document.createEvent){var m=!l&&!i&&g&&y[n]&&!t.android,b=m?"TouchEvent":"MouseEvents";e=document.createEvent(b),f[b](e),h(e),p.dispatchEvent(e)}else document.createEventObject&&(e=document.createEventObject(),e.eventType=e.eventName=s,e.screenX=u[0],e.screenY=u[1],e.clientX=d[0],e.clientY=d[1],h(e),p.fireEvent("on"+s,e))}),this}},e.Mottle.consume=function(e,t){e.stopPropagation?e.stopPropagation():e.returnValue=!1,!t&&e.preventDefault&&e.preventDefault()},e.Mottle.pageLocation=C,e.Mottle.setForceTouchEvents=function(e){g=e},e.Mottle.setForceMouseEvents=function(e){v=e}}.call(this),function(){"use strict";var e=function(e,t,n){return-1===e.indexOf(t)?(n?e.unshift(t):e.push(t),!0):!1},t=function(e,t){var n=e.indexOf(t);-1!=n&&e.splice(n,1)},n=function(e,t){for(var n=[],o=0;o<e.length;o++)-1==t.indexOf(e[o])&&n.push(e[o]);return n},o=function(e){return null==e?!1:"string"==typeof e||e.constructor==String},r=function(e){var t=e.getBoundingClientRect(),n=document.body,o=document.documentElement,r=window.pageYOffset||o.scrollTop||n.scrollTop,a=window.pageXOffset||o.scrollLeft||n.scrollLeft,i=o.clientTop||n.clientTop||0,s=o.clientLeft||n.clientLeft||0,l=t.top+r-i,c=t.left+a-s;return{top:Math.round(l),left:Math.round(c)}},a=function(e,t,n){n=n||e.parentNode;for(var o=n.querySelectorAll(t),r=0;r<o.length;r++)if(o[r]===e)return!0;return!1},i=function(){var e=-1;if("Microsoft Internet Explorer"==navigator.appName){var t=navigator.userAgent,n=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");null!=n.exec(t)&&(e=parseFloat(RegExp.$1))}return e}(),s=50,l=50,c=i>-1&&9>i,u=9==i,d=function(e){if(c)return[e.clientX+document.documentElement.scrollLeft,e.clientY+document.documentElement.scrollTop];var t=h(e),n=p(t,0);return u?[n.pageX||n.clientX,n.pageY||n.clientY]:[n.pageX,n.pageY]},p=function(e,t){return e.item?e.item(t):e[t]},h=function(e){return e.touches&&e.touches.length>0?e.touches:e.changedTouches&&e.changedTouches.length>0?e.changedTouches:e.targetTouches&&e.targetTouches.length>0?e.targetTouches:[e]},f={draggable:"katavorio-draggable",droppable:"katavorio-droppable",drag:"katavorio-drag",selected:"katavorio-drag-selected",active:"katavorio-drag-active",hover:"katavorio-drag-hover",noSelect:"katavorio-drag-no-select"},m="katavorio-drag-scope",b=["stop","start","drag","drop","over","out","beforeStart"],g=function(){},v=function(){return!0},y=function(e,t,n){for(var o=0;o<e.length;o++)e[o]!=n&&t(e[o])},w=function(e,t,n,o){y(e,function(e){e.setActive(t),t&&e.updatePosition(),n&&e.setHover(o,t)})},_=function(e,t){if(null!=e){e=o(e)||null!=e.tagName||null==e.length?[e]:e;for(var n=0;n<e.length;n++)t.apply(e[n],[e[n]])}},x=function(e){e.stopPropagation?(e.stopPropagation(),e.preventDefault()):e.returnValue=!1},C="input,textarea,select,button,option",$=function(e,t,n){var o=e.srcElement||e.target;return!a(o,n.getInputFilterSelector(),t)},q=function(e,t,n,o){this.params=t||{},this.el=e,this.params.addClass(this.el,this._class),this.uuid=S();var r=!0;return this.setEnabled=function(e){r=e},this.isEnabled=function(){return r},this.toggleEnabled=function(){r=!r},this.setScope=function(e){this.scopes=e?e.split(/\s+/):[o]},this.addScope=function(e){var t={};_(this.scopes,function(e){t[e]=!0}),_(e?e.split(/\s+/):[],function(e){t[e]=!0}),this.scopes=[];for(var n in t)this.scopes.push(n)},this.removeScope=function(e){var t={};_(this.scopes,function(e){t[e]=!0}),_(e?e.split(/\s+/):[],function(e){delete t[e]}),this.scopes=[];for(var n in t)this.scopes.push(n)},this.toggleScope=function(e){var t={};_(this.scopes,function(e){t[e]=!0}),_(e?e.split(/\s+/):[],function(e){t[e]?delete t[e]:t[e]=!0}),this.scopes=[];for(var n in t)this.scopes.push(n)},this.setScope(t.scope),this.k=t.katavorio,t.katavorio},E=function(e,t,n){this._class=n.draggable;var i=q.apply(this,arguments);this.rightButtonCanDrag=this.params.rightButtonCanDrag;var c=[0,0],u=null,p=!1,h=this.params.consumeStartEvent!==!1,f=this.el,m=this.params.clone,b=(this.params.scroll,t.multipleDrop!==!1),g=t.snapThreshold||5,y=function(e,t,n,o,r){o=o||g,r=r||g;var a=Math.floor(e[0]/t),i=t*a,s=i+t,l=Math.abs(e[0]-i)<=o?i:Math.abs(s-e[0])<=o?s:e[0],c=Math.floor(e[1]/n),u=n*c,d=u+n,p=Math.abs(e[1]-u)<=r?u:Math.abs(d-e[1])<=r?d:e[1];return[l,p]};this.posses=[],this.posseRoles={},this.toGrid=function(e){return null==this.params.grid?e:y(e,this.params.grid[0],this.params.grid[1])},this.snap=function(e,t){if(null!=f){e=e||(this.params.grid?this.params.grid[0]:s),t=t||(this.params.grid?this.params.grid[1]:l);var n=this.params.getPosition(f);this.params.setPosition(f,y(n,e,t,e,t))}},this.constrain="function"==typeof this.params.constrain?this.params.constrain:this.params.constrain||this.params.containment?function(e){return[Math.max(0,Math.min(A.w-this.size[0],e[0])),Math.max(0,Math.min(A.h-this.size[1],e[1]))]}:function(e){return e};var _=function(e){return"function"==typeof e?(e._katavorioId=S(),e._katavorioId):e},C={},E=function(e){for(var t in C){var n=C[t],o=n[0](e);if(n[1]&&(o=!o),!o)return!1}return!0},T=this.setFilter=function(t,n){if(t){var r=_(t);C[r]=[function(n){var r,i=n.srcElement||n.target;return o(t)?r=a(i,t,e):"function"==typeof t&&(r=t(n,e)),r},n!==!1]}};this.addFilter=T,this.removeFilter=function(e){var t="function"==typeof e?e._katavorioId:e;delete C[t]},this.clearAllFilters=function(){C={}},this.canDrag=this.params.canDrag||v;var A,I=[],D=[];this.downListener=function(e){var t=this.rightButtonCanDrag||3!==e.which&&2!==e.button;if(t&&this.isEnabled()&&this.canDrag()){var o=E(e)&&$(e,this.el,this.k);if(o){if(m){f=this.el.cloneNode(!0),f.setAttribute("id",null),f.style.position="absolute";var a=r(this.el);f.style.left=a.left+"px",f.style.top=a.top+"px",document.body.appendChild(f)}else f=this.el;h&&x(e),c=d(e),this.params.bind(document,"mousemove",this.moveListener),this.params.bind(document,"mouseup",this.upListener),i.markSelection(this),i.markPosses(this),this.params.addClass(document.body,n.noSelect),k("beforeStart",{el:this.el,pos:u,e:e,drag:this})}else this.params.consumeFilteredEvents&&x(e)}}.bind(this),this.moveListener=function(e){if(c){if(!p){var t=k("start",{el:this.el,pos:u,e:e,drag:this});if(t!==!1){if(!c)return;this.mark(!0),p=!0}}if(c){D.length=0;var n=d(e),o=n[0]-c[0],r=n[1]-c[1],a=this.params.ignoreZoom?1:i.getZoom();o/=a,r/=a,this.moveBy(o,r,e),i.updateSelection(o,r,this),i.updatePosses(o,r,this)}}}.bind(this),this.upListener=function(e){c&&(c=null,this.params.unbind(document,"mousemove",this.moveListener),this.params.unbind(document,"mouseup",this.upListener),this.params.removeClass(document.body,n.noSelect),this.unmark(e),i.unmarkSelection(this,e),i.unmarkPosses(this,e),this.stop(e),i.notifySelectionDragStop(this,e),i.notifyPosseDragStop(this,e),p=!1,m&&(f&&f.parentNode&&f.parentNode.removeChild(f),f=null))}.bind(this),this.getFilters=function(){return C},this.abort=function(){null!=c&&this.upListener()},this.getDragElement=function(){return f||this.el};var P={start:[],drag:[],stop:[],over:[],out:[],beforeStart:[]};t.events.start&&P.start.push(t.events.start),t.events.beforeStart&&P.beforeStart.push(t.events.beforeStart),t.events.stop&&P.stop.push(t.events.stop),t.events.drag&&P.drag.push(t.events.drag),this.on=function(e,t){P[e]&&P[e].push(t)};var k=function(e,t){if(P[e])for(var n=0;n<P[e].length;n++)try{P[e][n](t)}catch(o){}};this.notifyStart=function(e){k("start",{el:this.el,pos:this.params.getPosition(f),e:e,drag:this})},this.stop=function(e,t){if(t||p){var n=[],o=i.getSelection(),r=this.params.getPosition(f);if(o.length>1)for(var a=0;a<o.length;a++){var s=this.params.getPosition(o[a].el);n.push([o[a].el,{left:s[0],top:s[1]},o[a]])}else n.push([f,{left:r[0],top:r[1]},this]);k("stop",{el:f,pos:r,e:e,drag:this,selection:n})}},this.mark=function(e){if(u=this.params.getPosition(f),this.size=this.params.getSize(f),I=i.getMatchingDroppables(this),w(I,!0,!1,this),this.params.addClass(f,this.params.dragClass||n.drag),this.params.constrain||this.params.containment){var t=this.params.getSize(f.parentNode);A={w:t[0],h:t[1]}}e&&i.notifySelectionDragStart(this)},this.unmark=function(e,t){if(w(I,!1,!0,this),this.params.removeClass(f,this.params.dragClass||n.drag),I.length=0,!t)for(var o=0;o<D.length;o++){var r=D[o].drop(this,e);if(r===!0)break}},this.moveBy=function(e,t,n){D.length=0;var o=this.constrain(this.toGrid([u[0]+e,u[1]+t]),f),r={x:o[0],y:o[1],w:this.size[0],h:this.size[1]},a=null;this.params.setPosition(f,o);for(var i=0;i<I.length;i++){var s={x:I[i].position[0],y:I[i].position[1],w:I[i].size[0],h:I[i].size[1]};this.params.intersects(r,s)&&(b||null==a||a==I[i].el)&&I[i].canDrop(this)?(a||(a=I[i].el),D.push(I[i]),I[i].setHover(this,!0,n)):I[i].isHover()&&I[i].setHover(this,!1,n)}k("drag",{el:this.el,pos:o,e:n,drag:this})},this.destroy=function(){this.params.unbind(this.el,"mousedown",this.downListener),this.params.unbind(document,"mousemove",this.moveListener),this.params.unbind(document,"mouseup",this.upListener),this.downListener=null,this.upListener=null,this.moveListener=null},this.params.bind(this.el,"mousedown",this.downListener),this.params.handle?T(this.params.handle,!1):T(this.params.filter,this.params.filterExclude)},T=function(e,t,n){this._class=n.droppable,this.params=t||{},this._activeClass=this.params.activeClass||n.active,this._hoverClass=this.params.hoverClass||n.hover,q.apply(this,arguments);var o=!1;this.allowLoopback=this.params.allowLoopback!==!1,this.setActive=function(e){this.params[e?"addClass":"removeClass"](this.el,this._activeClass)},this.updatePosition=function(){this.position=this.params.getPosition(this.el),this.size=this.params.getSize(this.el)},this.canDrop=this.params.canDrop||function(){return!0},this.isHover=function(){return o},this.setHover=function(e,t,n){(t||null==this.el._katavorioDragHover||this.el._katavorioDragHover==e.el._katavorio)&&(this.params[t?"addClass":"removeClass"](this.el,this._hoverClass),this.el._katavorioDragHover=t?e.el._katavorio:null,o!==t&&this.params.events[t?"over":"out"]({el:this.el,e:n,drag:e,drop:this}),o=t)},this.drop=function(e,t){return this.params.events.drop({drag:e,e:t,drop:this})},this.destroy=function(){this._class=null,this._activeClass=null,this._hoverClass=null,o=null}},S=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=0|16*Math.random(),n="x"==e?t:8|3&t;return n.toString(16)})},A=function(e){return null==e?null:(e="string"==typeof e||e.constructor==String?document.getElementById(e):e,null==e?null:(e._katavorio=e._katavorio||S(),e))};this.Katavorio=function(r){var a=[],i={};this._dragsByScope={},this._dropsByScope={};var s=1,l=function(e,t){_(e,function(e){for(var n=0;n<e.scopes.length;n++)t[e.scopes[n]]=t[e.scopes[n]]||[],t[e.scopes[n]].push(e)})},c=function(e,t){var n=0;return _(e,function(e){for(var o=0;o<e.scopes.length;o++)if(t[e.scopes[o]]){var a=r.indexOf(t[e.scopes[o]],e);-1!=a&&(t[e.scopes[o]].splice(a,1),n++)}}),n>0},u=(this.getMatchingDroppables=function(e){for(var t=[],n={},o=0;o<e.scopes.length;o++){var r=this._dropsByScope[e.scopes[o]];if(r)for(var a=0;a<r.length;a++)!r[a].canDrop(e)||n[r[a].uuid]||!r[a].allowLoopback&&r[a].el===e.el||(n[r[a].uuid]=!0,t.push(r[a]))}return t},function(e){e=e||{};var t,n={events:{}};for(t in r)n[t]=r[t];for(t in e)n[t]=e[t];for(t=0;t<b.length;t++)n.events[b[t]]=e[b[t]]||g;return n.katavorio=this,n}.bind(this)),d=function(e,t){for(var n=0;n<b.length;n++)t[b[n]]&&e.on(b[n],t[b[n]])}.bind(this),p={},h=r.css||{},v=r.scope||m;for(var w in f)p[w]=f[w];for(var w in h)p[w]=h[w];var x=r.inputFilterSelector||C;this.getInputFilterSelector=function(){return x},this.setInputFilterSelector=function(e){return x=e,this},this.draggable=function(e,t){var n=[];return _(e,function(e){if(e=A(e),null!=e)if(null==e._katavorioDrag){var o=u(t);e._katavorioDrag=new E(e,o,p,v),l(e._katavorioDrag,this._dragsByScope),n.push(e._katavorioDrag),r.addClass(e,p.draggable)}else d(e._katavorioDrag,t)}.bind(this)),n},this.droppable=function(e,t){var n=[];return _(e,function(e){if(e=A(e),null!=e){var o=new T(e,u(t),p,v);e._katavorioDrop=e._katavorioDrop||[],e._katavorioDrop.push(o),l(o,this._dropsByScope),n.push(o),r.addClass(e,p.droppable)}}.bind(this)),n},this.select=function(e){return _(e,function(){var e=A(this);e&&e._katavorioDrag&&(i[e._katavorio]||(a.push(e._katavorioDrag),i[e._katavorio]=[e,a.length-1],r.addClass(e,p.selected)))}),this},this.deselect=function(e){return _(e,function(){var e=A(this);if(e&&e._katavorio){var t=i[e._katavorio];if(t){for(var n=[],o=0;o<a.length;o++)a[o].el!==e&&n.push(a[o]);a=n,delete i[e._katavorio],r.removeClass(e,p.selected)}}}),this},this.deselectAll=function(){for(var e in i){var t=i[e];r.removeClass(t[0],p.selected)}a.length=0,i={}},this.markSelection=function(e){y(a,function(e){e.mark()},e)},this.markPosses=function(e){e.posses&&_(e.posses,function(t){e.posseRoles[t]&&I[t]&&y(I[t].members,function(e){e.mark()},e)})},this.unmarkSelection=function(e,t){y(a,function(e){e.unmark(t)},e)},this.unmarkPosses=function(e,t){e.posses&&_(e.posses,function(n){e.posseRoles[n]&&I[n]&&y(I[n].members,function(e){e.unmark(t,!0)},e)})},this.getSelection=function(){return a.slice(0)},this.updateSelection=function(e,t,n){y(a,function(n){n.moveBy(e,t)},n)};var $=function(e,t){t.posses&&_(t.posses,function(n){t.posseRoles[n]&&I[n]&&y(I[n].members,function(t){e(t)},t)})};this.updatePosses=function(e,t,n){$(function(n){n.moveBy(e,t)},n)},this.notifyPosseDragStop=function(e,t){$(function(e){e.stop(t,!0)},e)},this.notifySelectionDragStop=function(e,t){y(a,function(e){e.stop(t,!0)},e)},this.notifySelectionDragStart=function(e,t){y(a,function(e){e.notifyStart(t)},e)},this.setZoom=function(e){s=e},this.getZoom=function(){return s};var q=function(e,t,n,o){_(e,function(e){c(e,n),e[o](t),l(e,n)})};_(["set","add","remove","toggle"],function(e){this[e+"Scope"]=function(t,n){q(t._katavorioDrag,n,this._dragsByScope,e+"Scope"),q(t._katavorioDrop,n,this._dropsByScope,e+"Scope")}.bind(this),this[e+"DragScope"]=function(t,n){q(t.constructor===E?t:t._katavorioDrag,n,this._dragsByScope,e+"Scope")}.bind(this),this[e+"DropScope"]=function(t,n){q(t.constructor===T?t:t._katavorioDrop,n,this._dropsByScope,e+"Scope")}.bind(this)}.bind(this)),this.snapToGrid=function(e,t){for(var n in this._dragsByScope)y(this._dragsByScope[n],function(n){n.snap(e,t)})},this.getDragsForScope=function(e){return this._dragsByScope[e]},this.getDropsForScope=function(e){return this._dropsByScope[e]};var S=function(e,t,n){e=A(e),e[t]&&(c(e[t],n)&&_(e[t],function(e){e.destroy()}),e[t]=null)};this.elementRemoved=function(e){this.destroyDraggable(e),this.destroyDroppable(e)},this.destroyDraggable=function(e){S(e,"_katavorioDrag",this._dragsByScope)},this.destroyDroppable=function(e){S(e,"_katavorioDrop",this._dropsByScope)},this.reset=function(){this._dragsByScope={},this._dropsByScope={},a=[],i={},I={}};var I={},D=function(t,n,r){var a=o(n)?n:n.id,i=o(n)?!0:n.active!==!1,s=I[a]||function(){var e={name:a,members:[]};return I[a]=e,e}();return _(t,function(t){if(t._katavorioDrag){if(r&&null!=t._katavorioDrag.posseRoles[s.name])return;e(s.members,t._katavorioDrag),e(t._katavorioDrag.posses,s.name),t._katavorioDrag.posseRoles[s.name]=i}}),s};this.addToPosse=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(D(e,arguments[n]));return 1==t.length?t[0]:t},this.setPosse=function(e){for(var t=[],o=1;o<arguments.length;o++)t.push(D(e,arguments[o],!0).name);return _(e,function(e){if(e._katavorioDrag){var o=n(e._katavorioDrag.posses,t),r=[];Array.prototype.push.apply(r,e._katavorioDrag.posses);for(var a=0;a<o.length;a++)this.removeFromPosse(e,o[a])}}.bind(this)),1==t.length?t[0]:t},this.removeFromPosse=function(e,n){if(arguments.length<2)throw new TypeError("No posse id provided for remove operation");for(var o=1;o<arguments.length;o++)n=arguments[o],_(e,function(e){if(e._katavorioDrag&&e._katavorioDrag.posses){var o=e._katavorioDrag;_(n,function(e){t(I[e].members,o),t(o.posses,e),delete o.posseRoles[e]})}})},this.removeFromAllPosses=function(e){_(e,function(e){if(e._katavorioDrag&&e._katavorioDrag.posses){var n=e._katavorioDrag;_(n.posses,function(e){t(I[e].members,n)}),n.posses.length=0,n.posseRoles={}}})},this.setPosseState=function(e,t,n){var o=I[t];o&&_(e,function(e){e._katavorioDrag&&e._katavorioDrag.posses&&(e._katavorioDrag.posseRoles[o.name]=n)})}}}.call(this),function(){var e=function(e){return"[object Array]"===Object.prototype.toString.call(e)},t=function(e){return"[object Number]"===Object.prototype.toString.call(e)},n=function(e){return"string"==typeof e},o=function(e){return"boolean"==typeof e},r=function(e){return null==e},a=function(e){return null==e?!1:"[object Object]"===Object.prototype.toString.call(e)},i=function(e){return"[object Date]"===Object.prototype.toString.call(e)},s=function(e){return"[object Function]"===Object.prototype.toString.call(e)},l=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},c=this,u=c.jsPlumbUtil={isArray:e,isString:n,isBoolean:o,isNull:r,isObject:a,isDate:i,isFunction:s,isEmpty:l,isNumber:t,clone:function(t){if(n(t))return""+t;if(o(t))return!!t;if(i(t))return new Date(t.getTime());if(s(t))return t;if(e(t)){for(var r=[],l=0;l<t.length;l++)r.push(this.clone(t[l]));return r}if(a(t)){var c={};for(var u in t)c[u]=this.clone(t[u]);return c}return t},merge:function(t,r,i){var s,l,c={};for(i=i||[],l=0;l<i.length;l++)c[i[l]]=!0;var u=this.clone(t);for(l in r)if(null==u[l])u[l]=r[l];else if(n(r[l])||o(r[l]))c[l]?(s=[],s.push.apply(s,e(u[l])?u[l]:[u[l]]),s.push.apply(s,e(r[l])?r[l]:[r[l]]),u[l]=s):u[l]=r[l];else if(e(r[l]))s=[],e(u[l])&&s.push.apply(s,u[l]),s.push.apply(s,r[l]),u[l]=s;else if(a(r[l])){a(u[l])||(u[l]={});for(var d in r[l])u[l][d]=r[l][d]}return u},replace:function(e,t,n){if(null!=e){var o=e,r=o;return t.replace(/([^\.])+/g,function(e,t,o,a){var i=e.match(/([^\[0-9]+){1}(\[)([0-9+])/),s=o+e.length>=a.length,l=function(){return r[i[1]]||function(){return r[i[1]]=[],r[i[1]]}()};if(s)i?l()[i[3]]=n:r[e]=n;else if(i){var c=l();r=c[i[3]]||function(){return c[i[3]]={},c[i[3]]}()}else r=r[e]||function(){return r[e]={},r[e]}()}),e}},functionChain:function(e,t,n){for(var o=0;o<n.length;o++){var r=n[o][0][n[o][1]].apply(n[o][0],n[o][2]);if(r===t)return r}return e},populate:function(t,o,r){var i=function(e){var t=e.match(/(\${.*?})/g);if(null!=t)for(var n=0;n<t.length;n++){var r=o[t[n].substring(2,t[n].length-1)]||"";null!=r&&(e=e.replace(t[n],r))}return e},l=function(t){if(null!=t){if(n(t))return i(t);if(!s(t)||null!=r&&0!==(t.name||"").indexOf(r)){if(e(t)){for(var c=[],u=0;u<t.length;u++)c.push(l(t[u]));return c}if(a(t)){var d={};for(var p in t)d[p]=l(t[p]);return d}return t}return t(o)}};return l(t)},findWithFunction:function(e,t){if(e)for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1},removeWithFunction:function(e,t){var n=u.findWithFunction(e,t);return n>-1&&e.splice(n,1),-1!=n},remove:function(e,t){var n=e.indexOf(t);return n>-1&&e.splice(n,1),-1!=n},addWithFunction:function(e,t,n){-1==u.findWithFunction(e,n)&&e.push(t)},addToList:function(e,t,n,o){var r=e[t];return null==r&&(r=[],e[t]=r),r[o?"unshift":"push"](n),r},extend:function(t,n){var o;for(n=e(n)?n:[n],o=0;o<n.length;o++)for(var r in n[o].prototype)n[o].prototype.hasOwnProperty(r)&&(t.prototype[r]=n[o].prototype[r]);var a=function(e,t){return function(){for(o=0;o<n.length;o++)n[o].prototype[e]&&n[o].prototype[e].apply(this,arguments);return t.apply(this,arguments)}},i=function(e){for(var n in e)t.prototype[n]=a(n,e[n])};if(arguments.length>2)for(o=2;o<arguments.length;o++)i(arguments[o]);return t},uuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=0|16*Math.random(),n="x"==e?t:8|3&t;return n.toString(16)})},logEnabled:!0,log:function(){if(u.logEnabled&&"undefined"!=typeof console)try{var e=arguments[arguments.length-1];console.log(e)}catch(t){}},wrap:function(e,t,n){return e=e||function(){},t=t||function(){},function(){var o=null;try{o=t.apply(this,arguments)}catch(r){u.log("jsPlumb function failed : "+r)}if(null==n||o!==n)try{o=e.apply(this,arguments)}catch(r){u.log("wrapped function failed : "+r)}return o}}};u.EventGenerator=function(){var e={},t=!1,n={ready:!0};this.bind=function(t,n,o){var r=function(t){u.addToList(e,t,n,o),n.__jsPlumb=n.__jsPlumb||{},n.__jsPlumb[jsPlumbUtil.uuid()]=t};if("string"==typeof t)r(t);else if(null!=t.length)for(var a=0;a<t.length;a++)r(t[a]);return this},this.fire=function(o,r,a){if(!t&&e[o]){var i=e[o].length,s=0,l=!1,c=null;if(!this.shouldFireEvent||this.shouldFireEvent(o,r,a))for(;!l&&i>s&&c!==!1;){if(n[o])e[o][s].apply(this,[r,a]);else try{c=e[o][s].apply(this,[r,a])}catch(d){u.log("jsPlumb: fire failed for event "+o+" : "+d)}s++,(null==e||null==e[o])&&(l=!0)}}return this},this.unbind=function(t,n){if(0===arguments.length)e={};else if(1===arguments.length){if("string"==typeof t)delete e[t];else if(t.__jsPlumb){var o;for(var r in t.__jsPlumb)o=t.__jsPlumb[r],u.remove(e[o]||[],t)}}else 2===arguments.length&&u.remove(e[t]||[],n);return this},this.getListener=function(t){return e[t]},this.setSuspendEvents=function(e){t=e},this.isSuspendEvents=function(){return t},this.silently=function(e){this.setSuspendEvents(!0);try{e()}catch(t){jsPlumbUtil.log("Cannot execute silent function "+t)}this.setSuspendEvents(!1)},this.cleanupListeners=function(){for(var t in e)e[t]=null}},u.EventGenerator.prototype={cleanup:function(){this.cleanupListeners()}}}.call(this),function(){"use strict";var e=this,t=e.jsPlumbUtil;t.matchesSelector=function(e,t,n){n=n||e.parentNode;for(var o=n.querySelectorAll(t),r=0;r<o.length;r++)if(o[r]===e)return!0;return!1},t.consume=function(e,t){e.stopPropagation?e.stopPropagation():e.returnValue=!1,!t&&e.preventDefault&&e.preventDefault()},t.sizeElement=function(e,t,n,o,r){e&&(e.style.height=r+"px",e.height=r,e.style.width=o+"px",e.width=o,e.style.left=t+"px",e.style.top=n+"px")}}.call(this),function(){"use strict";var e,t=this,n=[],o=t.jsPlumbUtil,r=function(){return""+(new Date).getTime()},a=function(e){if(e._jsPlumb.paintStyle&&e._jsPlumb.hoverPaintStyle){var t={};g.extend(t,e._jsPlumb.paintStyle),g.extend(t,e._jsPlumb.hoverPaintStyle),delete e._jsPlumb.hoverPaintStyle,t.gradient&&e._jsPlumb.paintStyle.fillStyle&&delete t.gradient,e._jsPlumb.hoverPaintStyle=t}},i=["tap","dbltap","click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","contextmenu"],s=function(e,t,n,o){var r=e.getAttachedElements();if(r)for(var a=0,i=r.length;i>a;a++)o&&o==r[a]||r[a].setHover(t,!0,n)},l=function(e){return null==e?null:e.split(" ")},c=function(e,t,n){for(var o in t)e[o]=n},u=function(e,t){t=o.isArray(t)||null!=t.length&&!o.isString(t)?t:[t];for(var n=0;n<t.length;n++)try{e.apply(t[n],[t[n]])}catch(r){o.log(".each iteration failed : "+r)}},d=function(e,t,n){if(e.getDefaultType){var r=e.getTypeDescriptor(),a={},i=e.getDefaultType(),s=o.merge({},i);c(a,i,"__default");for(var l=0,u=e._jsPlumb.types.length;u>l;l++){var d=e._jsPlumb.types[l];if("__default"!==d){var p=e._jsPlumb.instance.getType(d,r);null!=p&&(s=o.merge(s,p,["cssClass"]),c(a,p,d))}}t&&(s=o.populate(s,t,"_")),e.applyType(s,n,a),n||e.repaint()}},p=t.jsPlumbUIComponent=function(e){o.EventGenerator.apply(this,arguments);var t=this,n=arguments,r=t.idPrefix,a=r+(new Date).getTime();this._jsPlumb={instance:e._jsPlumb,parameters:e.parameters||{},paintStyle:null,hoverPaintStyle:null,paintStyleInUse:null,hover:!1,beforeDetach:e.beforeDetach,beforeDrop:e.beforeDrop,overlayPlacements:[],hoverClass:e.hoverClass||e._jsPlumb.Defaults.HoverClass,types:[],typeCache:{}},this.cacheTypeItem=function(e,t,n){this._jsPlumb.typeCache[n]=this._jsPlumb.typeCache[n]||{},this._jsPlumb.typeCache[n][e]=t},this.getCachedTypeItem=function(e,t){return this._jsPlumb.typeCache[t]?this._jsPlumb.typeCache[t][e]:null},this.getId=function(){return a};var i=e.overlays||[],s={};if(this.defaultOverlayKeys){for(var l=0;l<this.defaultOverlayKeys.length;l++)Array.prototype.push.apply(i,this._jsPlumb.instance.Defaults[this.defaultOverlayKeys[l]]||[]);for(l=0;l<i.length;l++){var c=g.convertToFullOverlaySpec(i[l]);s[c[1].id]=c}}var u={overlays:s,parameters:e.parameters||{},scope:e.scope||this._jsPlumb.instance.getDefaultScope()};if(this.getDefaultType=function(){return u},this.appendToDefaultType=function(e){for(var t in e)u[t]=e[t]},e.events)for(l in e.events)t.bind(l,e.events[l]);this.clone=function(){var e={};return this.constructor.apply(e,n),e}.bind(this),this.isDetachAllowed=function(e){var t=!0;if(this._jsPlumb.beforeDetach)try{t=this._jsPlumb.beforeDetach(e)}catch(n){o.log("jsPlumb: beforeDetach callback failed",n)}return t},this.isDropAllowed=function(e,t,n,r,a,i,s){var l=this._jsPlumb.instance.checkCondition("beforeDrop",{sourceId:e,targetId:t,scope:n,connection:r,dropEndpoint:a,source:i,target:s});if(this._jsPlumb.beforeDrop)try{l=this._jsPlumb.beforeDrop({sourceId:e,targetId:t,scope:n,connection:r,dropEndpoint:a,source:i,target:s})}catch(c){o.log("jsPlumb: beforeDrop callback failed",c)}return l};var d=[];this.setListenerComponent=function(e){for(var t=0;t<d.length;t++)d[t][3]=e}},h=function(e,t){var n=e._jsPlumb.types[t],o=e._jsPlumb.instance.getType(n,e.getTypeDescriptor());null!=o&&o.cssClass&&e.canvas&&e._jsPlumb.instance.removeClass(e.canvas,o.cssClass)};o.extend(t.jsPlumbUIComponent,o.EventGenerator,{getParameter:function(e){return this._jsPlumb.parameters[e]},setParameter:function(e,t){this._jsPlumb.parameters[e]=t},getParameters:function(){return this._jsPlumb.parameters},setParameters:function(e){this._jsPlumb.parameters=e},getClass:function(){return g.getClass(this.canvas)},hasClass:function(e){return g.hasClass(this.canvas,e)},addClass:function(e){g.addClass(this.canvas,e)},removeClass:function(e){g.removeClass(this.canvas,e)},updateClasses:function(e,t){g.updateClasses(this.canvas,e,t)},setType:function(e,t,n){this.clearTypes(),this._jsPlumb.types=l(e)||[],d(this,t,n)},getType:function(){return this._jsPlumb.types},reapplyTypes:function(e,t){d(this,e,t)},hasType:function(e){return-1!=this._jsPlumb.types.indexOf(e)},addType:function(e,t,n){var o=l(e),r=!1;if(null!=o){for(var a=0,i=o.length;i>a;a++)this.hasType(o[a])||(this._jsPlumb.types.push(o[a]),r=!0);r&&d(this,t,n)}},removeType:function(e,t){var n=l(e),o=!1,r=function(e){var t=this._jsPlumb.types.indexOf(e);return-1!=t?(h(this,t),this._jsPlumb.types.splice(t,1),!0):!1}.bind(this);if(null!=n){for(var a=0,i=n.length;i>a;a++)o=r(n[a])||o;o&&d(this,null,t)}},clearTypes:function(e){for(var t=this._jsPlumb.types.length,n=0;t>n;n++)h(this,0),this._jsPlumb.types.splice(0,1);d(this,{},e)},toggleType:function(e,t,n){var o=l(e);if(null!=o){for(var r=0,a=o.length;a>r;r++){var i=this._jsPlumb.types.indexOf(o[r]);-1!=i?(h(this,i),this._jsPlumb.types.splice(i,1)):this._jsPlumb.types.push(o[r])}d(this,t,n)}},applyType:function(e,t){if(this.setPaintStyle(e.paintStyle,t),this.setHoverPaintStyle(e.hoverPaintStyle,t),e.parameters)for(var n in e.parameters)this.setParameter(n,e.parameters[n]);this._jsPlumb.paintStyleInUse=this.getPaintStyle()},setPaintStyle:function(e,t){
this._jsPlumb.paintStyle=e,this._jsPlumb.paintStyleInUse=this._jsPlumb.paintStyle,a(this),t||this.repaint()},getPaintStyle:function(){return this._jsPlumb.paintStyle},setHoverPaintStyle:function(e,t){this._jsPlumb.hoverPaintStyle=e,a(this),t||this.repaint()},getHoverPaintStyle:function(){return this._jsPlumb.hoverPaintStyle},destroy:function(e){(e||null==this.typeId)&&(this.cleanupListeners(),this.clone=null,this._jsPlumb=null)},isHover:function(){return this._jsPlumb.hover},setHover:function(e,t,n){if(this._jsPlumb&&!this._jsPlumb.instance.currentlyDragging&&!this._jsPlumb.instance.isHoverSuspended()){if(this._jsPlumb.hover=e,null!=this.canvas){if(null!=this._jsPlumb.instance.hoverClass){var o=e?"addClass":"removeClass";this._jsPlumb.instance[o](this.canvas,this._jsPlumb.instance.hoverClass)}null!=this._jsPlumb.hoverClass&&this._jsPlumb.instance[o](this.canvas,this._jsPlumb.hoverClass)}null!=this._jsPlumb.hoverPaintStyle&&(this._jsPlumb.paintStyleInUse=e?this._jsPlumb.hoverPaintStyle:this._jsPlumb.paintStyle,this._jsPlumb.instance.isSuspendDrawing()||(n=n||r(),this.repaint({timestamp:n,recalc:!1}))),this.getAttachedElements&&!t&&s(this,e,r(),this)}}});var f=0,m=function(){var e=f+1;return f++,e},b=window.jsPlumbInstance=function(t){this.Defaults={Anchor:"Bottom",Anchors:[null,null],ConnectionsDetachable:!0,ConnectionOverlays:[],Connector:"Bezier",Container:null,DoNotThrowErrors:!1,DragOptions:{},DropOptions:{},Endpoint:"Dot",EndpointOverlays:[],Endpoints:[null,null],EndpointStyle:{fillStyle:"#456"},EndpointStyles:[null,null],EndpointHoverStyle:null,EndpointHoverStyles:[null,null],HoverPaintStyle:null,LabelStyle:{color:"black"},LogEnabled:!1,Overlays:[],MaxConnections:1,PaintStyle:{lineWidth:4,strokeStyle:"#456"},ReattachConnections:!1,RenderMode:"svg",Scope:"jsPlumb_DefaultScope"},t&&g.extend(this.Defaults,t),this.logEnabled=this.Defaults.LogEnabled,this._connectionTypes={},this._endpointTypes={},o.EventGenerator.apply(this);var a=this,s=m(),l=a.bind,c={},d=1,h=function(e){if(null==e)return null;if(3==e.nodeType||8==e.nodeType)return{el:e,text:!0};var t=a.getElement(e);return{el:t,id:o.isString(e)&&null==t?e:X(t)}};this.getInstanceIndex=function(){return s},this.setZoom=function(e,t){return d=e,a.fire("zoom",d),t&&a.repaintEverything(),!0},this.getZoom=function(){return d};for(var f in this.Defaults)c[f]=this.Defaults[f];var b,v=[];this.unbindContainer=function(){if(null!=b&&v.length>0)for(var e=0;e<v.length;e++)a.off(b,v[e][0],v[e][1])},this.setContainer=function(e){this.unbindContainer(),e=this.getElement(e),this.select().each(function(t){t.moveParent(e)}),this.selectEndpoints().each(function(t){t.moveParent(e)});var t=b;b=e,v.length=0;for(var n=function(e,t){var n=t.srcElement||t.target,o=(n&&n.parentNode?n.parentNode._jsPlumb:null)||(n?n._jsPlumb:null)||(n&&n.parentNode&&n.parentNode.parentNode?n.parentNode.parentNode._jsPlumb:null);o&&(o.fire(e,o,t),a.fire(e,o.component||o,t))},o=function(e,t,n){v.push([e,n]),a.on(b,e,t,n)},r=function(e){o(e,".jsplumb-connector > *",function(t){n(e,t)}),o(e,".jsplumb-endpoint, .jsplumb-endpoint > *, .jsplumb-endpoint svg *",function(t){n(e,t)}),o(e,".jsplumb-overlay, .jsplumb-overlay *",function(t){n(e,t)})},s=0;s<i.length;s++)r(i[s]);for(var l in $){var c=$[l].el;c.parentNode===t&&(t.removeChild(c),b.appendChild(c))}},this.getContainer=function(){return b},this.bind=function(e,t){"ready"===e&&w?t():l.apply(a,[e,t])},a.importDefaults=function(e){for(var t in e)a.Defaults[t]=e[t];return e.Container&&a.setContainer(e.Container),a},a.restoreDefaults=function(){return a.Defaults=g.extend({},c),a};var y=null,w=!1,_=[],x={},C={},$={},q={},E={},T={},S=!1,A=[],I=!1,D=null,P=this.Defaults.Scope,k=1,O=function(){return""+k++},j=function(e,t){b?b.appendChild(e):t?this.getElement(t).appendChild(e):this.appendToRoot(e)}.bind(this),R=function(e,t,n,o){if(!g.headless&&!I){var i=X(e),s=a.getDragManager().getElementsForDraggable(i);null==n&&(n=r());var l=be({elId:i,offset:t,recalc:!1,timestamp:n});if(s)for(var c in s)be({elId:s[c].id,offset:{left:l.o.left+s[c].offset.left,top:l.o.top+s[c].offset.top},recalc:!1,timestamp:n});if(a.anchorManager.redraw(i,t,n,null,o),s)for(var u in s)a.anchorManager.redraw(s[u].id,t,n,s[u].offset,o,!0)}},L=function(e){return C[e]},N=function(e,t,n,r){if(!g.headless){var i=null==t?!1:t;if(i&&g.isDragSupported(e,a)){var s=n||a.Defaults.DragOptions;if(s=g.extend({},s),g.isAlreadyDraggable(e,a))n.force&&a.initDraggable(e,s);else{var l=g.dragEvents.drag,c=g.dragEvents.stop,u=g.dragEvents.start,d=a.getElement(e),p=a.getDragManager().getDragAncestor(d),h={left:0,top:0},f=h,m=!1;me(r,e),s[u]=o.wrap(s[u],function(){return f=null!=p?a.getOffset(p):h,a.setHoverSuspended(!0),a.select({source:e}).addClass(a.elementDraggingClass+" "+a.sourceElementDraggingClass,!0),a.select({target:e}).addClass(a.elementDraggingClass+" "+a.targetElementDraggingClass,!0),a.setConnectionBeingDragged(!0),s.canDrag?n.canDrag():void 0},!1),s[l]=o.wrap(s[l],function(){var t=a.getUIPosition(arguments,a.getZoom());t.left+=f.left,t.top+=f.top,R(e,t,null,!0),m&&a.addClass(e,"jsplumb-dragged"),m=!0}),s[c]=o.wrap(s[c],function(){for(var e=arguments[0].selection,t=a.getUIPosition(arguments),n=function(e){R(e[0],t),a.removeClass(e[0],"jsplumb-dragged"),a.select({source:e[0]}).removeClass(a.elementDraggingClass+" "+a.sourceElementDraggingClass,!0),a.select({target:e[0]}).removeClass(a.elementDraggingClass+" "+a.targetElementDraggingClass,!0),a.getDragManager().dragEnded(e[0])},o=0;o<e.length;o++)n(e[o]);m=!1,a.setHoverSuspended(!1),a.setConnectionBeingDragged(!1)});var b=X(e);T[b]=!0;var v=T[b];s.disabled=null==v?!1:!v,a.initDraggable(e,s),a.getDragManager().register(e)}}}},M=function(e,t){for(var n=e.scope.split(/\s/),o=t.scope.split(/\s/),r=0;r<n.length;r++)for(var a=0;a<o.length;a++)if(o[a]==n[r])return!0;return!1},B=function(e,t){var n=g.extend({},e);if(t&&g.extend(n,t),n.source&&(n.source.endpoint?n.sourceEndpoint=n.source:n.source=a.getElement(n.source)),n.target&&(n.target.endpoint?n.targetEndpoint=n.target:n.target=a.getElement(n.target)),e.uuids&&(n.sourceEndpoint=L(e.uuids[0]),n.targetEndpoint=L(e.uuids[1])),n.sourceEndpoint&&n.sourceEndpoint.isFull())return void o.log(a,"could not add connection; source endpoint is full");if(n.targetEndpoint&&n.targetEndpoint.isFull())return void o.log(a,"could not add connection; target endpoint is full");if(!n.type&&n.sourceEndpoint&&(n.type=n.sourceEndpoint.connectionType),n.sourceEndpoint&&n.sourceEndpoint.connectorOverlays){n.overlays=n.overlays||[];for(var r=0,i=n.sourceEndpoint.connectorOverlays.length;i>r;r++)n.overlays.push(n.sourceEndpoint.connectorOverlays[r])}!n["pointer-events"]&&n.sourceEndpoint&&n.sourceEndpoint.connectorPointerEvents&&(n["pointer-events"]=n.sourceEndpoint.connectorPointerEvents);var s=function(e,t){var n=g.extend({},e);for(var o in t)t[o]&&(n[o]=t[o]);return n},l=function(e,t,o){return a.addEndpoint(e,s(t,{anchor:n.anchors?n.anchors[o]:n.anchor,endpoint:n.endpoints?n.endpoints[o]:n.endpoint,paintStyle:n.endpointStyles?n.endpointStyles[o]:n.endpointStyle,hoverPaintStyle:n.endpointHoverStyles?n.endpointHoverStyles[o]:n.endpointHoverStyle}))},c=function(e,t,o,r){if(n[e]&&!n[e].endpoint&&!n[e+"Endpoint"]&&!n.newConnection){var a=X(n[e]),i=o[a];if(i=i?i[r]:null){if(!i.enabled)return!1;var s=null!=i.endpoint&&i.endpoint._jsPlumb?i.endpoint:l(n[e],i.def,t);if(s.isFull())return!1;n[e+"Endpoint"]=s,s._doNotDeleteOnDetach=!1,s._deleteOnDetach=!0,i.uniqueEndpoint&&(i.endpoint?s.finalEndpoint=i.endpoint:(i.endpoint=s,s._deleteOnDetach=!1,s._doNotDeleteOnDetach=!0))}}};return c("source",0,this.sourceEndpointDefinitions,n.type||"default")!==!1&&c("target",1,this.targetEndpointDefinitions,n.type||"default")!==!1?(n.sourceEndpoint&&n.targetEndpoint&&(M(n.sourceEndpoint,n.targetEndpoint)||(n=null)),n):void 0}.bind(a),F=function(e){var t=a.Defaults.ConnectionType||a.getDefaultConnectionType();e._jsPlumb=a,e.newConnection=F,e.newEndpoint=V,e.endpointsByUUID=C,e.endpointsByElement=x,e.finaliseConnection=U,e.id="con_"+O();var n=new t(e);return n.isDetachable()&&(n.endpoints[0].initDraggable("_jsPlumbSource"),n.endpoints[1].initDraggable("_jsPlumbTarget")),n},U=a.finaliseConnection=function(e,t,n,o){if(t=t||{},e.suspendedEndpoint||_.push(e),e.pending=null,e.endpoints[0].isTemporarySource=!1,o!==!1&&a.anchorManager.newConnection(e),R(e.source),!t.doNotFireConnectionEvent&&t.fireEvent!==!1){var r={connection:e,source:e.source,target:e.target,sourceId:e.sourceId,targetId:e.targetId,sourceEndpoint:e.endpoints[0],targetEndpoint:e.endpoints[1]};a.fire("connection",r,n)}},V=function(e,t){var n=a.Defaults.EndpointType||g.Endpoint,o=g.extend({},e);o._jsPlumb=a,o.newConnection=F,o.newEndpoint=V,o.endpointsByUUID=C,o.endpointsByElement=x,o.fireDetachEvent=Q,o.elementId=t||X(o.source);var r=new n(o);return r.id="ep_"+O(),me(o.elementId,o.source),g.headless||a.getDragManager().endpointAdded(o.source,t),r},z=function(e,t,n){var o=x[e];if(o&&o.length)for(var r=0,a=o.length;a>r;r++){for(var i=0,s=o[r].connections.length;s>i;i++){var l=t(o[r].connections[i]);if(l)return}n&&n(o[r])}},W=function(e,t){return g.each(e,function(e){a.isDragSupported(e)&&(T[a.getAttribute(e,"id")]=t,a.setElementDraggable(e,t))})},H=function(e,t,n){t="block"===t;var o=null;n&&(o=t?function(e){e.setVisible(!0,!0,!0)}:function(e){e.setVisible(!1,!0,!0)});var r=h(e);z(r.id,function(e){if(t&&n){var o=e.sourceId===r.id?1:0;e.endpoints[o].isVisible()&&e.setVisible(!0)}else e.setVisible(t)},o)},K=function(e){return g.each(e,function(e){var t=a.getAttribute(e,"id"),n=null==T[t]?!1:T[t];return n=!n,T[t]=n,a.setDraggable(e,n),n}.bind(this))},G=function(e,t){var n=null;t&&(n=function(e){var t=e.isVisible();e.setVisible(!t)}),z(e,function(e){var t=e.isVisible();e.setVisible(!t)},n)},Y=function(e){var t=q[e];return t?{o:t,s:A[e]}:be({elId:e})},X=function(e,t,n){if(o.isString(e))return e;if(null==e)return null;var r=a.getAttribute(e,"id");return r&&"undefined"!==r||(2==arguments.length&&void 0!==arguments[1]?r=t:(1==arguments.length||3==arguments.length&&!arguments[2])&&(r="jsPlumb_"+s+"_"+O()),n||a.setAttribute(e,"id",r)),r};this.setConnectionBeingDragged=function(e){S=e},this.isConnectionBeingDragged=function(){return S},this.getManagedElements=function(){return $},this.getRenderMode=function(){return"svg"},this.connectorClass="jsplumb-connector",this.connectorOutlineClass="jsplumb-connector-outline",this.editableConnectorClass="jsplumb-connector-editable",this.connectedClass="jsplumb-connected",this.hoverClass="jsplumb-hover",this.endpointClass="jsplumb-endpoint",this.endpointConnectedClass="jsplumb-endpoint-connected",this.endpointFullClass="jsplumb-endpoint-full",this.endpointDropAllowedClass="jsplumb-endpoint-drop-allowed",this.endpointDropForbiddenClass="jsplumb-endpoint-drop-forbidden",this.overlayClass="jsplumb-overlay",this.draggingClass="jsplumb-dragging",this.elementDraggingClass="jsplumb-element-dragging",this.sourceElementDraggingClass="jsplumb-source-element-dragging",this.targetElementDraggingClass="jsplumb-target-element-dragging",this.endpointAnchorClassPrefix="jsplumb-endpoint-anchor",this.hoverSourceClass="jsplumb-source-hover",this.hoverTargetClass="jsplumb-target-hover",this.dragSelectClass="jsplumb-drag-select",this.Anchors={},this.Connectors={svg:{}},this.Endpoints={svg:{}},this.Overlays={svg:{}},this.ConnectorRenderers={},this.SVG="svg",this.addEndpoint=function(e,t,n){n=n||{};var r=g.extend({},n);g.extend(r,t),r.endpoint=r.endpoint||a.Defaults.Endpoint,r.paintStyle=r.paintStyle||a.Defaults.EndpointStyle;for(var i=[],s=o.isArray(e)||null!=e.length&&!o.isString(e)?e:[e],l=0,c=s.length;c>l;l++){r.source=a.getElement(s[l]),he(r.source);var u=X(r.source),d=V(r,u),p=me(u,r.source).info.o;o.addToList(x,u,d),I||d.paint({anchorLoc:d.anchor.compute({xy:[p.left,p.top],wh:A[u],element:d,timestamp:D}),timestamp:D}),i.push(d),d._doNotDeleteOnDetach=!0}return 1==i.length?i[0]:i},this.addEndpoints=function(e,t,n){for(var r=[],i=0,s=t.length;s>i;i++){var l=a.addEndpoint(e,t[i],n);o.isArray(l)?Array.prototype.push.apply(r,l):r.push(l)}return r},this.animate=function(e,t,n){if(!this.animationSupported)return!1;n=n||{};var r=a.getElement(e),i=X(r),s=g.animEvents.step,l=g.animEvents.complete;n[s]=o.wrap(n[s],function(){a.revalidate(i)}),n[l]=o.wrap(n[l],function(){a.revalidate(i)}),a.doAnimate(r,t,n)},this.checkCondition=function(e){var t=a.getListener(e),n=!0;if(t&&t.length>0){var r=Array.prototype.slice.call(arguments,1);try{for(var i=0,s=t.length;s>i;i++)n=n&&t[i].apply(t[i],r)}catch(l){o.log(a,"cannot check condition ["+e+"]"+l)}}return n},this.connect=function(e,t){var n,r=B(e,t);if(r){if(null==r.source&&null==r.sourceEndpoint)return void o.log("Cannot establish connection - source does not exist");if(null==r.target&&null==r.targetEndpoint)return void o.log("Cannot establish connection - target does not exist");he(r.source),n=F(r),U(n,r)}return n};var Z=[{el:"source",elId:"sourceId",epDefs:"sourceEndpointDefinitions"},{el:"target",elId:"targetId",epDefs:"targetEndpointDefinitions"}],J=function(e,t,n,o){var r,a,i,s=Z[n],l=e[s.elId],c=(e[s.el],e.endpoints[n]),u={index:n,originalSourceId:0===n?l:e.sourceId,newSourceId:e.sourceId,originalTargetId:1==n?l:e.targetId,newTargetId:e.targetId,connection:e};if(t.constructor==g.Endpoint)r=t,r.addConnection(e);else if(a=X(t),i=this[s.epDefs][a],a===e[s.elId])r=null;else if(i)for(var d in i){if(!i[d].enabled)return;r=null!=i[d].endpoint&&i[d].endpoint._jsPlumb?i[d].endpoint:this.addEndpoint(t,i[d].def),i[d].uniqueEndpoint&&(i[d].endpoint=r),r._doNotDeleteOnDetach=!1,r._deleteOnDetach=!0,r.addConnection(e)}else r=e.makeEndpoint(0===n,t,a),r._doNotDeleteOnDetach=!1,r._deleteOnDetach=!0;return null!=r&&(c.detachFromConnection(e),e.endpoints[n]=r,e[s.el]=r.element,e[s.elId]=r.elementId,u[0===n?"newSourceId":"newTargetId"]=r.elementId,ee(u),o||e.repaint()),u}.bind(this);this.setSource=function(e,t,n){var o=J(e,t,0,n);this.anchorManager.sourceChanged(o.originalSourceId,o.newSourceId,e)},this.setTarget=function(e,t,n){var o=J(e,t,1,n);this.anchorManager.updateOtherEndpoint(o.originalSourceId,o.originalTargetId,o.newTargetId,e)},this.deleteEndpoint=function(e,t){var n="string"==typeof e?C[e]:e;return n&&a.deleteObject({endpoint:n,dontUpdateHover:t}),a},this.deleteEveryEndpoint=function(){var e=a.setSuspendDrawing(!0);for(var t in x){var n=x[t];if(n&&n.length)for(var o=0,r=n.length;r>o;o++)a.deleteEndpoint(n[o],!0)}return x={},$={},C={},q={},E={},a.anchorManager.reset(),a.getDragManager().reset(),e||a.setSuspendDrawing(!1),a};var Q=function(e,t,n){var o=a.Defaults.ConnectionType||a.getDefaultConnectionType(),r=e.constructor==o,i=r?{connection:e,source:e.source,target:e.target,sourceId:e.sourceId,targetId:e.targetId,sourceEndpoint:e.endpoints[0],targetEndpoint:e.endpoints[1]}:e;t&&a.fire("connectionDetached",i,n),a.anchorManager.connectionDetached(i)},ee=a.fireMoveEvent=function(e,t){a.fire("connectionMoved",e,t)};this.unregisterEndpoint=function(e){e._jsPlumb.uuid&&(C[e._jsPlumb.uuid]=null),a.anchorManager.deleteEndpoint(e);for(var t in x){var n=x[t];if(n){for(var o=[],r=0,i=n.length;i>r;r++)n[r]!=e&&o.push(n[r]);x[t]=o}x[t].length<1&&delete x[t]}},this.detach=function(){if(0!==arguments.length){var e=a.Defaults.ConnectionType||a.getDefaultConnectionType(),t=arguments[0].constructor==e,n=2==arguments.length&&t?arguments[1]||{}:arguments[0],r=n.fireEvent!==!1,i=n.forceDetach,s=t?arguments[0]:n.connection;if(s)(i||o.functionChain(!0,!1,[[s.endpoints[0],"isDetachAllowed",[s]],[s.endpoints[1],"isDetachAllowed",[s]],[s,"isDetachAllowed",[s]],[a,"checkCondition",["beforeDetach",s]]]))&&s.endpoints[0].detach(s,!1,!0,r);else{var l=g.extend({},n);if(l.uuids)L(l.uuids[0]).detachFrom(L(l.uuids[1]),r);else if(l.sourceEndpoint&&l.targetEndpoint)l.sourceEndpoint.detachFrom(l.targetEndpoint);else{var c=X(a.getElement(l.source)),u=X(a.getElement(l.target));z(c,function(e){(e.sourceId==c&&e.targetId==u||e.targetId==c&&e.sourceId==u)&&a.checkCondition("beforeDetach",e)&&e.endpoints[0].detach(e,!1,!0,r)})}}}},this.detachAllConnections=function(e,t){t=t||{},e=a.getElement(e);var n=X(e),o=x[n];if(o&&o.length)for(var r=0,i=o.length;i>r;r++)o[r].detachAll(t.fireEvent!==!1,t.forceDetach);return a},this.detachEveryConnection=function(e){return e=e||{},a.batch(function(){for(var t in x){var n=x[t];if(n&&n.length)for(var o=0,r=n.length;r>o;o++)n[o].detachAll(e.fireEvent!==!1,e.forceDetach)}_.length=0}),a},this.deleteObject=function(e){var t={endpoints:{},connections:{},endpointCount:0,connectionCount:0},n=(e.fireEvent!==!1,e.deleteAttachedObjects!==!1),r=function(o){if(null!=o&&null==t.connections[o.id]&&(e.dontUpdateHover||null==o._jsPlumb||o.setHover(!1),t.connections[o.id]=o,t.connectionCount++,n))for(var r=0;r<o.endpoints.length;r++)o.endpoints[r]._deleteOnDetach&&i(o.endpoints[r])},i=function(o){if(null!=o&&null==t.endpoints[o.id]&&(e.dontUpdateHover||null==o._jsPlumb||o.setHover(!1),t.endpoints[o.id]=o,t.endpointCount++,n))for(var a=0;a<o.connections.length;a++){var i=o.connections[a];r(i)}};e.connection?r(e.connection):i(e.endpoint);for(var s in t.connections){var l=t.connections[s];l._jsPlumb&&(o.removeWithFunction(_,function(e){return l.id==e.id}),Q(l,e.fireEvent===!1?!1:!l.pending,e.originalEvent),l.endpoints[0].detachFromConnection(l),l.endpoints[1].detachFromConnection(l),l.cleanup(!0),l.destroy(!0))}for(var c in t.endpoints){var u=t.endpoints[c];u._jsPlumb&&(a.unregisterEndpoint(u),u.cleanup(!0),u.destroy(!0))}return t},this.draggable=function(e,t){var n;return u(function(e){n=h(e),n.el&&N(n.el,!0,t,n.id)},e),a},this.droppable=function(e,t){var n;return t=t||{},t.allowLoopback=!1,u(function(e){n=h(e),n.el&&a.initDroppable(n.el,t)},e),a};var te=function(e,t,n,o){for(var r=0,a=e.length;a>r;r++)e[r][t].apply(e[r],n);return o(e)},ne=function(e,t,n){for(var o=[],r=0,a=e.length;a>r;r++)o.push([e[r][t].apply(e[r],n),e[r]]);return o},oe=function(e,t,n){return function(){return te(e,t,arguments,n)}},re=function(e,t){return function(){return ne(e,t,arguments)}},ae=function(e,t){var n=[];if(e)if("string"==typeof e){if("*"===e)return e;n.push(e)}else if(t)n=e;else if(e.length)for(var o=0,r=e.length;r>o;o++)n.push(h(e[o]).id);else n.push(h(e).id);return n},ie=function(e,t,n){return"*"===e?!0:e.length>0?-1!=e.indexOf(t):!n};this.getConnections=function(e,t){e?e.constructor==String&&(e={scope:e}):e={};for(var n=e.scope||a.getDefaultScope(),o=ae(n,!0),r=ae(e.source),i=ae(e.target),s=!t&&o.length>1?{}:[],l=function(e,n){if(!t&&o.length>1){var r=s[e];null==r&&(r=s[e]=[]),r.push(n)}else s.push(n)},c=0,u=_.length;u>c;c++){var d=_[c];ie(o,d.scope)&&ie(r,d.sourceId)&&ie(i,d.targetId)&&l(d.scope,d)}return s};var se=function(e,t){return function(n){for(var o=0,r=e.length;r>o;o++)n(e[o]);return t(e)}},le=function(e){return function(t){return e[t]}},ce=function(e,t){var n,o,r={length:e.length,each:se(e,t),get:le(e)},a=["setHover","removeAllOverlays","setLabel","addClass","addOverlay","removeOverlay","removeOverlays","showOverlay","hideOverlay","showOverlays","hideOverlays","setPaintStyle","setHoverPaintStyle","setSuspendEvents","setParameter","setParameters","setVisible","repaint","addType","toggleType","removeType","removeClass","setType","bind","unbind"],i=["getLabel","getOverlay","isHover","getParameter","getParameters","getPaintStyle","getHoverPaintStyle","isVisible","hasType","getType","isSuspendEvents"];for(n=0,o=a.length;o>n;n++)r[a[n]]=oe(e,a[n],t);for(n=0,o=i.length;o>n;n++)r[i[n]]=re(e,i[n]);return r},ue=function(e){var t=ce(e,ue);return g.extend(t,{setDetachable:oe(e,"setDetachable",ue),setReattach:oe(e,"setReattach",ue),setConnector:oe(e,"setConnector",ue),detach:function(){for(var t=0,n=e.length;n>t;t++)a.detach(e[t])},isDetachable:re(e,"isDetachable"),isReattach:re(e,"isReattach")})},de=function(e){var t=ce(e,de);return g.extend(t,{setEnabled:oe(e,"setEnabled",de),setAnchor:oe(e,"setAnchor",de),isEnabled:re(e,"isEnabled"),detachAll:function(){for(var t=0,n=e.length;n>t;t++)e[t].detachAll()},remove:function(){for(var t=0,n=e.length;n>t;t++)a.deleteObject({endpoint:e[t]})}})};this.select=function(e){return e=e||{},e.scope=e.scope||"*",ue(e.connections||a.getConnections(e,!0))},this.selectEndpoints=function(e){e=e||{},e.scope=e.scope||"*";var t=!e.element&&!e.source&&!e.target,n=t?"*":ae(e.element),o=t?"*":ae(e.source),r=t?"*":ae(e.target),a=ae(e.scope,!0),i=[];for(var s in x){var l=ie(n,s,!0),c=ie(o,s,!0),u="*"!=o,d=ie(r,s,!0),p="*"!=r;if(l||c||d)e:for(var h=0,f=x[s].length;f>h;h++){var m=x[s][h];if(ie(a,m.scope,!0)){var b=u&&o.length>0&&!m.isSource,g=p&&r.length>0&&!m.isTarget;if(b||g)continue e;i.push(m)}}}return de(i)},this.getAllConnections=function(){return _},this.getDefaultScope=function(){return P},this.getEndpoint=L,this.getEndpoints=function(e){return x[h(e).id]},this.getDefaultEndpointType=function(){return g.Endpoint},this.getDefaultConnectionType=function(){return g.Connection},this.getId=X,this.appendElement=j;var pe=!1;this.isHoverSuspended=function(){return pe},this.setHoverSuspended=function(e){pe=e},this.hide=function(e,t){return H(e,"none",t),a},this.idstamp=O,this.connectorsInitialized=!1,this.registerConnectorType=function(e,t){n.push([e,t])};var he=function(e){if(!b&&e){var t=a.getElement(e);t.offsetParent&&a.setContainer(t.offsetParent)}},fe=function(){a.Defaults.Container&&a.setContainer(a.Defaults.Container)},me=a.manage=function(e,t,n){return $[e]||($[e]={el:t,endpoints:[],connections:[]},$[e].info=be({elId:e,timestamp:D}),n||a.fire("manageElement",{id:e,info:$[e].info,el:t})),$[e]},be=this.updateOffset=function(e){var t,n=e.timestamp,o=e.recalc,r=e.offset,i=e.elId;return I&&!n&&(n=D),!o&&n&&n===E[i]?{o:e.offset||q[i],s:A[i]}:(o||!r&&null==q[i]?(t=$[i]?$[i].el:null,null!=t&&(A[i]=a.getSize(t),q[i]=a.getOffset(t),E[i]=n)):(q[i]=r||q[i],null==A[i]&&(t=$[i].el,null!=t&&(A[i]=a.getSize(t))),E[i]=n),q[i]&&!q[i].right&&(q[i].right=q[i].left+A[i][0],q[i].bottom=q[i].top+A[i][1],q[i].width=A[i][0],q[i].height=A[i][1],q[i].centerx=q[i].left+q[i].width/2,q[i].centery=q[i].top+q[i].height/2),{o:q[i],s:A[i]})};this.init=function(){e=g.getRenderModes();var t=function(e,t,n){g.Connectors[e][t]=function(){n.apply(this,arguments),g.ConnectorRenderers[e].apply(this,arguments)},o.extend(g.Connectors[e][t],[n,g.ConnectorRenderers[e]])};if(!g.connectorsInitialized){for(var r=0;r<n.length;r++)for(var i=0;i<e.length;i++)t(e[i],n[r][1],n[r][0]);g.connectorsInitialized=!0}w||(fe(),a.anchorManager=new g.AnchorManager({jsPlumbInstance:a}),w=!0,a.fire("ready",a))}.bind(this),this.log=y,this.jsPlumbUIComponent=p,this.makeAnchor=function(){var e,t=function(e,t){if(g.Anchors[e])return new g.Anchors[e](t);if(!a.Defaults.DoNotThrowErrors)throw{msg:"jsPlumb: unknown anchor type '"+e+"'"}};if(0===arguments.length)return null;var n=arguments[0],r=arguments[1],i=(arguments[2],null);if(n.compute&&n.getOrientation)return n;if("string"==typeof n)i=t(arguments[0],{elementId:r,jsPlumbInstance:a});else if(o.isArray(n))if(o.isArray(n[0])||o.isString(n[0]))2==n.length&&o.isObject(n[1])?o.isString(n[0])?(e=g.extend({elementId:r,jsPlumbInstance:a},n[1]),i=t(n[0],e)):(e=g.extend({elementId:r,jsPlumbInstance:a,anchors:n[0]},n[1]),i=new g.DynamicAnchor(e)):i=new g.DynamicAnchor({anchors:n,selector:null,elementId:r,jsPlumbInstance:a});else{var s={x:n[0],y:n[1],orientation:n.length>=4?[n[2],n[3]]:[0,0],offsets:n.length>=6?[n[4],n[5]]:[0,0],elementId:r,jsPlumbInstance:a,cssClass:7==n.length?n[6]:null};i=new g.Anchor(s),i.clone=function(){return new g.Anchor(s)}}return i.id||(i.id="anchor_"+O()),i},this.makeAnchors=function(e,t,n){for(var r=[],i=0,s=e.length;s>i;i++)"string"==typeof e[i]?r.push(g.Anchors[e[i]]({elementId:t,jsPlumbInstance:n})):o.isArray(e[i])&&r.push(a.makeAnchor(e[i],t,n));return r},this.makeDynamicAnchor=function(e,t){return new g.DynamicAnchor({anchors:e,selector:t,elementId:null,jsPlumbInstance:a})},this.targetEndpointDefinitions={};var ge=function(){};this.sourceEndpointDefinitions={};var ve=function(e,t,n,o,r){for(var a=e.target||e.srcElement,i=!1,s=o.getSelector(t,n),l=0;l<s.length;l++)if(s[l]==a){i=!0;break}return r?!i:i},ye=function(e,t,n,r,i){var s=new p(t),l=t._jsPlumb.EndpointDropHandler({jsPlumb:a,enabled:function(){return e.def.enabled},isFull:function(){var t=a.select({target:e.id}).length;return e.def.maxConnections>0&&t>=e.def.maxConnections},element:e.el,elementId:e.id,isSource:r,isTarget:i,addClass:function(t){a.addClass(e.el,t)},removeClass:function(t){a.removeClass(e.el,t)},onDrop:function(e){var t=e.endpoints[0];t.anchor.locked=!1},isDropAllowed:function(){return s.isDropAllowed.apply(s,arguments)},isRedrop:function(t){return null!=t.suspendedElement&&null!=t.suspendedEndpoint&&t.suspendedEndpoint.element===e.el},getEndpoint:function(n){var o=e.def.endpoint;if(null==o||null==o._jsPlumb){var r=a.deriveEndpointAndAnchorSpec(n.getType().join(" "),!0),i=r.endpoints?g.extend(t,{endpoint:e.def.def.endpoint||r.endpoints[1]}):t;r.anchors&&(i=g.extend(i,{anchor:e.def.def.anchor||r.anchors[1]})),o=a.addEndpoint(e.el,i),o._mtNew=!0}if(t.uniqueEndpoint&&(e.def.endpoint=o),o._doNotDeleteOnDetach=!1,o._deleteOnDetach=!0,n.isDetachable()&&o.initDraggable(),null!=o.anchor.positionFinder){var s=a.getUIPosition(arguments,a.getZoom()),l=a.getOffset(e.el),c=a.getSize(e.el),u=o.anchor.positionFinder(s,l,c,o.anchor.constructorParams);o.anchor.x=u[0],o.anchor.y=u[1]}return o},maybeCleanup:function(e){e._mtNew&&0===e.connections.length?a.deleteObject({endpoint:e}):delete e._mtNew}}),c=g.dragEvents.drop;return n.scope=n.scope||t.scope||a.Defaults.Scope,n[c]=o.wrap(n[c],l,!0),i&&(n[g.dragEvents.over]=function(){return!0}),t.allowLoopback===!1&&(n.canDrop=function(t){var n=t.getDragElement()._jsPlumbRelatedElement;return n!=e.el}),a.initDroppable(e.el,n,"internal"),l};this.makeTarget=function(e,t,n){var o=g.extend({_jsPlumb:this},n);g.extend(o,t),ge(o,1,this);for(var r=(!(o.deleteEndpointsOnDetach===!1),o.maxConnections||-1),a=function(e){var t=h(e),n=t.id,a=g.extend({},o.dropOptions||{}),i="default";this.targetEndpointDefinitions[n]=this.targetEndpointDefinitions[n]||{},he(n);var s={def:g.extend({},o),uniqueEndpoint:o.uniqueEndpoint,maxConnections:r,enabled:!0};t.def=s,this.targetEndpointDefinitions[n][i]=s,ye(t,o,a,o.isSource===!0,!0),t.el._katavorioDrop[t.el._katavorioDrop.length-1].targetDef=s}.bind(this),i=e.length&&e.constructor!=String?e:[e],s=0,l=i.length;l>s;s++)a(i[s]);return this},this.unmakeTarget=function(e,t){var n=h(e);return g.destroyDroppable(n.el),t||delete this.targetEndpointDefinitions[n.id],this},this.makeSource=function(e,t,n){var r=g.extend({_jsPlumb:this},n);g.extend(r,t);var i=r.connectionType||"default",s=a.deriveEndpointAndAnchorSpec(i);r.endpoint=r.endpoint||s.endpoints[0],r.anchor=r.anchor||s.anchors[0],ge(r,0,this);for(var l=r.maxConnections||-1,c=r.onMaxConnections,u=function(e){var t=e.id,n=this.getElement(e.el);this.sourceEndpointDefinitions[t]=this.sourceEndpointDefinitions[t]||{},he(t);var s={def:g.extend({},r),uniqueEndpoint:r.uniqueEndpoint,maxConnections:l,enabled:!0};this.sourceEndpointDefinitions[t][i]=s,e.def=s;var u=g.dragEvents.stop,p=g.dragEvents.drag,h=g.extend({},r.dragOptions||{}),f=h.drag,m=h.stop,b=null,v=!1;h.scope=h.scope||r.scope,h[p]=o.wrap(h[p],function(){f&&f.apply(this,arguments),v=!1}),h[u]=o.wrap(h[u],function(){if(m&&m.apply(this,arguments),this.currentlyDragging=!1,null!=b._jsPlumb){var e=r.anchor||this.Defaults.Anchor,n=b.anchor,o=b.connections[0],i=this.makeAnchor(e,t,this),s=b.element;if(null!=i.positionFinder){var l=a.getOffset(s),c=this.getSize(s),u={left:l.left+n.x*c[0],top:l.top+n.y*c[1]},d=i.positionFinder(u,l,c,i.constructorParams);i.x=d[0],i.y=d[1]}b.setAnchor(i,!0),b.repaint(),this.repaint(b.elementId),null!=o&&this.repaint(o.targetId)}}.bind(this));var y=function(s){if(3!==s.which&&2!==s.button){var u=this.sourceEndpointDefinitions[t][i];if(u.enabled){if(t=this.getId(this.getElement(e.el)),r.filter){var p=o.isString(r.filter)?ve(s,e.el,r.filter,this,r.filterExclude):r.filter(s,e.el);if(p===!1)return}var f=this.select({source:t}).length;if(u.maxConnections>=0&&f>=u.maxConnections)return c&&c({element:e.el,maxConnections:l},s),!1;var m=g.getPositionOnElement(s,n,d),y={};g.extend(y,r),y.isTemporarySource=!0,y.anchor=[m[0],m[1],0,0],y.dragOptions=h,u.def.scope&&(y.scope=u.def.scope),b=this.addEndpoint(t,y),v=!0,b._doNotDeleteOnDetach=!1,b._deleteOnDetach=!0,u.uniqueEndpoint&&(u.endpoint?b.finalEndpoint=u.endpoint:(u.endpoint=b,b._deleteOnDetach=!1,b._doNotDeleteOnDetach=!0));var w=function(){a.off(b.canvas,"mouseup",w),a.off(e.el,"mouseup",w),v&&(v=!1,a.deleteEndpoint(b))};a.on(b.canvas,"mouseup",w),a.on(e.el,"mouseup",w);var _={};if(u.def.extract)for(var x in u.def.extract){var C=s.srcElement.getAttribute(x);C&&(_[u.def.extract[x]]=C)}a.trigger(b.canvas,"mousedown",s,_),o.consume(s)}}}.bind(this);this.on(e.el,"mousedown",y),s.trigger=y,r.filter&&(o.isString(r.filter)||o.isFunction(r.filter))&&a.setDragFilter(e.el,r.filter);var w=g.extend({},r.dropOptions||{});ye(e,r,w,!0,r.isTarget===!0)}.bind(this),p=e.length&&e.constructor!=String?e:[e],f=0,m=p.length;m>f;f++)u(h(p[f]));return this},this.unmakeSource=function(e,t,n){var o=h(e),r=this.sourceEndpointDefinitions[o.id];if(r)for(var i in r)if(null==t||t===i){var s=r[i].trigger;s&&a.off(o.el,"mousedown",s),n||delete this.sourceEndpointDefinitions[o.id][i]}return this},this.unmakeEverySource=function(){for(var e in this.sourceEndpointDefinitions)a.unmakeSource(e,null,!0);return this.sourceEndpointDefinitions={},this};var we=function(e,t,n){t=o.isArray(t)?t:[t];var r=X(e);n=n||"default";for(var a=0;a<t.length;a++){var i=this[t[a]][r];if(i&&i[n])return i[n].def.scope||this.Defaults.Scope}}.bind(this),_e=function(e,t,n,r){n=o.isArray(n)?n:[n];var a=X(e);r=r||"default";for(var i=0;i<n.length;i++){var s=this[n[i]][a];s&&s[r]&&(s[r].def.scope=t)}}.bind(this);this.getScope=function(e){return we(e,["sourceEndpointDefinitions","targetEndpointDefinitions"])},this.getSourceScope=function(e){return we(e,"sourceEndpointDefinitions")},this.getTargetScope=function(e){return we(e,"targetEndpointDefinitions")},this.setScope=function(e,t,n){this.setSourceScope(e,t,n),this.setTargetScope(e,t,n)},this.setSourceScope=function(e,t,n){_e(e,t,"sourceEndpointDefinitions",n),this.setDragScope(e,t)},this.setTargetScope=function(e,t,n){_e(e,t,"targetEndpointDefinitions",n),this.setDropScope(e,t)},this.unmakeEveryTarget=function(){for(var e in this.targetEndpointDefinitions)a.unmakeTarget(e,!0);return this.targetEndpointDefinitions={},this};var xe=function(e,t,n,r,a){var i="source"==e?this.sourceEndpointDefinitions:this.targetEndpointDefinitions;if(a=a||"default",o.isString(t)&&i[t]&&i[t][a])i[t][a].enabled=r?!i[t][a].enabled:n;else if(t.length)for(var s=0,l=t.length;l>s;s++){var c=h(t[s]);i[c.id]&&i[c.id][a]&&(i[c.id][a].enabled=r?!i[c.id][a].enabled:n)}else{var u=h(t).id;i[u]&&i[u][a]&&(i[u][a].enabled=r?!i[u][a].enabled:n)}return this}.bind(this),Ce=function(e,t){return o.isString(e)||!e.length?t.apply(this,[e]):e.length?t.apply(this,[e[0]]):void 0}.bind(this);this.toggleSourceEnabled=function(e,t){return xe("source",e,null,!0,t),this.isSourceEnabled(e,t)},this.setSourceEnabled=function(e,t,n){return xe("source",e,t,null,n)},this.isSource=function(e,t){return t=t||"default",Ce(e,function(e){var n=this.sourceEndpointDefinitions[h(e).id];return null!=n&&null!=n[t]}.bind(this))},this.isSourceEnabled=function(e,t){return t=t||"default",Ce(e,function(e){var n=this.sourceEndpointDefinitions[h(e).id];return n&&n[t]&&n[t].enabled===!0}.bind(this))},this.toggleTargetEnabled=function(e,t){return xe("target",e,null,!0,t),this.isTargetEnabled(e,t)},this.isTarget=function(e,t){return t=t||"default",Ce(e,function(e){var n=this.targetEndpointDefinitions[h(e).id];return null!=n&&null!=n[t]}.bind(this))},this.isTargetEnabled=function(e,t){return t=t||"default",Ce(e,function(e){var n=this.targetEndpointDefinitions[h(e).id];return n&&n[t]&&n[t].enabled===!0}.bind(this))},this.setTargetEnabled=function(e,t,n){
return xe("target",e,t,null,n)},this.ready=function(e){a.bind("ready",e)};var $e=function(e,t){if("object"==typeof e&&e.length)for(var n=0,o=e.length;o>n;n++)t(e[n]);else t(e);return a};this.repaint=function(e,t,n){return $e(e,function(e){R(e,t,n)})},this.revalidate=function(e,t,n){return $e(e,function(e){var o=n?e:a.getId(e);a.updateOffset({elId:o,recalc:!0,timestamp:t}),a.repaint(e)})},this.repaintEverything=function(){var e,t=r();for(e in x)a.updateOffset({elId:e,recalc:!0,timestamp:t});for(e in x)R(e,null,t);return this},this.removeAllEndpoints=function(e,t,n){n=n||[];var o=function(e){var r,i,s=h(e),l=x[s.id];if(l)for(n.push(s),r=0,i=l.length;i>r;r++)a.deleteEndpoint(l[r],!1);if(delete x[s.id],t&&s.el&&3!=s.el.nodeType&&8!=s.el.nodeType)for(r=0,i=s.el.childNodes.length;i>r;r++)o(s.el.childNodes[r])};return o(e),this};var qe=function(e,t){a.removeAllEndpoints(e.id,!0,t);for(var n=function(e){a.getDragManager().elementRemoved(e.id),a.anchorManager.clearFor(e.id),a.anchorManager.removeFloatingConnection(e.id),delete a.floatingConnections[e.id],delete $[e.id],delete q[e.id],e.el&&(a.removeElement(e.el),e.el._jsPlumb=null)},o=1;o<t.length;o++)n(t[o]);n(e)};this.remove=function(e,t){var n=h(e),o=[];return n.text?n.el.parentNode.removeChild(n.el):n.id&&a.batch(function(){qe(n,o)},t===!1),a},this.empty=function(e,t){var n=[],o=function(e,t){var r=h(e);if(r.text)r.el.parentNode.removeChild(r.el);else if(r.el){for(;r.el.childNodes.length>0;)o(r.el.childNodes[0]);t||qe(r,n)}};return a.batch(function(){o(e,!0)},t===!1),a},this.reset=function(){a.silently(function(){a.deleteEveryEndpoint(),a.unbind(),this.targetEndpointDefinitions={},this.sourceEndpointDefinitions={},_.length=0,this.doReset&&this.doReset()}.bind(this))};var Ee=function(e){e.canvas&&e.canvas.parentNode&&e.canvas.parentNode.removeChild(e.canvas),e.cleanup(),e.destroy()};this.clear=function(){a.select().each(Ee),a.selectEndpoints().each(Ee),x={},C={}},this.setDefaultScope=function(e){return P=e,a},this.setDraggable=W,this.deriveEndpointAndAnchorSpec=function(e,t){for(var n=((t?"":"default ")+e).split(/[\s]/),o=null,r=null,i=null,s=null,l=0;l<n.length;l++){var c=a.getType(n[l],"connection");c&&(c.endpoints&&(o=c.endpoints),c.endpoint&&(r=c.endpoint),c.anchors&&(s=c.anchors),c.anchor&&(i=c.anchor))}return{endpoints:o?o:[r,r],anchors:s?s:[i,i]}},this.setId=function(e,t,n){var r;o.isString(e)?r=e:(e=this.getElement(e),r=this.getId(e));var a=this.getConnections({source:r,scope:"*"},!0),i=this.getConnections({target:r,scope:"*"},!0);t=""+t,n?e=this.getElement(t):(e=this.getElement(r),this.setAttribute(e,"id",t)),x[t]=x[r]||[];for(var s=0,l=x[t].length;l>s;s++)x[t][s].setElementId(t),x[t][s].setReferenceElement(e);delete x[r],this.sourceEndpointDefinitions[t]=this.sourceEndpointDefinitions[r],delete this.sourceEndpointDefinitions[r],this.targetEndpointDefinitions[t]=this.targetEndpointDefinitions[r],delete this.targetEndpointDefinitions[r],this.anchorManager.changeId(r,t),this.getDragManager().changeId(r,t),$[t]=$[r],delete $[r];var c=function(n,o,r){for(var a=0,i=n.length;i>a;a++)n[a].endpoints[o].setElementId(t),n[a].endpoints[o].setReferenceElement(e),n[a][r+"Id"]=t,n[a][r]=e};c(a,0,"source"),c(i,1,"target"),this.repaint(t)},this.setDebugLog=function(e){y=e},this.setSuspendDrawing=function(e,t){var n=I;return I=e,D=e?(new Date).getTime():null,t&&this.repaintEverything(),n},this.isSuspendDrawing=function(){return I},this.getSuspendedAt=function(){return D},this.batch=function(e,t){var n=this.isSuspendDrawing();n||this.setSuspendDrawing(!0);try{e()}catch(r){o.log("Function run while suspended failed",r)}n||this.setSuspendDrawing(!1,!t)},this.doWhileSuspended=this.batch,this.getCachedData=Y,this.timestamp=r,this.show=function(e,t){return H(e,"block",t),a},this.toggleVisible=G,this.toggleDraggable=K,this.addListener=this.bind};o.extend(b,o.EventGenerator,{setAttribute:function(e,t,n){this.setAttribute(e,t,n)},getAttribute:function(e,t){return this.getAttribute(g.getElement(e),t)},convertToFullOverlaySpec:function(e){return o.isString(e)&&(e=[e,{}]),e[1].id=e[1].id||o.uuid(),e},registerConnectionType:function(e,t){if(this._connectionTypes[e]=g.extend({},t),t.overlays){for(var n={},o=0;o<t.overlays.length;o++){var r=this.convertToFullOverlaySpec(t.overlays[o]);n[r[1].id]=r}this._connectionTypes[e].overlays=n}},registerConnectionTypes:function(e){for(var t in e)this.registerConnectionType(t,e[t])},registerEndpointType:function(e,t){if(this._endpointTypes[e]=g.extend({},t),t.overlays){for(var n={},o=0;o<t.overlays.length;o++){var r=this.convertToFullOverlaySpec(t.overlays[o]);n[r[1].id]=r}this._endpointTypes[e].overlays=n}},registerEndpointTypes:function(e){for(var t in e)this.registerEndpointType(t,e[t])},getType:function(e,t){return"connection"===t?this._connectionTypes[e]:this._endpointTypes[e]},setIdChanged:function(e,t){this.setId(e,t,!0)},setParent:function(e,t){var n=this.getElement(e),o=this.getId(n),r=this.getElement(t),a=this.getId(r);n.parentNode.removeChild(n),r.appendChild(n),this.getDragManager().setParent(n,o,r,a)},extend:function(e,t,n){var o;if(n)for(o=0;o<n.length;o++)e[n[o]]=t[n[o]];else for(o in t)e[o]=t[o];return e},floatingConnections:{},getFloatingAnchorIndex:function(e){return e.endpoints[0].isFloating()?0:e.endpoints[1].isFloating()?1:-1}});var g=new b;t.jsPlumb=g,g.getInstance=function(e){var t=new b(e);return t.init(),t},g.each=function(e,t){if(null!=e)if("string"==typeof e)t(g.getElement(e));else if(null!=e.length)for(var n=0;n<e.length;n++)t(g.getElement(e[n]));else t(e)},"function"==typeof define&&(define("jsplumb",[],function(){return g}),define("jsplumbinstance",[],function(){return g.getInstance()})),"undefined"!=typeof exports&&(exports.jsPlumb=g)}.call(this),function(){var e=this;e.jsPlumbUtil;var t=(!!window.SVGAngle||document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),function(e,t){if(null==e)return[0,0];var n=i(e),o=a(n,0);return[o[t+"X"],o[t+"Y"]]}),n=function(e){return null==e?[0,0]:t(e,"page")},o=function(e){return t(e,"screen")},r=function(e){return t(e,"client")},a=function(e,t){return e.item?e.item(t):e[t]},i=function(e){return e.touches&&e.touches.length>0?e.touches:e.changedTouches&&e.changedTouches.length>0?e.changedTouches:e.targetTouches&&e.targetTouches.length>0?e.targetTouches:[e]},s=function(e){var t={},n=[],o={},r={},a={};this.register=function(i){var s=e.getId(i),l=e.getOffset(i);t[s]||(t[s]=i,n.push(i),o[s]={});var c=function(t){if(t)for(var n=0;n<t.childNodes.length;n++)if(3!=t.childNodes[n].nodeType&&8!=t.childNodes[n].nodeType){var i=jsPlumb.getElement(t.childNodes[n]),u=e.getId(t.childNodes[n],null,!0);if(u&&r[u]&&r[u]>0){var d=e.getOffset(i);o[s][u]={id:u,offset:{left:d.left-l.left,top:d.top-l.top}},a[u]=s}c(t.childNodes[n])}};c(i)},this.updateOffsets=function(t){if(null!=t){var n=jsPlumb.getElement(t),r=e.getId(n),i=o[r],s=e.getOffset(n);if(i)for(var l in i)if(i.hasOwnProperty(l)){var c=jsPlumb.getElement(l),u=e.getOffset(c);o[r][l]={id:l,offset:{left:u.left-s.left,top:u.top-s.top}},a[l]=r}}},this.endpointAdded=function(n,i){i=i||e.getId(n);var s=document.body,l=n.parentNode;for(r[i]=r[i]?r[i]+1:1;null!=l&&l!=s;){var c=e.getId(l,null,!0);if(c&&t[c]){var u=e.getOffset(l);if(null==o[c][i]){var d=e.getOffset(n);o[c][i]={id:i,offset:{left:d.left-u.left,top:d.top-u.top}},a[i]=c}break}l=l.parentNode}},this.endpointDeleted=function(e){if(r[e.elementId]&&(r[e.elementId]--,r[e.elementId]<=0))for(var t in o)o.hasOwnProperty(t)&&o[t]&&(delete o[t][e.elementId],delete a[e.elementId])},this.changeId=function(e,t){o[t]=o[e],o[e]={},a[t]=a[e],a[e]=null},this.getElementsForDraggable=function(e){return o[e]},this.elementRemoved=function(e){var t=a[e];t&&(delete o[t][e],delete a[e])},this.reset=function(){t={},n=[],o={},r={}},this.dragEnded=function(t){var n=e.getId(t),o=a[n];o&&this.updateOffsets(o)},this.setParent=function(t,n,r,i){var s=a[n];if(s){o[i]||(o[i]={}),o[i][n]=o[s][n],delete o[s][n];var l=e.getOffset(r),c=e.getOffset(t);o[i][n].offset={left:c.left-l.left,top:c.top-l.top},a[n]=i}},this.getDragAncestor=function(t){var n=jsPlumb.getElement(t),o=e.getId(n),r=a[o];return r?jsPlumb.getElement(r):null}},l=function(e){return null==e?null:e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},c=function(e,t){t=l(t),"undefined"!=typeof e.className.baseVal?e.className.baseVal=t:e.className=t},u=function(e){return"undefined"==typeof e.className.baseVal?e.className:e.className.baseVal},d=function(e,t,n){t=null==t?[]:jsPlumbUtil.isArray(t)?t:t.split(/\s+/),n=null==n?[]:jsPlumbUtil.isArray(n)?n:n.split(/\s+/);var o=u(e),r=o.split(/\s+/),a=function(e,t){for(var n=0;n<t.length;n++)if(e)-1==r.indexOf(t[n])&&r.push(t[n]);else{var o=r.indexOf(t[n]);-1!=o&&r.splice(o,1)}};a(!0,t),a(!1,n),c(e,r.join(" "))};jsPlumb.extend(jsPlumbInstance.prototype,{headless:!1,pageLocation:n,screenLocation:o,clientLocation:r,getDragManager:function(){return null==this.dragManager&&(this.dragManager=new s(this)),this.dragManager},recalculateOffsets:function(e){this.getDragManager().updateOffsets(e)},createElement:function(e,t,n,o){return this.createElementNS(null,e,t,n,o)},createElementNS:function(e,t,n,o,r){var a,i=null==e?document.createElement(t):document.createElementNS(e,t);n=n||{};for(a in n)i.style[a]=n[a];o&&(i.className=o),r=r||{};for(a in r)i.setAttribute(a,""+r[a]);return i},getAttribute:function(e,t){return null!=e.getAttribute?e.getAttribute(t):null},setAttribute:function(e,t,n){null!=e.setAttribute&&e.setAttribute(t,n)},setAttributes:function(e,t){for(var n in t)t.hasOwnProperty(n)&&e.setAttribute(n,t[n])},appendToRoot:function(e){document.body.appendChild(e)},getRenderModes:function(){return["svg"]},getClass:u,addClass:function(e,t){jsPlumb.each(e,function(e){d(e,t)})},hasClass:function(e,t){return e=jsPlumb.getElement(e),e.classList?e.classList.contains(t):-1!=u(e).indexOf(t)},removeClass:function(e,t){jsPlumb.each(e,function(e){d(e,null,t)})},updateClasses:function(e,t,n){jsPlumb.each(e,function(e){d(e,t,n)})},setClass:function(e,t){jsPlumb.each(e,function(e){c(e,t)})},setPosition:function(e,t){e.style.left=t.left+"px",e.style.top=t.top+"px"},getPosition:function(e){var t=function(t){var n=e.style[t];return n?n.substring(0,n.length-2):0};return{left:t("left"),top:t("top")}},getStyle:function(e,t){return"undefined"!=typeof window.getComputedStyle?getComputedStyle(e,null).getPropertyValue(t):e.currentStyle[t]},getSelector:function(e,t){var n=null;return n=1==arguments.length?null!=e.nodeType?e:document.querySelectorAll(e):e.querySelectorAll(t)},getOffset:function(e,t,n){e=jsPlumb.getElement(e),n=n||this.getContainer();for(var o={left:e.offsetLeft,top:e.offsetTop},r=t||null!=n&&e!=n&&e.offsetParent!=n?e.offsetParent:null,a=function(e){null!=e&&e!==document.body&&(e.scrollTop>0||e.scrollLeft>0)&&(o.left-=e.scrollLeft,o.top-=e.scrollTop)}.bind(this);null!=r;)o.left+=r.offsetLeft,o.top+=r.offsetTop,a(r),r=t?r.offsetParent:r.offsetParent==n?null:r.offsetParent;if(null!=n&&!t&&(n.scrollTop>0||n.scrollLeft>0)){var i=null!=e.offsetParent?this.getStyle(e.offsetParent,"position"):"static",s=this.getStyle(e,"position");"absolute"!==s&&"fixed"!==s&&"absolute"!==i&&"fixed"!=i&&(o.left-=n.scrollLeft,o.top-=n.scrollTop)}return o},getPositionOnElement:function(e,t,n){var o="undefined"!=typeof t.getBoundingClientRect?t.getBoundingClientRect():{left:0,top:0,width:0,height:0},r=document.body,a=document.documentElement,i=window.pageYOffset||a.scrollTop||r.scrollTop,s=window.pageXOffset||a.scrollLeft||r.scrollLeft,l=a.clientTop||r.clientTop||0,c=a.clientLeft||r.clientLeft||0,u=0,d=0,p=o.top+i-l+u*n,h=o.left+s-c+d*n,f=jsPlumb.pageLocation(e),m=o.width||t.offsetWidth*n,b=o.height||t.offsetHeight*n,g=(f[0]-h)/m,v=(f[1]-p)/b;return[g,v]},getAbsolutePosition:function(e){var t=function(t){var n=e.style[t];return n?parseFloat(n.substring(0,n.length-2)):void 0};return[t("left"),t("top")]},setAbsolutePosition:function(e,t,n,o){n?this.animate(e,{left:"+="+(t[0]-n[0]),top:"+="+(t[1]-n[1])},o):(e.style.left=t[0]+"px",e.style.top=t[1]+"px")},getSize:function(e){return[e.offsetWidth,e.offsetHeight]},getWidth:function(e){return e.offsetWidth},getHeight:function(e){return e.offsetHeight}})}.call(this),function(){"use strict";var e=this,t=e.jsPlumb,n=e.jsPlumbUtil,o="__label",r=function(e,n){var r={cssClass:n.cssClass,labelStyle:e.labelStyle,id:o,component:e,_jsPlumb:e._jsPlumb.instance},a=jsPlumb.extend(r,n);return new(t.Overlays[e._jsPlumb.instance.getRenderMode()].Label)(a)},a=function(e,o){var r=null;if(n.isArray(o)){var a=o[0],i=t.extend({component:e,_jsPlumb:e._jsPlumb.instance},o[1]);3==o.length&&t.extend(i,o[2]),r=new(t.Overlays[e._jsPlumb.instance.getRenderMode()][a])(i)}else r=o.constructor==String?new(t.Overlays[e._jsPlumb.instance.getRenderMode()][o])({component:e,_jsPlumb:e._jsPlumb.instance}):o;return r.id=r.id||n.uuid(),e.cacheTypeItem("overlay",r,r.id),e._jsPlumb.overlays[r.id]=r,r};t.OverlayCapableJsPlumbUIComponent=function(e){jsPlumbUIComponent.apply(this,arguments),this._jsPlumb.overlays={},this._jsPlumb.overlayPositions={},e.label&&(this.getDefaultType().overlays[o]=["Label",{label:e.label,location:e.labelLocation||this.defaultLabelLocation||.5,labelStyle:e.labelStyle||this._jsPlumb.instance.Defaults.LabelStyle,id:o}]),this.setListenerComponent=function(e){if(this._jsPlumb)for(var t in this._jsPlumb.overlays)this._jsPlumb.overlays[t].setListenerComponent(e)}},t.OverlayCapableJsPlumbUIComponent.applyType=function(e,t){if(t.overlays){var n,o={};for(n in t.overlays){var r=e._jsPlumb.overlays[t.overlays[n][1].id];if(r)r.updateFrom(t.overlays[n][1]),o[t.overlays[n][1].id]=!0;else{var a=e.getCachedTypeItem("overlay",t.overlays[n][1].id);null!=a?(a.reattach(e._jsPlumb.instance),a.updateFrom(t.overlays[n][1]),e._jsPlumb.overlays[a.id]=a):a=e.addOverlay(t.overlays[n],!0),o[a.id]=!0}}for(n in e._jsPlumb.overlays)null==o[e._jsPlumb.overlays[n].id]&&e.removeOverlay(e._jsPlumb.overlays[n].id,!0)}},n.extend(t.OverlayCapableJsPlumbUIComponent,e.jsPlumbUIComponent,{setHover:function(e){if(this._jsPlumb&&!this._jsPlumb.instance.isConnectionBeingDragged())for(var t in this._jsPlumb.overlays)this._jsPlumb.overlays[t][e?"addClass":"removeClass"](this._jsPlumb.instance.hoverClass)},addOverlay:function(e,t){var n=a(this,e);return t||this.repaint(),n},getOverlay:function(e){return this._jsPlumb.overlays[e]},getOverlays:function(){return this._jsPlumb.overlays},hideOverlay:function(e){var t=this.getOverlay(e);t&&t.hide()},hideOverlays:function(){for(var e in this._jsPlumb.overlays)this._jsPlumb.overlays[e].hide()},showOverlay:function(e){var t=this.getOverlay(e);t&&t.show()},showOverlays:function(){for(var e in this._jsPlumb.overlays)this._jsPlumb.overlays[e].show()},removeAllOverlays:function(e){for(var t in this._jsPlumb.overlays)this._jsPlumb.overlays[t].cleanup&&this._jsPlumb.overlays[t].cleanup();this._jsPlumb.overlays={},this._jsPlumb.overlayPositions=null,e||this.repaint()},removeOverlay:function(e,t){var n=this._jsPlumb.overlays[e];n&&(!t&&n.cleanup&&n.cleanup(),delete this._jsPlumb.overlays[e],this._jsPlumb.overlayPositions&&delete this._jsPlumb.overlayPositions[e])},removeOverlays:function(){for(var e=0,t=arguments.length;t>e;e++)this.removeOverlay(arguments[e])},moveParent:function(e){if(this.bgCanvas&&(this.bgCanvas.parentNode.removeChild(this.bgCanvas),e.appendChild(this.bgCanvas)),this.canvas&&this.canvas.parentNode){this.canvas.parentNode.removeChild(this.canvas),e.appendChild(this.canvas);for(var t in this._jsPlumb.overlays)if(this._jsPlumb.overlays[t].isAppendedAtTopLevel){var n=this._jsPlumb.overlays[t].getElement();n.parentNode.removeChild(n),e.appendChild(n)}}},getLabel:function(){var e=this.getOverlay(o);return null!=e?e.getLabel():null},getLabelOverlay:function(){return this.getOverlay(o)},setLabel:function(e){var t=this.getOverlay(o);if(t)e.constructor==String||e.constructor==Function?t.setLabel(e):(e.label&&t.setLabel(e.label),e.location&&t.setLocation(e.location));else{var n=e.constructor==String||e.constructor==Function?{label:e}:e;t=r(this,n),this._jsPlumb.overlays[o]=t}this._jsPlumb.instance.isSuspendDrawing()||this.repaint()},cleanup:function(e){for(var t in this._jsPlumb.overlays)this._jsPlumb.overlays[t].cleanup(e),this._jsPlumb.overlays[t].destroy(e);e&&(this._jsPlumb.overlays={},this._jsPlumb.overlayPositions=null)},setVisible:function(e){this[e?"showOverlays":"hideOverlays"]()},setAbsoluteOverlayPosition:function(e,t){this._jsPlumb.overlayPositions[e.id]=t},getAbsoluteOverlayPosition:function(e){return this._jsPlumb.overlayPositions?this._jsPlumb.overlayPositions[e.id]:null},_clazzManip:function(e,t,n){if(!n)for(var o in this._jsPlumb.overlays)this._jsPlumb.overlays[o][e+"Class"](t)},addClass:function(e,t){this._clazzManip("add",e,t)},removeClass:function(e,t){this._clazzManip("remove",e,t)}})}.call(this),function(){"use strict";var e=this,t=e.jsPlumb,n=e.jsPlumbUtil,o=function(e,t,n){var o=!1;return{drag:function(){if(o)return o=!1,!0;if(t.element){var r=n.getUIPosition(arguments,n.getZoom());jsPlumb.setPosition(t.element,r),n.repaint(t.element,r),e.paint({anchorPoint:e.anchor.getCurrentLocation({element:e.element})})}},stopDrag:function(){o=!0}}},r=function(e,t,n,o){var r=jsPlumb.createElement("div",{position:"absolute"});t.appendElement(r);var a=t.getId(r);jsPlumb.setPosition(r,n),r.style.width=o[0]+"px",r.style.height=o[1]+"px",t.manage(a,r,!0),e.id=a,e.element=r},a=function(e,n,o,r,a,i,s,l){var c=new t.FloatingAnchor({reference:n,referenceCanvas:r,jsPlumbInstance:i});return s({paintStyle:e,endpoint:o,anchor:c,source:a,scope:l})},i=["connectorStyle","connectorHoverStyle","connectorOverlays","connector","connectionType","connectorClass","connectorHoverClass"],s=function(e,t){var n=0;if(null!=t)for(var o=0;o<e.connections.length;o++)if(e.connections[o].sourceId==t||e.connections[o].targetId==t){n=o;break}return e.connections[n]};t.Endpoint=function(e){var l=e._jsPlumb,c=e.newConnection,u=e.newEndpoint;this.idPrefix="_jsplumb_e_",this.defaultLabelLocation=[.5,.5],this.defaultOverlayKeys=["Overlays","EndpointOverlays"],t.OverlayCapableJsPlumbUIComponent.apply(this,arguments),this.appendToDefaultType({connectionType:e.connectionType,maxConnections:null==e.maxConnections?this._jsPlumb.instance.Defaults.MaxConnections:e.maxConnections,paintStyle:e.endpointStyle||e.paintStyle||e.style||this._jsPlumb.instance.Defaults.EndpointStyle||t.Defaults.EndpointStyle,hoverPaintStyle:e.endpointHoverStyle||e.hoverPaintStyle||this._jsPlumb.instance.Defaults.EndpointHoverStyle||t.Defaults.EndpointHoverStyle,connectorStyle:e.connectorStyle,connectorHoverStyle:e.connectorHoverStyle,connectorClass:e.connectorClass,connectorHoverClass:e.connectorHoverClass,connectorOverlays:e.connectorOverlays,connector:e.connector,connectorTooltip:e.connectorTooltip}),this._jsPlumb.enabled=!(e.enabled===!1),this._jsPlumb.visible=!0,this.element=t.getElement(e.source),this._jsPlumb.uuid=e.uuid,this._jsPlumb.floatingEndpoint=null;var d=null;this._jsPlumb.uuid&&(e.endpointsByUUID[this._jsPlumb.uuid]=this),this.elementId=e.elementId,this.dragProxy=e.dragProxy,this._jsPlumb.connectionCost=e.connectionCost,this._jsPlumb.connectionsDirected=e.connectionsDirected,this._jsPlumb.currentAnchorClass="",this._jsPlumb.events={};var p=function(){var e=l.endpointAnchorClassPrefix+"-"+this._jsPlumb.currentAnchorClass;this._jsPlumb.currentAnchorClass=this.anchor.getCssClass();var t=l.endpointAnchorClassPrefix+(this._jsPlumb.currentAnchorClass?"-"+this._jsPlumb.currentAnchorClass:"");this.removeClass(e),this.addClass(t),jsPlumb.updateClasses(this.element,t,e)}.bind(this);this.prepareAnchor=function(e){var t=this._jsPlumb.instance.makeAnchor(e,this.elementId,l);return t.bind("anchorChanged",function(e){this.fire("anchorChanged",{endpoint:this,anchor:e}),p()}.bind(this)),t},this.setPreparedAnchor=function(e,t){return this._jsPlumb.instance.continuousAnchorFactory.clear(this.elementId),this.anchor=e,p(),t||this._jsPlumb.instance.repaint(this.elementId),this},this.setAnchor=function(e,t){var n=this.prepareAnchor(e);return this.setPreparedAnchor(n,t),this};var h=function(e){if(this.connections.length>0)for(var t=0;t<this.connections.length;t++)this.connections[t].setHover(e,!1);else this.setHover(e)}.bind(this);this.bind("mouseover",function(){h(!0)}),this.bind("mouseout",function(){h(!1)}),e._transient||this._jsPlumb.instance.anchorManager.add(this,this.elementId),this.prepareEndpoint=function(o,r){var a,i=function(e,n){var o=l.getRenderMode();if(t.Endpoints[o][e])return new t.Endpoints[o][e](n);if(!l.Defaults.DoNotThrowErrors)throw{msg:"jsPlumb: unknown endpoint type '"+e+"'"}},s={_jsPlumb:this._jsPlumb.instance,cssClass:e.cssClass,container:e.container,tooltip:e.tooltip,connectorTooltip:e.connectorTooltip,endpoint:this};return n.isString(o)?a=i(o,s):n.isArray(o)?(s=n.merge(o[1],s),a=i(o[0],s)):a=o.clone(),a.clone=function(){return n.isString(o)?i(o,s):n.isArray(o)?(s=n.merge(o[1],s),i(o[0],s)):void 0}.bind(this),a.typeId=r,a},this.setEndpoint=function(e){var t=this.prepareEndpoint(e);this.setPreparedEndpoint(t,!0)},this.setPreparedEndpoint=function(e){null!=this.endpoint&&(this.endpoint.cleanup(),this.endpoint.destroy()),this.endpoint=e,this.type=this.endpoint.type,this.canvas=this.endpoint.canvas},t.extend(this,e,i),this.isSource=e.isSource||!1,this.isTemporarySource=e.isTemporarySource||!1,this.isTarget=e.isTarget||!1,this.connections=e.connections||[],this.connectorPointerEvents=e["connector-pointer-events"],this.scope=e.scope||l.getDefaultScope(),this.timestamp=null,this.reattachConnections=e.reattach||l.Defaults.ReattachConnections,this.connectionsDetachable=l.Defaults.ConnectionsDetachable,(e.connectionsDetachable===!1||e.detachable===!1)&&(this.connectionsDetachable=!1),this.dragAllowedWhenFull=e.dragAllowedWhenFull!==!1,e.onMaxConnections&&this.bind("maxConnections",e.onMaxConnections),this.addConnection=function(e){this.connections.push(e),this[(this.connections.length>0?"add":"remove")+"Class"](l.endpointConnectedClass),this[(this.isFull()?"add":"remove")+"Class"](l.endpointFullClass)},this.detachFromConnection=function(e,t,n){t=null==t?this.connections.indexOf(e):t,t>=0&&(this.connections.splice(t,1),this[(this.connections.length>0?"add":"remove")+"Class"](l.endpointConnectedClass),this[(this.isFull()?"add":"remove")+"Class"](l.endpointFullClass)),!n&&this._deleteOnDetach&&0===this.connections.length&&l.deleteObject({endpoint:this,fireEvent:!1,deleteAttachedObjects:!1})},this.detach=function(e,t,n,o,r,a,i){var s=null==i?this.connections.indexOf(e):i,c=!1;return o=o!==!1,s>=0&&(n||e._forceDetach||e.isDetachable()&&e.isDetachAllowed(e)&&this.isDetachAllowed(e)&&l.checkCondition("beforeDetach",e,a))&&(l.deleteObject({connection:e,fireEvent:!t&&o,originalEvent:r,deleteAttachedObjects:!1}),c=!0),c},this.detachAll=function(e,t){for(var n=[];this.connections.length>0;){var o=this.detach(this.connections[0],!1,t===!0,e!==!1,null,this,0);o||(n.push(this.connections[0]),this.connections.splice(0,1))}return this.connections=n,this},this.detachFrom=function(e,t,n){for(var o=[],r=0;r<this.connections.length;r++)(this.connections[r].endpoints[1]==e||this.connections[r].endpoints[0]==e)&&o.push(this.connections[r]);for(var a=0;a<o.length;a++)this.detach(o[a],!1,!0,t,n);return this},this.getElement=function(){return this.element},this.setElement=function(t){var o=this._jsPlumb.instance.getId(t),r=this.elementId;return n.removeWithFunction(e.endpointsByElement[this.elementId],function(e){return e.id==this.id}.bind(this)),this.element=jsPlumb.getElement(t),this.elementId=l.getId(this.element),l.anchorManager.rehomeEndpoint(this,r,this.element),l.dragManager.endpointAdded(this.element),n.addToList(e.endpointsByElement,o,this),this},this.makeInPlaceCopy=function(){var t=this.anchor.getCurrentLocation({element:this}),n=this.anchor.getOrientation(this),o=this.anchor.getCssClass(),r={bind:function(){},compute:function(){return[t[0],t[1]]},getCurrentLocation:function(){return[t[0],t[1]]},getOrientation:function(){return n},getCssClass:function(){return o}};return u({dropOptions:e.dropOptions,anchor:r,source:this.element,paintStyle:this.getPaintStyle(),endpoint:e.hideOnDrag?"Blank":this.endpoint,_transient:!0,scope:this.scope,reference:this})},this.connectorSelector=function(){var e=this.connections[0];return e?e:this.connections.length<this._jsPlumb.maxConnections||-1==this._jsPlumb.maxConnections?null:e},this.setStyle=this.setPaintStyle,this.paint=function(e){e=e||{};var t=e.timestamp,n=!(e.recalc===!1);if(!t||this.timestamp!==t){var o=l.updateOffset({elId:this.elementId,timestamp:t}),r=e.offset?e.offset.o:o.o;if(null!=r){var a=e.anchorPoint,i=e.connectorPaintStyle;if(null==a){var c=e.dimensions||o.s,u={xy:[r.left,r.top],wh:c,element:this,timestamp:t};if(n&&this.anchor.isDynamic&&this.connections.length>0){var d=s(this,e.elementWithPrecedence),p=d.endpoints[0]==this?1:0,h=0===p?d.sourceId:d.targetId,f=l.getCachedData(h),m=f.o,b=f.s;u.txy=[m.left,m.top],u.twh=b,u.tElement=d.endpoints[p]}a=this.anchor.compute(u)}this.endpoint.compute(a,this.anchor.getOrientation(this),this._jsPlumb.paintStyleInUse,i||this.paintStyleInUse),this.endpoint.paint(this._jsPlumb.paintStyleInUse,this.anchor),this.timestamp=t;for(var g in this._jsPlumb.overlays)if(this._jsPlumb.overlays.hasOwnProperty(g)){var v=this._jsPlumb.overlays[g];v.isVisible()&&(this._jsPlumb.overlayPlacements[g]=v.draw(this.endpoint,this._jsPlumb.paintStyleInUse),v.paint(this._jsPlumb.overlayPlacements[g]))}}}},this.getTypeDescriptor=function(){return"endpoint"},this.isVisible=function(){return this._jsPlumb.visible},this.repaint=this.paint;var f=!1;this.initDraggable=function(){if(!f&&t.isDragSupported(this.element)){var i,s={id:null,element:null},p=null,h=!1,m=null,b=o(this,s,l),g=e.dragOptions||{},v={},y=t.dragEvents.start,w=t.dragEvents.stop,_=t.dragEvents.drag,x=t.dragEvents.beforeStart,C=function(e){i=e.e.payload||{}},$=function(){p=this.connectorSelector();var t=!0;this.isEnabled()||(t=!1),null!=p||this.isSource||this.isTemporarySource||(t=!1),!this.isSource||!this.isFull()||null!=p&&this.dragAllowedWhenFull||(t=!1),null==p||p.isDetachable(this)||(t=!1);var o=l.checkCondition(null==p?"beforeDrag":"beforeStartDetach",{endpoint:this,source:this.element,sourceId:this.elementId,connection:p});if(o===!1?t=!1:"object"==typeof o?jsPlumb.extend(o,i||{}):o=i||{},t===!1)return l.stopDrag&&l.stopDrag(this.canvas),b.stopDrag(),!1;for(var d=0;d<this.connections.length;d++)this.connections[d].setHover(!1);this.addClass("endpointDrag"),l.setConnectionBeingDragged(!0),p&&!this.isFull()&&this.isSource&&(p=null),l.updateOffset({elId:this.elementId});var f=this._jsPlumb.instance.getOffset(this.canvas),g=this.canvas,v=this._jsPlumb.instance.getSize(this.canvas);r(s,l,f,v),l.setAttributes(this.canvas,{dragId:s.id,elId:this.elementId});var y=this.dragProxy||this.endpoint;if(null==this.dragProxy&&null!=this.connectionType){var w=this._jsPlumb.instance.deriveEndpointAndAnchorSpec(this.connectionType);w.endpoints[1]&&(y=w.endpoints[1])}var _=this._jsPlumb.instance.makeAnchor("Center");_.isFloating=!0,this._jsPlumb.floatingEndpoint=a(this.getPaintStyle(),_,y,this.canvas,s.element,l,u,this.scope);var x=this._jsPlumb.floatingEndpoint.anchor;if(null==p)this.setHover(!1,!1),p=c({sourceEndpoint:this,targetEndpoint:this._jsPlumb.floatingEndpoint,source:this.element,target:s.element,anchors:[this.anchor,this._jsPlumb.floatingEndpoint.anchor],paintStyle:e.connectorStyle,hoverPaintStyle:e.connectorHoverStyle,connector:e.connector,overlays:e.connectorOverlays,type:this.connectionType,cssClass:this.connectorClass,hoverClass:this.connectorHoverClass,data:o}),p.pending=!0,p.addClass(l.draggingClass),this._jsPlumb.floatingEndpoint.addClass(l.draggingClass),this._jsPlumb.floatingEndpoint.anchor=x,l.fire("connectionDrag",p),l.anchorManager.newConnection(p);else{h=!0,p.setHover(!1);var C=p.endpoints[0].id==this.id?0:1;this.detachFromConnection(p,null,!0);var $=l.getDragScope(g);l.setAttribute(this.canvas,"originalScope",$),l.fire("connectionDrag",p),0===C?(m=[p.source,p.sourceId,g,$],p.source=s.element,p.sourceId=s.id,l.anchorManager.sourceChanged(p.endpoints[C].elementId,p.sourceId,p)):(m=[p.target,p.targetId,g,$],p.target=s.element,p.targetId=s.id,l.anchorManager.updateOtherEndpoint(p.sourceId,p.endpoints[C].elementId,p.targetId,p)),p.suspendedEndpoint=p.endpoints[C],p.suspendedElement=p.endpoints[C].getElement(),p.suspendedElementId=p.endpoints[C].elementId,p.suspendedElementType=0===C?"source":"target",p.suspendedEndpoint.setHover(!1),this._jsPlumb.floatingEndpoint.referenceEndpoint=p.suspendedEndpoint,p.endpoints[C]=this._jsPlumb.floatingEndpoint,p.addClass(l.draggingClass),this._jsPlumb.floatingEndpoint.addClass(l.draggingClass)}l.floatingConnections[s.id]=p,n.addToList(e.endpointsByElement,s.id,this._jsPlumb.floatingEndpoint),l.currentlyDragging=!0}.bind(this),q=function(){if(l.setConnectionBeingDragged(!1),p&&null!=p.endpoints){var e=l.getDropEvent(arguments),t=l.getFloatingAnchorIndex(p);if(p.endpoints[0===t?1:0].anchor.locked=!1,p.removeClass(l.draggingClass),this._jsPlumb&&(p.deleteConnectionNow||p.endpoints[t]==this._jsPlumb.floatingEndpoint)&&h&&p.suspendedEndpoint){0===t?(p.floatingElement=p.source,p.floatingId=p.sourceId,p.floatingEndpoint=p.endpoints[0],p.floatingIndex=0,p.source=m[0],p.sourceId=m[1]):(p.floatingElement=p.target,p.floatingId=p.targetId,p.floatingEndpoint=p.endpoints[1],p.floatingIndex=1,p.target=m[0],p.targetId=m[1]);var n=this._jsPlumb.floatingEndpoint;l.setDragScope(m[2],m[3]),p.endpoints[t]=p.suspendedEndpoint,p.isReattach()||p._forceReattach||p._forceDetach||!p.endpoints[0===t?1:0].detach(p,!1,!1,!0,e,!0)?(p.setHover(!1),p._forceDetach=null,p._forceReattach=null,this._jsPlumb.floatingEndpoint.detachFromConnection(p),p.suspendedEndpoint.addConnection(p),1==t?l.anchorManager.updateOtherEndpoint(p.sourceId,p.floatingId,p.targetId,p):l.anchorManager.sourceChanged(p.floatingId,p.sourceId,p),l.repaint(m[1])):l.deleteObject({endpoint:n})}this.deleteAfterDragStop?l.deleteObject({endpoint:this}):this._jsPlumb&&this.paint({recalc:!1}),l.fire("connectionDragStop",p,e),l.currentlyDragging=!1,p=null}s&&s.element&&l.remove(s.element,!1,!1),d&&l.deleteObject({endpoint:d}),this._jsPlumb&&(this.canvas.style.visibility="visible",this.anchor.locked=!1,this._jsPlumb.floatingEndpoint=null)}.bind(this);g=t.extend(v,g),g.scope=this.scope||g.scope,g[x]=n.wrap(g[x],C,!1),g[y]=n.wrap(g[y],$,!1),g[_]=n.wrap(g[_],b.drag),g[w]=n.wrap(g[w],q),g.multipleDrop=!1,g.canDrag=function(){return this.isSource||this.isTemporarySource||this.connections.length>0}.bind(this),l.initDraggable(this.canvas,g,"internal"),this.canvas._jsPlumbRelatedElement=this.element,f=!0}};var m=e.endpoint||this._jsPlumb.instance.Defaults.Endpoint||t.Defaults.Endpoint;this.setEndpoint(m,!0);var b=e.anchor?e.anchor:e.anchors?e.anchors:l.Defaults.Anchor||"Top";this.setAnchor(b,!0);var g=["default",e.type||""].join(" ");this.addType(g,e.data,!0),this.canvas=this.endpoint.canvas,this.canvas._jsPlumb=this,this.initDraggable();var v=function(o,r,a,i){if(t.isDropSupported(this.element)){var s=e.dropOptions||l.Defaults.DropOptions||t.Defaults.DropOptions;s=t.extend({},s),s.scope=s.scope||this.scope;var c=t.dragEvents.drop,u=t.dragEvents.over,d=t.dragEvents.out,p=this,h=l.EndpointDropHandler({getEndpoint:function(){return p},jsPlumb:l,enabled:function(){return null!=a?a.isEnabled():!0},isFull:function(){return a.isFull()},element:this.element,elementId:this.elementId,isSource:this.isSource,isTarget:this.isTarget,addClass:function(e){p.addClass(e)},removeClass:function(e){p.removeClass(e)},isDropAllowed:function(){return p.isDropAllowed.apply(p,arguments)},reference:i,isRedrop:function(e,t){return e.suspendedEndpoint&&t.reference&&e.suspendedEndpoint.id===t.reference.id}});s[c]=n.wrap(s[c],h,!0),s[u]=n.wrap(s[u],function(){var e=t.getDragObject(arguments),n=l.getAttribute(t.getElement(e),"dragId"),o=l.floatingConnections[n];if(null!=o){var r=l.getFloatingAnchorIndex(o),a=this.isTarget&&0!==r||o.suspendedEndpoint&&this.referenceEndpoint&&this.referenceEndpoint.id==o.suspendedEndpoint.id;
if(a){var i=l.checkCondition("checkDropAllowed",{sourceEndpoint:o.endpoints[r],targetEndpoint:this,connection:o});this[(i?"add":"remove")+"Class"](l.endpointDropAllowedClass),this[(i?"remove":"add")+"Class"](l.endpointDropForbiddenClass),o.endpoints[r].anchor.over(this.anchor,this)}}}.bind(this)),s[d]=n.wrap(s[d],function(){var e=t.getDragObject(arguments),n=null==e?null:l.getAttribute(t.getElement(e),"dragId"),o=n?l.floatingConnections[n]:null;if(null!=o){var r=l.getFloatingAnchorIndex(o),a=this.isTarget&&0!==r||o.suspendedEndpoint&&this.referenceEndpoint&&this.referenceEndpoint.id==o.suspendedEndpoint.id;a&&(this.removeClass(l.endpointDropAllowedClass),this.removeClass(l.endpointDropForbiddenClass),o.endpoints[r].anchor.out())}}.bind(this)),l.initDroppable(o,s,"internal",r)}}.bind(this);return this.anchor.isFloating||v(this.canvas,!(e._transient||this.anchor.isFloating),this,e.reference),this},n.extend(t.Endpoint,t.OverlayCapableJsPlumbUIComponent,{setVisible:function(e,t,n){if(this._jsPlumb.visible=e,this.canvas&&(this.canvas.style.display=e?"block":"none"),this[e?"showOverlays":"hideOverlays"](),!t)for(var o=0;o<this.connections.length;o++)if(this.connections[o].setVisible(e),!n){var r=this===this.connections[o].endpoints[0]?1:0;1==this.connections[o].endpoints[r].connections.length&&this.connections[o].endpoints[r].setVisible(e,!0,!0)}},getAttachedElements:function(){return this.connections},applyType:function(e,n){this.setPaintStyle(e.endpointStyle||e.paintStyle,n),this.setHoverPaintStyle(e.endpointHoverStyle||e.hoverPaintStyle,n),null!=e.maxConnections&&(this._jsPlumb.maxConnections=e.maxConnections),e.scope&&(this.scope=e.scope),t.extend(this,e,i),null!=e.cssClass&&this.canvas&&this._jsPlumb.instance.addClass(this.canvas,e.cssClass),t.OverlayCapableJsPlumbUIComponent.applyType(this,e)},isEnabled:function(){return this._jsPlumb.enabled},setEnabled:function(e){this._jsPlumb.enabled=e},cleanup:function(){var e=this._jsPlumb.instance.endpointAnchorClassPrefix+(this._jsPlumb.currentAnchorClass?"-"+this._jsPlumb.currentAnchorClass:"");jsPlumb.removeClass(this.element,e),this.anchor=null,this.endpoint.cleanup(!0),this.endpoint.destroy(),this.endpoint=null,this._jsPlumb.instance.destroyDraggable(this.canvas,"internal"),this._jsPlumb.instance.destroyDroppable(this.canvas,"internal")},setHover:function(e){this.endpoint&&this._jsPlumb&&!this._jsPlumb.instance.isConnectionBeingDragged()&&this.endpoint.setHover(e)},isFull:function(){return 0===this._jsPlumb.maxConnections?!0:!(this.isFloating()||this._jsPlumb.maxConnections<0||this.connections.length<this._jsPlumb.maxConnections)},isFloating:function(){return null!=this.anchor&&this.anchor.isFloating},isConnectedTo:function(e){var t=!1;if(e)for(var n=0;n<this.connections.length;n++)if(this.connections[n].endpoints[1]==e||this.connections[n].endpoints[0]==e){t=!0;break}return t},getConnectionCost:function(){return this._jsPlumb.connectionCost},setConnectionCost:function(e){this._jsPlumb.connectionCost=e},areConnectionsDirected:function(){return this._jsPlumb.connectionsDirected},setConnectionsDirected:function(e){this._jsPlumb.connectionsDirected=e},setElementId:function(e){this.elementId=e,this.anchor.elementId=e},setReferenceElement:function(e){this.element=t.getElement(e)},setDragAllowedWhenFull:function(e){this.dragAllowedWhenFull=e},equals:function(e){return this.anchor.equals(e.anchor)},getUuid:function(){return this._jsPlumb.uuid},computeAnchor:function(e){return this.anchor.compute(e)}}),e.jsPlumbInstance.prototype.EndpointDropHandler=function(e){return function(t){var n=e.jsPlumb;e.removeClass(n.endpointDropAllowedClass),e.removeClass(n.endpointDropForbiddenClass);var o=n.getDropEvent(arguments),r=n.getDragObject(arguments),a=n.getAttribute(r,"dragId"),i=(n.getAttribute(r,"elId"),n.getAttribute(r,"originalScope")),s=n.floatingConnections[a];if(null!=s){var l=null!=s.suspendedEndpoint;if(!l||null!=s.suspendedEndpoint._jsPlumb){var c=e.getEndpoint(s);if(null!=c){if(e.isRedrop(s,e))return s._forceReattach=!0,s.setHover(!1),void(e.maybeCleanup&&e.maybeCleanup(c));var u=n.getFloatingAnchorIndex(s);if(0===u&&!e.isSource||1===u&&!e.isTarget)return void(e.maybeCleanup&&e.maybeCleanup(c));e.onDrop&&e.onDrop(s),i&&n.setDragScope(r,i);var d=e.isFull(t);if(d&&c.fire("maxConnections",{endpoint:this,connection:s,maxConnections:c._jsPlumb.maxConnections},o),!d&&e.enabled()){var p=!0;0===u?(s.floatingElement=s.source,s.floatingId=s.sourceId,s.floatingEndpoint=s.endpoints[0],s.floatingIndex=0,s.source=e.element,s.sourceId=e.elementId):(s.floatingElement=s.target,s.floatingId=s.targetId,s.floatingEndpoint=s.endpoints[1],s.floatingIndex=1,s.target=e.element,s.targetId=e.elementId),l&&s.suspendedEndpoint.id!=c.id&&(s.isDetachAllowed(s)&&s.endpoints[u].isDetachAllowed(s)&&s.suspendedEndpoint.isDetachAllowed(s)&&n.checkCondition("beforeDetach",s)||(p=!1));var h=function(e){s.endpoints[u].detachFromConnection(s),s.suspendedEndpoint&&s.suspendedEndpoint.detachFromConnection(s),s.endpoints[u]=c,c.addConnection(s);var t=c.getParameters();for(var r in t)s.setParameter(r,t[r]);if(l){var a=s.suspendedEndpoint.elementId;n.fireMoveEvent({index:u,originalSourceId:0===u?a:s.sourceId,newSourceId:0===u?c.elementId:s.sourceId,originalTargetId:1==u?a:s.targetId,newTargetId:1==u?c.elementId:s.targetId,originalSourceEndpoint:0===u?s.suspendedEndpoint:s.endpoints[0],newSourceEndpoint:0===u?c:s.endpoints[0],originalTargetEndpoint:1==u?s.suspendedEndpoint:s.endpoints[1],newTargetEndpoint:1==u?c:s.endpoints[1],connection:s},o)}else t.draggable&&n.initDraggable(this.element,dragOptions,"internal",n);if(1==u?n.anchorManager.updateOtherEndpoint(s.sourceId,s.floatingId,s.targetId,s):n.anchorManager.sourceChanged(s.floatingId,s.sourceId,s),s.endpoints[0].finalEndpoint){var i=s.endpoints[0];i.detachFromConnection(s),s.endpoints[0]=s.endpoints[0].finalEndpoint,s.endpoints[0].addConnection(s)}jsPlumbUtil.isObject(e)&&s.mergeData(e),n.finaliseConnection(s,null,o,!1),s.setHover(!1)}.bind(this),f=function(){s.suspendedEndpoint&&(s.endpoints[u]=s.suspendedEndpoint,s.setHover(!1),s._forceDetach=!0,0===u?(s.source=s.suspendedEndpoint.element,s.sourceId=s.suspendedEndpoint.elementId):(s.target=s.suspendedEndpoint.element,s.targetId=s.suspendedEndpoint.elementId),s.suspendedEndpoint.addConnection(s),1==u?n.anchorManager.updateOtherEndpoint(s.sourceId,s.floatingId,s.targetId,s):n.anchorManager.sourceChanged(s.floatingId,s.sourceId,s),n.repaint(s.sourceId),s._forceDetach=!1)};if(p=p&&e.isDropAllowed(s.sourceId,s.targetId,s.scope,s,c))return h(p),!0;f()}e.maybeCleanup&&e.maybeCleanup(c),n.currentlyDragging=!1}}}}}}.call(this),function(){"use strict";var e=this,t=e.jsPlumb,n=e.jsPlumbUtil,o=function(e,n,o,r,a){if(!e.Defaults.DoNotThrowErrors&&null==jsPlumb.Connectors[n][o])throw{msg:"jsPlumb: unknown connector type '"+o+"'"};return new t.Connectors[n][o](r,a)},r=function(e,t,n){return e?n.makeAnchor(e,t,n):null},a=function(e,t,o,r){null!=t&&(t._jsPlumbConnections=t._jsPlumbConnections||{},r?delete t._jsPlumbConnections[e.id]:t._jsPlumbConnections[e.id]=!0,n.isEmpty(t._jsPlumbConnections)?o.removeClass(t,o.connectedClass):o.addClass(t,o.connectedClass))};t.Connection=function(e){var o=e.newEndpoint;this.id=e.id,this.connector=null,this.idPrefix="_jsplumb_c_",this.defaultLabelLocation=.5,this.defaultOverlayKeys=["Overlays","ConnectionOverlays"],this.previousConnection=e.previousConnection,this.source=t.getElement(e.source),this.target=t.getElement(e.target),e.sourceEndpoint&&(this.source=e.sourceEndpoint.getElement()),e.targetEndpoint&&(this.target=e.targetEndpoint.getElement()),t.OverlayCapableJsPlumbUIComponent.apply(this,arguments),this.sourceId=this._jsPlumb.instance.getId(this.source),this.targetId=this._jsPlumb.instance.getId(this.target),this.scope=e.scope,this.endpoints=[],this.endpointStyles=[];var r=this._jsPlumb.instance;r.manage(this.sourceId,this.source),r.manage(this.targetId,this.target),this._jsPlumb.visible=!0,this._jsPlumb.editable=e.editable===!0,this._jsPlumb.params={cssClass:e.cssClass,container:e.container,"pointer-events":e["pointer-events"],editorParams:e.editorParams,overlays:e.overlays},this._jsPlumb.lastPaintedAt=null,this.bind("mouseover",function(){this.setHover(!0)}.bind(this)),this.bind("mouseout",function(){this.setHover(!1)}.bind(this)),this.editableRequested=e.editable!==!1,this.setEditable=function(e){return this.connector?this.connector.setEditable(e):!1},this.isEditable=function(){return this.connector?this.connector.isEditable():!1},this.isEditing=function(){return this.connector?this.connector.isEditing():!1},this.makeEndpoint=function(t,n,a,i){return a=a||this._jsPlumb.instance.getId(n),this.prepareEndpoint(r,o,this,i,t?0:1,e,n,a)},e.type&&(e.endpoints=this._jsPlumb.instance.deriveEndpointAndAnchorSpec(e.type).endpoints);var a=this.makeEndpoint(!0,this.source,this.sourceId,e.sourceEndpoint),i=this.makeEndpoint(!1,this.target,this.targetId,e.targetEndpoint);a&&n.addToList(e.endpointsByElement,this.sourceId,a),i&&n.addToList(e.endpointsByElement,this.targetId,i),this.scope||(this.scope=this.endpoints[0].scope),null!=e.deleteEndpointsOnDetach?(this.endpoints[0]._deleteOnDetach=e.deleteEndpointsOnDetach,this.endpoints[1]._deleteOnDetach=e.deleteEndpointsOnDetach):(this.endpoints[0]._doNotDeleteOnDetach||(this.endpoints[0]._deleteOnDetach=!0),this.endpoints[1]._doNotDeleteOnDetach||(this.endpoints[1]._deleteOnDetach=!0));var s=r.Defaults.ConnectionsDetachable;e.detachable===!1&&(s=!1),this.endpoints[0].connectionsDetachable===!1&&(s=!1),this.endpoints[1].connectionsDetachable===!1&&(s=!1);var l=e.reattach||this.endpoints[0].reattachConnections||this.endpoints[1].reattachConnections||r.Defaults.ReattachConnections;this.appendToDefaultType({detachable:s,reattach:l,paintStyle:this.endpoints[0].connectorStyle||this.endpoints[1].connectorStyle||e.paintStyle||r.Defaults.PaintStyle||jsPlumb.Defaults.PaintStyle,hoverPaintStyle:this.endpoints[0].connectorHoverStyle||this.endpoints[1].connectorHoverStyle||e.hoverPaintStyle||r.Defaults.HoverPaintStyle||jsPlumb.Defaults.HoverPaintStyle});var c=r.getSuspendedAt();if(!r.isSuspendDrawing()){var u=r.getCachedData(this.sourceId),d=u.o,p=u.s,h=r.getCachedData(this.targetId),f=h.o,m=h.s,b=c||r.timestamp(),g=this.endpoints[0].anchor.compute({xy:[d.left,d.top],wh:p,element:this.endpoints[0],elementId:this.endpoints[0].elementId,txy:[f.left,f.top],twh:m,tElement:this.endpoints[1],timestamp:b});this.endpoints[0].paint({anchorLoc:g,timestamp:b}),g=this.endpoints[1].anchor.compute({xy:[f.left,f.top],wh:m,element:this.endpoints[1],elementId:this.endpoints[1].elementId,txy:[d.left,d.top],twh:p,tElement:this.endpoints[0],timestamp:b}),this.endpoints[1].paint({anchorLoc:g,timestamp:b})}this.getTypeDescriptor=function(){return"connection"},this.getAttachedElements=function(){return this.endpoints},this.isDetachable=function(){return this._jsPlumb.detachable===!0},this.setDetachable=function(e){this._jsPlumb.detachable=e===!0},this.isReattach=function(){return this._jsPlumb.reattach===!0||this.endpoints[0].reattachConnections===!0||this.endpoints[1].reattachConnections===!0},this.setReattach=function(e){this._jsPlumb.reattach=e===!0},this._jsPlumb.cost=e.cost||this.endpoints[0].getConnectionCost(),this._jsPlumb.directed=e.directed,null==e.directed&&(this._jsPlumb.directed=this.endpoints[0].areConnectionsDirected());var v=jsPlumb.extend({},this.endpoints[1].getParameters());t.extend(v,this.endpoints[0].getParameters()),t.extend(v,this.getParameters()),this.setParameters(v),this.setConnector(this.endpoints[0].connector||this.endpoints[1].connector||e.connector||r.Defaults.Connector||t.Defaults.Connector,!0),e.geometry&&this.connector.setGeometry(e.geometry);var y=null!=e.data&&jsPlumbUtil.isObject(e.data)?e.data:{};this.getData=function(){return y},this.setData=function(e){y=e||{}},this.mergeData=function(e){y=jsPlumb.extend(y,e)};var w=["default",this.endpoints[0].connectionType,this.endpoints[1].connectionType,e.type].join(" ");/[^\s]/.test(w)&&this.addType(w,e.data,!0),this.updateConnectedClass()},n.extend(t.Connection,t.OverlayCapableJsPlumbUIComponent,{applyType:function(e,n,o){null!=e.detachable&&this.setDetachable(e.detachable),null!=e.reattach&&this.setReattach(e.reattach),e.scope&&(this.scope=e.scope),null!=e.cssClass&&this.canvas&&this._jsPlumb.instance.addClass(this.canvas,e.cssClass);var r=null;e.anchor?(r=this.getCachedTypeItem("anchors",o.anchor),null==r&&(r=[this._jsPlumb.instance.makeAnchor(e.anchor),this._jsPlumb.instance.makeAnchor(e.anchor)],this.cacheTypeItem("anchors",r,o.anchor))):e.anchors&&(r=this.getCachedTypeItem("anchors",o.anchors),null==r&&(r=[this._jsPlumb.instance.makeAnchor(e.anchors[0]),this._jsPlumb.instance.makeAnchor(e.anchors[1])],this.cacheTypeItem("anchors",r,o.anchors))),null!=r&&(this.endpoints[0].anchor=r[0],this.endpoints[1].anchor=r[1],this.endpoints[1].anchor.isDynamic&&this._jsPlumb.instance.repaint(this.endpoints[1].elementId)),t.OverlayCapableJsPlumbUIComponent.applyType(this,e)},addClass:function(e,t){t&&(this.endpoints[0].addClass(e),this.endpoints[1].addClass(e),this.suspendedEndpoint&&this.suspendedEndpoint.addClass(e)),this.connector&&this.connector.addClass(e)},removeClass:function(e,t){t&&(this.endpoints[0].removeClass(e),this.endpoints[1].removeClass(e),this.suspendedEndpoint&&this.suspendedEndpoint.removeClass(e)),this.connector&&this.connector.removeClass(e)},isVisible:function(){return this._jsPlumb.visible},setVisible:function(e){this._jsPlumb.visible=e,this.connector&&this.connector.setVisible(e),this.repaint()},cleanup:function(){this.updateConnectedClass(!0),this.endpoints=null,this.source=null,this.target=null,null!=this.connector&&(this.connector.cleanup(!0),this.connector.destroy(!0)),this.connector=null},updateConnectedClass:function(e){this._jsPlumb&&(a(this,this.source,this._jsPlumb.instance,e),a(this,this.target,this._jsPlumb.instance,e))},setHover:function(t){this.connector&&this._jsPlumb&&!this._jsPlumb.instance.isConnectionBeingDragged()&&(this.connector.setHover(t),e.jsPlumb[t?"addClass":"removeClass"](this.source,this._jsPlumb.instance.hoverSourceClass),e.jsPlumb[t?"addClass":"removeClass"](this.target,this._jsPlumb.instance.hoverTargetClass))},getUuids:function(){return[this.endpoints[0].getUuid(),this.endpoints[1].getUuid()]},getCost:function(){return this._jsPlumb?this._jsPlumb.cost:-1/0},setCost:function(e){this._jsPlumb.cost=e},isDirected:function(){return this._jsPlumb.directed===!0},getConnector:function(){return this.connector},getGeometry:function(){return this.connector?this.connector.getGeometry():null},setGeometry:function(e){this.connector&&this.connector.setGeometry(e)},prepareConnector:function(e,t){var r,a={_jsPlumb:this._jsPlumb.instance,cssClass:(this._jsPlumb.params.cssClass||"")+(this.isEditable()?this._jsPlumb.instance.editableConnectorClass:""),container:this._jsPlumb.params.container,"pointer-events":this._jsPlumb.params["pointer-events"],editable:this.editableRequested},i=this._jsPlumb.instance.getRenderMode();return n.isString(e)?r=o(this._jsPlumb.instance,i,e,a,this):n.isArray(e)&&(r=1==e.length?o(this._jsPlumb.instance,i,e[0],a,this):o(this._jsPlumb.instance,i,e[0],n.merge(e[1],a),this)),null!=t&&(r.typeId=t),r},setPreparedConnector:function(e,t,n,o){var r,a="";if(null!=this.connector&&(r=this.connector,a=r.getClass(),this.connector.cleanup(),this.connector.destroy()),this.connector=e,o&&this.cacheTypeItem("connector",e,o),this.canvas=this.connector.canvas,this.bgCanvas=this.connector.bgCanvas,this.addClass(a),this.canvas&&(this.canvas._jsPlumb=this),this.bgCanvas&&(this.bgCanvas._jsPlumb=this),null!=r)for(var i=this.getOverlays(),s=0;s<i.length;s++)i[s].transfer&&i[s].transfer(this.connector);n||this.setListenerComponent(this.connector),t||this.repaint()},setConnector:function(e,t,n,o){var r=this.prepareConnector(e,o);this.setPreparedConnector(r,t,n,o)},paint:function(e){if(!this._jsPlumb.instance.isSuspendDrawing()&&this._jsPlumb.visible){e=e||{};var t=e.timestamp,n=!1,o=n?this.sourceId:this.targetId,r=n?this.targetId:this.sourceId,a=n?0:1,i=n?1:0;if(null==t||t!=this._jsPlumb.lastPaintedAt){var s=this._jsPlumb.instance.updateOffset({elId:r}).o,l=this._jsPlumb.instance.updateOffset({elId:o}).o,c=this.endpoints[i],u=this.endpoints[a],d=c.anchor.getCurrentLocation({xy:[s.left,s.top],wh:[s.width,s.height],element:c,timestamp:t}),p=u.anchor.getCurrentLocation({xy:[l.left,l.top],wh:[l.width,l.height],element:u,timestamp:t});this.connector.resetBounds(),this.connector.compute({sourcePos:d,targetPos:p,sourceEndpoint:this.endpoints[i],targetEndpoint:this.endpoints[a],lineWidth:this._jsPlumb.paintStyleInUse.lineWidth,sourceInfo:s,targetInfo:l});var h={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};for(var f in this._jsPlumb.overlays)if(this._jsPlumb.overlays.hasOwnProperty(f)){var m=this._jsPlumb.overlays[f];m.isVisible()&&(this._jsPlumb.overlayPlacements[f]=m.draw(this.connector,this._jsPlumb.paintStyleInUse,this.getAbsoluteOverlayPosition(m)),h.minX=Math.min(h.minX,this._jsPlumb.overlayPlacements[f].minX),h.maxX=Math.max(h.maxX,this._jsPlumb.overlayPlacements[f].maxX),h.minY=Math.min(h.minY,this._jsPlumb.overlayPlacements[f].minY),h.maxY=Math.max(h.maxY,this._jsPlumb.overlayPlacements[f].maxY))}var b=parseFloat(this._jsPlumb.paintStyleInUse.lineWidth||1)/2,g=parseFloat(this._jsPlumb.paintStyleInUse.lineWidth||0),v={xmin:Math.min(this.connector.bounds.minX-(b+g),h.minX),ymin:Math.min(this.connector.bounds.minY-(b+g),h.minY),xmax:Math.max(this.connector.bounds.maxX+(b+g),h.maxX),ymax:Math.max(this.connector.bounds.maxY+(b+g),h.maxY)};this.connector.paint(this._jsPlumb.paintStyleInUse,null,v);for(var y in this._jsPlumb.overlays)if(this._jsPlumb.overlays.hasOwnProperty(y)){var w=this._jsPlumb.overlays[y];w.isVisible()&&w.paint(this._jsPlumb.overlayPlacements[y],v)}}this._jsPlumb.lastPaintedAt=t}},repaint:function(e){e=e||{},this.paint({elId:this.sourceId,recalc:!(e.recalc===!1),timestamp:e.timestamp})},prepareEndpoint:function(e,n,o,a,i,s,l,c){var u;if(a)o.endpoints[i]=a,a.addConnection(o);else{s.endpoints||(s.endpoints=[null,null]);var d=s.endpoints[i]||s.endpoint||e.Defaults.Endpoints[i]||jsPlumb.Defaults.Endpoints[i]||e.Defaults.Endpoint||jsPlumb.Defaults.Endpoint;s.endpointStyles||(s.endpointStyles=[null,null]),s.endpointHoverStyles||(s.endpointHoverStyles=[null,null]);var p=s.endpointStyles[i]||s.endpointStyle||e.Defaults.EndpointStyles[i]||jsPlumb.Defaults.EndpointStyles[i]||e.Defaults.EndpointStyle||jsPlumb.Defaults.EndpointStyle;null==p.fillStyle&&null!=s.paintStyle&&(p.fillStyle=s.paintStyle.strokeStyle),null==p.outlineColor&&null!=s.paintStyle&&(p.outlineColor=s.paintStyle.outlineColor),null==p.outlineWidth&&null!=s.paintStyle&&(p.outlineWidth=s.paintStyle.outlineWidth);var h=s.endpointHoverStyles[i]||s.endpointHoverStyle||e.Defaults.EndpointHoverStyles[i]||jsPlumb.Defaults.EndpointHoverStyles[i]||e.Defaults.EndpointHoverStyle||jsPlumb.Defaults.EndpointHoverStyle;null!=s.hoverPaintStyle&&(null==h&&(h={}),null==h.fillStyle&&(h.fillStyle=s.hoverPaintStyle.strokeStyle));var f=s.anchors?s.anchors[i]:s.anchor?s.anchor:r(e.Defaults.Anchors[i],c,e)||r(t.Defaults.Anchors[i],c,e)||r(e.Defaults.Anchor,c,e)||r(t.Defaults.Anchor,c,e),m=s.uuids?s.uuids[i]:null;u=n({paintStyle:p,hoverPaintStyle:h,endpoint:d,connections:[o],uuid:m,anchor:f,source:l,scope:s.scope,reattach:s.reattach||e.Defaults.ReattachConnections,detachable:s.detachable||e.Defaults.ConnectionsDetachable}),o.endpoints[i]=u,s.drawEndpoints===!1&&u.setVisible(!1,!0,!0)}return u}})}.call(this),function(){"use strict";var e=this,t=e.jsPlumbUtil,n=e.jsPlumb;n.AnchorManager=function(e){var o={},r={},a={},i={},s={HORIZONTAL:"horizontal",VERTICAL:"vertical",DIAGONAL:"diagonal",IDENTITY:"identity"},l=["left","top","right","bottom"],c={},u=this,d={},p=e.jsPlumbInstance,h={},f=function(e,t,n,o,r,a){if(e===t)return{orientation:s.IDENTITY,a:["top","top"]};var i=Math.atan2(o.centery-n.centery,o.centerx-n.centerx),c=Math.atan2(n.centery-o.centery,n.centerx-o.centerx),u=[],d={};!function(e,t){for(var n=0;n<e.length;n++)d[e[n]]={left:[t[n].left,t[n].centery],right:[t[n].right,t[n].centery],top:[t[n].centerx,t[n].top],bottom:[t[n].centerx,t[n].bottom]}}(["source","target"],[n,o]);for(var p=0;p<l.length;p++)for(var h=0;h<l.length;h++)u.push({source:l[p],target:l[h],dist:Biltong.lineLength(d.source[l[p]],d.target[l[h]])});u.sort(function(e,t){return e.dist<t.dist?-1:e.dist>t.dist?1:0});for(var f=u[0].source,m=u[0].target,b=0;b<u.length&&(f=!r.isContinuous||r.isEdgeSupported(u[b].source)?u[b].source:null,m=!a.isContinuous||a.isEdgeSupported(u[b].target)?u[b].target:null,null==f||null==m);b++);return{a:[f,m],theta:i,theta2:c}},m=function(e,t,n,o,r,a,i){for(var s=[],l=t[r?0:1]/(o.length+1),c=0;c<o.length;c++){var u=(c+1)*l,d=a*t[r?1:0];i&&(u=t[r?0:1]-u);var p=r?u:d,h=n[0]+p,f=p/t[0],m=r?d:u,b=n[1]+m,g=m/t[1];s.push([h,b,f,g,o[c][1],o[c][2]])}return s},b=function(e){return function(t,n){var o=!0;return o=e?t[0][0]<n[0][0]:t[0][0]>n[0][0],o===!1?-1:1}},g=function(e,t){var n=e[0][0]<0?-Math.PI-e[0][0]:Math.PI-e[0][0],o=t[0][0]<0?-Math.PI-t[0][0]:Math.PI-t[0][0];return n>o?1:e[0][1]>t[0][1]?1:-1},v={top:function(e,t){return e[0]>t[0]?1:-1},right:b(!0),bottom:b(!0),left:g},y=function(e,t){return e.sort(t)},w=function(e,t){var n=p.getCachedData(e),o=n.s,a=n.o,s=function(t,n,o,a,s,l,c){if(a.length>0)for(var u=y(a,v[t]),d="right"===t||"top"===t,p=m(t,n,o,u,s,l,d),h=function(e,t){r[e.id]=[t[0],t[1],t[2],t[3]],i[e.id]=c},f=0;f<p.length;f++){var b=p[f][4],g=b.endpoints[0].elementId===e,w=b.endpoints[1].elementId===e;g&&h(b.endpoints[0],p[f]),w&&h(b.endpoints[1],p[f])}};s("bottom",o,[a.left,a.top],t.bottom,!0,1,[0,1]),s("top",o,[a.left,a.top],t.top,!0,0,[0,-1]),s("left",o,[a.left,a.top],t.left,!1,0,[-1,0]),s("right",o,[a.left,a.top],t.right,!1,1,[1,0])};this.reset=function(){o={},c={},d={}},this.addFloatingConnection=function(e,t){h[e]=t},this.removeFloatingConnection=function(e){delete h[e]},this.newConnection=function(e){var o=e.sourceId,r=e.targetId,a=e.endpoints,i=!0,s=function(s,l,u,d,p){o==r&&u.isContinuous&&(e._jsPlumb.instance.removeElement(a[1].canvas),i=!1),t.addToList(c,d,[p,l,u.constructor==n.DynamicAnchor])};s(0,a[0],a[0].anchor,r,e),i&&s(1,a[1],a[1].anchor,o,e)};var _=function(e){!function(e,n){if(e){var o=function(e){return e[4]==n};t.removeWithFunction(e.top,o),t.removeWithFunction(e.left,o),t.removeWithFunction(e.bottom,o),t.removeWithFunction(e.right,o)}}(d[e.elementId],e.id)};this.connectionDetached=function(e,n){var o=e.connection||e,r=e.sourceId,a=e.targetId,i=o.endpoints,s=function(e,n,o,r,a){t.removeWithFunction(c[r],function(e){return e[0].id==a.id})};s(1,i[1],i[1].anchor,r,o),s(0,i[0],i[0].anchor,a,o),o.floatingId&&(s(o.floatingIndex,o.floatingEndpoint,o.floatingEndpoint.anchor,o.floatingId,o),_(o.floatingEndpoint)),_(o.endpoints[0]),_(o.endpoints[1]),n||(u.redraw(o.sourceId),o.targetId!==o.sourceId&&u.redraw(o.targetId))},this.add=function(e,n){t.addToList(o,n,e)},this.changeId=function(e,t){c[t]=c[e],o[t]=o[e],delete c[e],delete o[e]},this.getConnectionsFor=function(e){return c[e]||[]},this.getEndpointsFor=function(e){return o[e]||[]},this.deleteEndpoint=function(e){t.removeWithFunction(o[e.elementId],function(t){return t.id==e.id}),_(e)},this.clearFor=function(e){delete o[e],o[e]=[]};var x=function(n,o,r,a,i,s,l,c,u,d,p,h){var f,m,b=-1,g=-1,v=a.endpoints[l],y=v.id,w=[1,0][l],_=[[o,r],a,i,s,y],x=n[u],C=v._continuousAnchorEdge?n[v._continuousAnchorEdge]:null;if(C){var $=t.findWithFunction(C,function(e){return e[4]==y});if(-1!=$)for(C.splice($,1),f=0;f<C.length;f++)m=C[f][1],t.addWithFunction(p,m,function(e){return e.id==m.id}),t.addWithFunction(h,C[f][1].endpoints[l],function(e){return e.id==m.endpoints[l].id}),t.addWithFunction(h,C[f][1].endpoints[w],function(e){return e.id==m.endpoints[w].id})}for(f=0;f<x.length;f++)m=x[f][1],1==e.idx&&x[f][3]===s&&-1==g&&(g=f),t.addWithFunction(p,m,function(e){return e.id==m.id}),t.addWithFunction(h,x[f][1].endpoints[l],function(e){return e.id==m.endpoints[l].id}),t.addWithFunction(h,x[f][1].endpoints[w],function(e){return e.id==m.endpoints[w].id});if(-1!=b)x[b]=_;else{var q=c?-1!=g?g:0:x.length;x.splice(q,0,_)}v._continuousAnchorEdge=u};this.updateOtherEndpoint=function(e,o,r,a){var i=t.findWithFunction(c[e],function(e){return e[0].id===a.id}),s=t.findWithFunction(c[o],function(e){return e[0].id===a.id});-1!=i&&(c[e][i][0]=a,c[e][i][1]=a.endpoints[1],c[e][i][2]=a.endpoints[1].anchor.constructor==n.DynamicAnchor),s>-1&&(c[o].splice(s,1),t.addToList(c,r,[a,a.endpoints[0],a.endpoints[0].anchor.constructor==n.DynamicAnchor])),a.updateConnectedClass()},this.sourceChanged=function(e,o,r){if(e!==o){t.removeWithFunction(c[e],function(e){return e[0].id===r.id});var a=t.findWithFunction(c[r.targetId],function(e){return e[0].id===r.id});a>-1&&(c[r.targetId][a][0]=r,c[r.targetId][a][1]=r.endpoints[0],c[r.targetId][a][2]=r.endpoints[0].anchor.constructor==n.DynamicAnchor),t.addToList(c,o,[r,r.endpoints[1],r.endpoints[1].anchor.constructor==n.DynamicAnchor]),r.endpoints[1].anchor.isContinuous&&(r.source===r.target?r._jsPlumb.instance.removeElement(r.endpoints[1].canvas):null==r.endpoints[1].canvas.parentNode&&r._jsPlumb.instance.appendElement(r.endpoints[1].canvas)),r.updateConnectedClass()}},this.rehomeEndpoint=function(e,t,n){var r=o[t]||[],a=p.getId(n);if(a!==t){var i=r.indexOf(e);if(i>-1){var s=r.splice(i,1)[0];u.add(s,a)}}for(var l=0;l<e.connections.length;l++)e.connections[l].sourceId==t?(e.connections[l].sourceId=e.elementId,e.connections[l].source=e.element,u.sourceChanged(t,e.elementId,e.connections[l])):e.connections[l].targetId==t&&(e.connections[l].targetId=e.elementId,e.connections[l].target=e.element,u.updateOtherEndpoint(e.connections[l].sourceId,t,e.elementId,e.connections[l]))},this.redraw=function(e,r,a,i,s,l){if(!p.isSuspendDrawing()){var u=o[e]||[],m=c[e]||[],b=[],g=[],v=[];a=a||p.timestamp(),i=i||{left:0,top:0},r&&(r={left:r.left+i.left,top:r.top+i.top});for(var y=p.updateOffset({elId:e,offset:r,recalc:!1,timestamp:a}),_={},C=0;C<m.length;C++){var $=m[C][0],q=$.sourceId,E=$.targetId,T=$.endpoints[0].anchor.isContinuous,S=$.endpoints[1].anchor.isContinuous;if(T||S){var A=q+"_"+E,I=_[A],D=$.sourceId==e?1:0;T&&!d[q]&&(d[q]={top:[],right:[],bottom:[],left:[]}),S&&!d[E]&&(d[E]={top:[],right:[],bottom:[],left:[]}),e!=E&&p.updateOffset({elId:E,timestamp:a}),e!=q&&p.updateOffset({elId:q,timestamp:a});var P=p.getCachedData(E),k=p.getCachedData(q);E==q&&(T||S)?(x(d[q],-Math.PI/2,0,$,!1,E,0,!1,"top",q,b,g),x(d[E],-Math.PI/2,0,$,!1,q,1,!1,"top",E,b,g)):(I||(I=f(q,E,k.o,P.o,$.endpoints[0].anchor,$.endpoints[1].anchor),_[A]=I),T&&x(d[q],I.theta,0,$,!1,E,0,!1,I.a[0],q,b,g),S&&x(d[E],I.theta2,-1,$,!0,q,1,!0,I.a[1],E,b,g)),T&&t.addWithFunction(v,q,function(e){return e===q}),S&&t.addWithFunction(v,E,function(e){return e===E}),t.addWithFunction(b,$,function(e){return e.id==$.id}),(T&&0===D||S&&1===D)&&t.addWithFunction(g,$.endpoints[D],function(e){return e.id==$.endpoints[D].id})}}for(C=0;C<u.length;C++)0===u[C].connections.length&&u[C].anchor.isContinuous&&(d[e]||(d[e]={top:[],right:[],bottom:[],left:[]}),x(d[e],-Math.PI/2,0,{endpoints:[u[C],u[C]],paint:function(){}},!1,e,0,!1,u[C].anchor.getDefaultFace(),e,b,g),t.addWithFunction(v,e,function(t){return t===e}));for(C=0;C<v.length;C++)w(v[C],d[v[C]]);for(C=0;C<u.length;C++)u[C].paint({timestamp:a,offset:y,dimensions:y.s,recalc:l!==!0});for(C=0;C<g.length;C++){var O=p.getCachedData(g[C].elementId);g[C].paint({timestamp:a,offset:O,dimensions:O.s})}for(C=0;C<m.length;C++){var j=m[C][1];if(j.anchor.constructor==n.DynamicAnchor){j.paint({elementWithPrecedence:e,timestamp:a}),t.addWithFunction(b,m[C][0],function(e){return e.id==m[C][0].id});for(var R=0;R<j.connections.length;R++)j.connections[R]!==m[C][0]&&t.addWithFunction(b,j.connections[R],function(e){return e.id==j.connections[R].id})}else j.anchor.constructor==n.Anchor&&t.addWithFunction(b,m[C][0],function(e){return e.id==m[C][0].id})}var L=h[e];for(L&&L.paint({timestamp:a,recalc:!1,elId:e}),C=0;C<b.length;C++)b[C].paint({elId:e,timestamp:a,recalc:!1,clearEdits:s})}};var C=function(e){t.EventGenerator.apply(this),this.type="Continuous",this.isDynamic=!0,this.isContinuous=!0;for(var n=e.faces||["top","right","bottom","left"],o=!(e.clockwise===!1),s={},l={top:"bottom",right:"left",left:"right",bottom:"top"},c={top:"right",right:"bottom",left:"top",bottom:"left"},u={top:"left",right:"top",left:"bottom",bottom:"right"},d=o?c:u,p=o?u:c,h=e.cssClass||"",f=0;f<n.length;f++)s[n[f]]=!0;this.getDefaultFace=function(){return 0===n.length?"top":n[0]},this.verifyEdge=function(e){return s[e]?e:s[l[e]]?l[e]:s[d[e]]?d[e]:s[p[e]]?p[e]:e},this.isEdgeSupported=function(e){return s[e]===!0},this.compute=function(e){return a[e.element.id]||r[e.element.id]||[0,0]},this.getCurrentLocation=function(e){return a[e.element.id]||r[e.element.id]||[0,0]},this.getOrientation=function(e){return i[e.id]||[0,0]},this.clearUserDefinedLocation=function(){delete a[e.elementId]},this.setUserDefinedLocation=function(t){a[e.elementId]=t},this.getCssClass=function(){return h}};p.continuousAnchorFactory={get:function(e){return new C(e)},clear:function(e){delete a[e],delete r[e]}}},n.Anchor=function(e){this.x=e.x||0,this.y=e.y||0,this.elementId=e.elementId,this.cssClass=e.cssClass||"",this.userDefinedLocation=null,this.orientation=e.orientation||[0,0],this.lastReturnValue=null,this.offsets=e.offsets||[0,0],this.timestamp=null,t.EventGenerator.apply(this),this.compute=function(e){var t=e.xy,n=e.wh,o=e.timestamp;return e.clearUserDefinedLocation&&(this.userDefinedLocation=null),o&&o===self.timestamp?this.lastReturnValue:(this.lastReturnValue=null!=this.userDefinedLocation?this.userDefinedLocation:[t[0]+this.x*n[0]+this.offsets[0],t[1]+this.y*n[1]+this.offsets[1]],this.timestamp=o,this.lastReturnValue)},this.getCurrentLocation=function(e){return e=e||{},null==this.lastReturnValue||null!=e.timestamp&&this.timestamp!=e.timestamp?this.compute(e):this.lastReturnValue}},t.extend(n.Anchor,t.EventGenerator,{equals:function(e){if(!e)return!1;var t=e.getOrientation(),n=this.getOrientation();return this.x==e.x&&this.y==e.y&&this.offsets[0]==e.offsets[0]&&this.offsets[1]==e.offsets[1]&&n[0]==t[0]&&n[1]==t[1]},getUserDefinedLocation:function(){return this.userDefinedLocation},setUserDefinedLocation:function(e){this.userDefinedLocation=e},clearUserDefinedLocation:function(){this.userDefinedLocation=null},getOrientation:function(){return this.orientation},getCssClass:function(){return this.cssClass}}),n.FloatingAnchor=function(e){n.Anchor.apply(this,arguments);var t=e.reference,o=e.referenceCanvas,r=n.getSize(o),a=0,i=0,s=null,l=null;this.orientation=null,this.x=0,this.y=0,this.isFloating=!0,this.compute=function(e){var t=e.xy,n=[t[0]+r[0]/2,t[1]+r[1]/2];return l=n,n},this.getOrientation=function(e){if(s)return s;var n=t.getOrientation(e);return[-1*Math.abs(n[0])*a,-1*Math.abs(n[1])*i]},this.over=function(e,t){s=e.getOrientation(t)},this.out=function(){s=null},this.getCurrentLocation=function(e){return null==l?this.compute(e):l}},t.extend(n.FloatingAnchor,n.Anchor);var o=function(e,t,o){return e.constructor==n.Anchor?e:t.makeAnchor(e,o,t)};n.DynamicAnchor=function(e){n.Anchor.apply(this,arguments),this.isDynamic=!0,this.anchors=[],this.elementId=e.elementId,this.jsPlumbInstance=e.jsPlumbInstance;for(var t=0;t<e.anchors.length;t++)this.anchors[t]=o(e.anchors[t],this.jsPlumbInstance,this.elementId);this.getAnchors=function(){return this.anchors},this.locked=!1;var r=this.anchors.length>0?this.anchors[0]:null,a=r,i=this,s=function(e,t,n,o,r){var a=o[0]+e.x*r[0],i=o[1]+e.y*r[1],s=o[0]+r[0]/2,l=o[1]+r[1]/2;return Math.sqrt(Math.pow(t-a,2)+Math.pow(n-i,2))+Math.sqrt(Math.pow(s-a,2)+Math.pow(l-i,2))},l=e.selector||function(e,t,n,o,r){for(var a=n[0]+o[0]/2,i=n[1]+o[1]/2,l=-1,c=1/0,u=0;u<r.length;u++){var d=s(r[u],a,i,e,t);c>d&&(l=u+0,c=d)}return r[l]};this.compute=function(e){var t=e.xy,n=e.wh,o=e.txy,s=e.twh;this.timestamp=e.timestamp;var c=i.getUserDefinedLocation();
return null!=c?c:this.locked||null==o||null==s?r.compute(e):(e.timestamp=null,r=l(t,n,o,s,this.anchors),this.x=r.x,this.y=r.y,r!=a&&this.fire("anchorChanged",r),a=r,r.compute(e))},this.getCurrentLocation=function(e){return this.getUserDefinedLocation()||(null!=r?r.getCurrentLocation(e):null)},this.getOrientation=function(e){return null!=r?r.getOrientation(e):[0,0]},this.over=function(e,t){null!=r&&r.over(e,t)},this.out=function(){null!=r&&r.out()},this.getCssClass=function(){return r&&r.getCssClass()||""}},t.extend(n.DynamicAnchor,n.Anchor);var r=function(e,t,o,r,a,i){n.Anchors[a]=function(n){var s=n.jsPlumbInstance.makeAnchor([e,t,o,r,0,0],n.elementId,n.jsPlumbInstance);return s.type=a,i&&i(s,n),s}};r(.5,0,0,-1,"TopCenter"),r(.5,1,0,1,"BottomCenter"),r(0,.5,-1,0,"LeftMiddle"),r(1,.5,1,0,"RightMiddle"),r(.5,0,0,-1,"Top"),r(.5,1,0,1,"Bottom"),r(0,.5,-1,0,"Left"),r(1,.5,1,0,"Right"),r(.5,.5,0,0,"Center"),r(1,0,0,-1,"TopRight"),r(1,1,0,1,"BottomRight"),r(0,0,0,-1,"TopLeft"),r(0,1,0,1,"BottomLeft"),n.Defaults.DynamicAnchors=function(e){return e.jsPlumbInstance.makeAnchors(["TopCenter","RightMiddle","BottomCenter","LeftMiddle"],e.elementId,e.jsPlumbInstance)},n.Anchors.AutoDefault=function(e){var t=e.jsPlumbInstance.makeDynamicAnchor(n.Defaults.DynamicAnchors(e));return t.type="AutoDefault",t};var a=function(e,t){n.Anchors[e]=function(n){var o=n.jsPlumbInstance.makeAnchor(["Continuous",{faces:t}],n.elementId,n.jsPlumbInstance);return o.type=e,o}};n.Anchors.Continuous=function(e){return e.jsPlumbInstance.continuousAnchorFactory.get(e)},a("ContinuousLeft",["left"]),a("ContinuousTop",["top"]),a("ContinuousBottom",["bottom"]),a("ContinuousRight",["right"]),r(0,0,0,0,"Assign",function(e,t){var n=t.position||"Fixed";e.positionFinder=n.constructor==String?t.jsPlumbInstance.AnchorPositionFinders[n]:n,e.constructorParams=t}),jsPlumbInstance.prototype.AnchorPositionFinders={Fixed:function(e,t,n){return[(e.left-t.left)/n[0],(e.top-t.top)/n[1]]},Grid:function(e,t,n,o){var r=e.left-t.left,a=e.top-t.top,i=n[0]/o.grid[0],s=n[1]/o.grid[1],l=Math.floor(r/i),c=Math.floor(a/s);return[(l*i+i/2)/n[0],(c*s+s/2)/n[1]]}},n.Anchors.Perimeter=function(e){e=e||{};var t=e.anchorCount||60,n=e.shape;if(!n)throw new Error("no shape supplied to Perimeter Anchor type");var o=function(){for(var e=.5,n=2*Math.PI/t,o=0,r=[],a=0;t>a;a++){var i=e+e*Math.sin(o),s=e+e*Math.cos(o);r.push([i,s,0,0]),o+=n}return r},r=function(e){for(var n=t/e.length,o=[],r=function(e,r,a,i,s){n=t*s;for(var l=(a-e)/n,c=(i-r)/n,u=0;n>u;u++)o.push([e+l*u,r+c*u,0,0])},a=0;a<e.length;a++)r.apply(null,e[a]);return o},a=function(e){for(var t=[],n=0;n<e.length;n++)t.push([e[n][0],e[n][1],e[n][2],e[n][3],1/e.length]);return r(t)},i=function(){return a([[0,0,1,0],[1,0,1,1],[1,1,0,1],[0,1,0,0]])},s={Circle:o,Ellipse:o,Diamond:function(){return a([[.5,0,1,.5],[1,.5,.5,1],[.5,1,0,.5],[0,.5,.5,0]])},Rectangle:i,Square:i,Triangle:function(){return a([[.5,0,1,1],[1,1,0,1],[0,1,.5,0]])},Path:function(e){for(var t=e.points,n=[],o=0,a=0;a<t.length-1;a++){var i=Math.sqrt(Math.pow(t[a][2]-t[a][0])+Math.pow(t[a][3]-t[a][1]));o+=i,n.push([t[a][0],t[a][1],t[a+1][0],t[a+1][1],i])}for(var s=0;s<n.length;s++)n[s][4]=n[s][4]/o;return r(n)}},l=function(e,t){for(var n=[],o=t/180*Math.PI,r=0;r<e.length;r++){var a=e[r][0]-.5,i=e[r][1]-.5;n.push([.5+(a*Math.cos(o)-i*Math.sin(o)),.5+(a*Math.sin(o)+i*Math.cos(o)),e[r][2],e[r][3]])}return n};if(!s[n])throw new Error("Shape ["+n+"] is unknown by Perimeter Anchor type");var c=s[n](e);e.rotation&&(c=l(c,e.rotation));var u=e.jsPlumbInstance.makeDynamicAnchor(c);return u.type="Perimeter",u}}.call(this),function(){"use strict";var e=this,t=e.jsPlumb,n=e.jsPlumbUtil,o=e.Biltong;t.Segments={AbstractSegment:function(e){this.params=e,this.findClosestPointOnPath=function(){return{d:1/0,x:null,y:null,l:null}},this.getBounds=function(){return{minX:Math.min(e.x1,e.x2),minY:Math.min(e.y1,e.y2),maxX:Math.max(e.x1,e.x2),maxY:Math.max(e.y1,e.y2)}}},Straight:function(e){var n,r,a,i,s,l,c,u=(t.Segments.AbstractSegment.apply(this,arguments),function(){n=Math.sqrt(Math.pow(s-i,2)+Math.pow(c-l,2)),r=o.gradient({x:i,y:l},{x:s,y:c}),a=-1/r});this.type="Straight",this.getLength=function(){return n},this.getGradient=function(){return r},this.getCoordinates=function(){return{x1:i,y1:l,x2:s,y2:c}},this.setCoordinates=function(e){i=e.x1,l=e.y1,s=e.x2,c=e.y2,u()},this.setCoordinates({x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2}),this.getBounds=function(){return{minX:Math.min(i,s),minY:Math.min(l,c),maxX:Math.max(i,s),maxY:Math.max(l,c)}},this.pointOnPath=function(e,t){if(0!==e||t){if(1!=e||t){var r=t?e>0?e:n+e:e*n;return o.pointOnLine({x:i,y:l},{x:s,y:c},r)}return{x:s,y:c}}return{x:i,y:l}},this.gradientAtPoint=function(){return r},this.pointAlongPathFrom=function(e,t,n){var r=this.pointOnPath(e,n),a=0>=t?{x:i,y:l}:{x:s,y:c};return 0>=t&&Math.abs(t)>1&&(t*=-1),o.pointOnLine(r,a,t)};var d=function(e,t,n){return n>=Math.min(e,t)&&n<=Math.max(e,t)},p=function(e,t,n){return Math.abs(n-e)<Math.abs(n-t)?e:t};this.findClosestPointOnPath=function(e,t){var u={d:1/0,x:null,y:null,l:null,x1:i,x2:s,y1:l,y2:c};if(0===r)u.y=l,u.x=d(i,s,e)?e:p(i,s,e);else if(1/0==r||r==-1/0)u.x=i,u.y=d(l,c,t)?t:p(l,c,t);else{var h=l-r*i,f=t-a*e,m=(f-h)/(r-a),b=r*m+h;u.x=d(i,s,m)?m:p(i,s,m),u.y=d(l,c,b)?b:p(l,c,b)}var g=o.lineLength([u.x,u.y],[i,l]);return u.d=o.lineLength([e,t],[u.x,u.y]),u.l=g/n,u}},Arc:function(e){var n=(t.Segments.AbstractSegment.apply(this,arguments),function(t,n){return o.theta([e.cx,e.cy],[t,n])}),r=function(e,t){if(e.anticlockwise){var n=e.startAngle<e.endAngle?e.startAngle+a:e.startAngle,o=Math.abs(n-e.endAngle);return n-o*t}var r=e.endAngle<e.startAngle?e.endAngle+a:e.endAngle,i=Math.abs(r-e.startAngle);return e.startAngle+i*t},a=2*Math.PI;this.radius=e.r,this.anticlockwise=e.ac,this.type="Arc",e.startAngle&&e.endAngle?(this.startAngle=e.startAngle,this.endAngle=e.endAngle,this.x1=e.cx+this.radius*Math.cos(e.startAngle),this.y1=e.cy+this.radius*Math.sin(e.startAngle),this.x2=e.cx+this.radius*Math.cos(e.endAngle),this.y2=e.cy+this.radius*Math.sin(e.endAngle)):(this.startAngle=n(e.x1,e.y1),this.endAngle=n(e.x2,e.y2),this.x1=e.x1,this.y1=e.y1,this.x2=e.x2,this.y2=e.y2),this.endAngle<0&&(this.endAngle+=a),this.startAngle<0&&(this.startAngle+=a);var i=this.endAngle<this.startAngle?this.endAngle+a:this.endAngle;this.sweep=Math.abs(i-this.startAngle),this.anticlockwise&&(this.sweep=a-this.sweep);var s=2*Math.PI*this.radius,l=this.sweep/a,c=s*l;this.getLength=function(){return c},this.getBounds=function(){return{minX:e.cx-e.r,maxX:e.cx+e.r,minY:e.cy-e.r,maxY:e.cy+e.r}};var u=1e-10,d=function(e){var t=Math.floor(e),n=Math.ceil(e);return u>e-t?t:u>n-e?n:e};this.pointOnPath=function(t,n){if(0===t)return{x:this.x1,y:this.y1,theta:this.startAngle};if(1==t)return{x:this.x2,y:this.y2,theta:this.endAngle};n&&(t/=c);var o=r(this,t),a=e.cx+e.r*Math.cos(o),i=e.cy+e.r*Math.sin(o);return{x:d(a),y:d(i),theta:o}},this.gradientAtPoint=function(t,n){var r=this.pointOnPath(t,n),a=o.normal([e.cx,e.cy],[r.x,r.y]);return this.anticlockwise||1/0!=a&&a!=-1/0||(a*=-1),a},this.pointAlongPathFrom=function(t,n,o){var r=this.pointOnPath(t,o),a=2*(n/s)*Math.PI,i=this.anticlockwise?-1:1,l=r.theta+i*a,c=e.cx+this.radius*Math.cos(l),u=e.cy+this.radius*Math.sin(l);return{x:c,y:u}}},Bezier:function(n){this.curve=[{x:n.x1,y:n.y1},{x:n.cp1x,y:n.cp1y},{x:n.cp2x,y:n.cp2y},{x:n.x2,y:n.y2}],t.Segments.AbstractSegment.apply(this,arguments),this.bounds={minX:Math.min(n.x1,n.x2,n.cp1x,n.cp2x),minY:Math.min(n.y1,n.y2,n.cp1y,n.cp2y),maxX:Math.max(n.x1,n.x2,n.cp1x,n.cp2x),maxY:Math.max(n.y1,n.y2,n.cp1y,n.cp2y)},this.type="Bezier";var o=function(t,n,o){return o&&(n=e.jsBezier.locationAlongCurveFrom(t,n>0?0:1,n)),n};this.pointOnPath=function(t,n){return t=o(this.curve,t,n),e.jsBezier.pointOnCurve(this.curve,t)},this.gradientAtPoint=function(t,n){return t=o(this.curve,t,n),e.jsBezier.gradientAtPoint(this.curve,t)},this.pointAlongPathFrom=function(t,n,r){return t=o(this.curve,t,r),e.jsBezier.pointAlongCurveFrom(this.curve,t,n)},this.getLength=function(){return e.jsBezier.getLength(this.curve)},this.getBounds=function(){return this.bounds}}};var r=function(){this.resetBounds=function(){this.bounds={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}},this.resetBounds()};t.Connectors.AbstractConnector=function(e){r.apply(this,arguments);var a=[],i=0,s=[],l=[],c=e.stub||0,u=n.isArray(c)?c[0]:c,d=n.isArray(c)?c[1]:c,p=e.gap||0,h=n.isArray(p)?p[0]:p,f=n.isArray(p)?p[1]:p,m=null,b=!1,g=null,v=null,y=e.editable!==!1&&null!=jsPlumb.ConnectorEditors&&null!=jsPlumb.ConnectorEditors[this.type],w=this.setGeometry=function(e,t){b=!t,v=e},_=this.getGeometry=function(){return v};this.hasBeenEdited=function(){return b},this.isEditing=function(){return null!=this.editor&&this.editor.isActive()},this.setEditable=function(e){return y=e&&null!=jsPlumb.ConnectorEditors&&null!=jsPlumb.ConnectorEditors[this.type]&&(null==this.overrideSetEditable||this.overrideSetEditable())?e:!1},this.isEditable=function(){return y},this.findSegmentForPoint=function(e,t){for(var n={d:1/0,s:null,x:null,y:null,l:null},o=0;o<a.length;o++){var r=a[o].findClosestPointOnPath(e,t);r.d<n.d&&(n.d=r.d,n.l=r.l,n.x=r.x,n.y=r.y,n.s=a[o],n.x1=r.x1,n.x2=r.x2,n.y1=r.y1,n.y2=r.y2,n.index=o)}return n};var x=function(){for(var e=0,t=0;t<a.length;t++){var n=a[t].getLength();l[t]=n/i,s[t]=[e,e+=n/i]}},C=function(e,t){t&&(e=e>0?e/i:(i+e)/i);for(var n=s.length-1,o=1,r=0;r<s.length;r++)if(s[r][1]>=e){n=r,o=1==e?1:0===e?0:(e-s[r][0])/l[r];break}return{segment:a[n],proportion:o,index:n}},$=function(e,n,o){if(o.x1!=o.x2||o.y1!=o.y2){var r=new t.Segments[n](o);a.push(r),i+=r.getLength(),e.updateBounds(r)}},q=function(){i=a.length=s.length=l.length=0};this.setSegments=function(e){m=[],i=0;for(var t=0;t<e.length;t++)m.push(e[t]),i+=e[t].getLength()},this.getLength=function(){return i};var E=function(e){this.lineWidth=e.lineWidth;var t=o.quadrant(e.sourcePos,e.targetPos),n=e.targetPos[0]<e.sourcePos[0],r=e.targetPos[1]<e.sourcePos[1],a=e.lineWidth||1,i=e.sourceEndpoint.anchor.getOrientation(e.sourceEndpoint),s=e.targetEndpoint.anchor.getOrientation(e.targetEndpoint),l=n?e.targetPos[0]:e.sourcePos[0],c=r?e.targetPos[1]:e.sourcePos[1],p=Math.abs(e.targetPos[0]-e.sourcePos[0]),m=Math.abs(e.targetPos[1]-e.sourcePos[1]);if(0===i[0]&&0===i[1]||0===s[0]&&0===s[1]){var b=p>m?0:1,g=[1,0][b];i=[],s=[],i[b]=e.sourcePos[b]>e.targetPos[b]?-1:1,s[b]=e.sourcePos[b]>e.targetPos[b]?1:-1,i[g]=0,s[g]=0}var v=n?p+h*i[0]:h*i[0],y=r?m+h*i[1]:h*i[1],w=n?f*s[0]:p+f*s[0],_=r?f*s[1]:m+f*s[1],x=i[0]*s[0]+i[1]*s[1],C={sx:v,sy:y,tx:w,ty:_,lw:a,xSpan:Math.abs(w-v),ySpan:Math.abs(_-y),mx:(v+w)/2,my:(y+_)/2,so:i,to:s,x:l,y:c,w:p,h:m,segment:t,startStubX:v+i[0]*u,startStubY:y+i[1]*u,endStubX:w+s[0]*d,endStubY:_+s[1]*d,isXGreaterThanStubTimes2:Math.abs(v-w)>u+d,isYGreaterThanStubTimes2:Math.abs(y-_)>u+d,opposite:-1==x,perpendicular:0===x,orthogonal:1==x,sourceAxis:0===i[0]?"y":"x",points:[l,c,p,m,v,y,w,_]};return C.anchorOrientation=C.opposite?"opposite":C.orthogonal?"orthogonal":"perpendicular",C};return this.getSegments=function(){return a},this.updateBounds=function(e){var t=e.getBounds();this.bounds.minX=Math.min(this.bounds.minX,t.minX),this.bounds.maxX=Math.max(this.bounds.maxX,t.maxX),this.bounds.minY=Math.min(this.bounds.minY,t.minY),this.bounds.maxY=Math.max(this.bounds.maxY,t.maxY)},this.pointOnPath=function(e,t){var n=C(e,t);return n.segment&&n.segment.pointOnPath(n.proportion,!1)||[0,0]},this.gradientAtPoint=function(e,t){var n=C(e,t);return n.segment&&n.segment.gradientAtPoint(n.proportion,!1)||0},this.pointAlongPathFrom=function(e,t,n){var o=C(e,n);return o.segment&&o.segment.pointAlongPathFrom(o.proportion,t,!1)||[0,0]},this.compute=function(e){g=E.call(this,e),q(),this._compute(g,e),this.x=g.points[0],this.y=g.points[1],this.w=g.points[2],this.h=g.points[3],this.segment=g.segment,x()},{addSegment:$,prepareCompute:E,sourceStub:u,targetStub:d,maxStub:Math.max(u,d),sourceGap:h,targetGap:f,maxGap:Math.max(h,f),setGeometry:w,getGeometry:_}},n.extend(t.Connectors.AbstractConnector,r);var a=t.Connectors.Straight=function(){this.type="Straight";var e=t.Connectors.AbstractConnector.apply(this,arguments);this._compute=function(t){e.addSegment(this,"Straight",{x1:t.sx,y1:t.sy,x2:t.startStubX,y2:t.startStubY}),e.addSegment(this,"Straight",{x1:t.startStubX,y1:t.startStubY,x2:t.endStubX,y2:t.endStubY}),e.addSegment(this,"Straight",{x1:t.endStubX,y1:t.endStubY,x2:t.tx,y2:t.ty})}};n.extend(t.Connectors.Straight,t.Connectors.AbstractConnector),t.registerConnectorType(a,"Straight"),t.Endpoints.AbstractEndpoint=function(e){r.apply(this,arguments);var t=this.compute=function(){var e=this._compute.apply(this,arguments);return this.x=e[0],this.y=e[1],this.w=e[2],this.h=e[3],this.bounds.minX=this.x,this.bounds.minY=this.y,this.bounds.maxX=this.x+this.w,this.bounds.maxY=this.y+this.h,e};return{compute:t,cssClass:e.cssClass}},n.extend(t.Endpoints.AbstractEndpoint,r),t.Endpoints.Dot=function(e){this.type="Dot",t.Endpoints.AbstractEndpoint.apply(this,arguments),e=e||{},this.radius=e.radius||10,this.defaultOffset=.5*this.radius,this.defaultInnerRadius=this.radius/3,this._compute=function(e,t,n){this.radius=n.radius||this.radius;var o=e[0]-this.radius,r=e[1]-this.radius,a=2*this.radius,i=2*this.radius;if(n.strokeStyle){var s=n.lineWidth||1;o-=s,r-=s,a+=2*s,i+=2*s}return[o,r,a,i,this.radius]}},n.extend(t.Endpoints.Dot,t.Endpoints.AbstractEndpoint),t.Endpoints.Rectangle=function(e){this.type="Rectangle",t.Endpoints.AbstractEndpoint.apply(this,arguments),e=e||{},this.width=e.width||20,this.height=e.height||20,this._compute=function(e,t,n){var o=n.width||this.width,r=n.height||this.height,a=e[0]-o/2,i=e[1]-r/2;return[a,i,o,r]}},n.extend(t.Endpoints.Rectangle,t.Endpoints.AbstractEndpoint);var i=function(){t.jsPlumbUIComponent.apply(this,arguments),this._jsPlumb.displayElements=[]};n.extend(i,t.jsPlumbUIComponent,{getDisplayElements:function(){return this._jsPlumb.displayElements},appendDisplayElement:function(e){this._jsPlumb.displayElements.push(e)}}),t.Endpoints.Image=function(o){this.type="Image",i.apply(this,arguments),t.Endpoints.AbstractEndpoint.apply(this,arguments);var r=o.onload,a=o.src||o.url,s=o.cssClass?" "+o.cssClass:"";this._jsPlumb.img=new Image,this._jsPlumb.ready=!1,this._jsPlumb.initialized=!1,this._jsPlumb.deleted=!1,this._jsPlumb.widthToUse=o.width,this._jsPlumb.heightToUse=o.height,this._jsPlumb.endpoint=o.endpoint,this._jsPlumb.img.onload=function(){null!=this._jsPlumb&&(this._jsPlumb.ready=!0,this._jsPlumb.widthToUse=this._jsPlumb.widthToUse||this._jsPlumb.img.width,this._jsPlumb.heightToUse=this._jsPlumb.heightToUse||this._jsPlumb.img.height,r&&r(this))}.bind(this),this._jsPlumb.endpoint.setImage=function(e,t){var n=e.constructor==String?e:e.src;r=t,this._jsPlumb.img.src=n,null!=this.canvas&&this.canvas.setAttribute("src",this._jsPlumb.img.src)}.bind(this),this._jsPlumb.endpoint.setImage(a,r),this._compute=function(e){return this.anchorPoint=e,this._jsPlumb.ready?[e[0]-this._jsPlumb.widthToUse/2,e[1]-this._jsPlumb.heightToUse/2,this._jsPlumb.widthToUse,this._jsPlumb.heightToUse]:[0,0,0,0]},this.canvas=jsPlumb.createElement("img",{position:"absolute",margin:0,padding:0,outline:0},this._jsPlumb.instance.endpointClass+s),this._jsPlumb.widthToUse&&this.canvas.setAttribute("width",this._jsPlumb.widthToUse),this._jsPlumb.heightToUse&&this.canvas.setAttribute("height",this._jsPlumb.heightToUse),this._jsPlumb.instance.appendElement(this.canvas),this.actuallyPaint=function(){if(!this._jsPlumb.deleted){this._jsPlumb.initialized||(this.canvas.setAttribute("src",this._jsPlumb.img.src),this.appendDisplayElement(this.canvas),this._jsPlumb.initialized=!0);var e=this.anchorPoint[0]-this._jsPlumb.widthToUse/2,t=this.anchorPoint[1]-this._jsPlumb.heightToUse/2;n.sizeElement(this.canvas,e,t,this._jsPlumb.widthToUse,this._jsPlumb.heightToUse)}},this.paint=function(t,n){null!=this._jsPlumb&&(this._jsPlumb.ready?this.actuallyPaint(t,n):e.setTimeout(function(){this.paint(t,n)}.bind(this),200))}},n.extend(t.Endpoints.Image,[i,t.Endpoints.AbstractEndpoint],{cleanup:function(e){e&&(this._jsPlumb.deleted=!0,this.canvas&&this.canvas.parentNode.removeChild(this.canvas),this.canvas=null)}}),t.Endpoints.Blank=function(e){t.Endpoints.AbstractEndpoint.apply(this,arguments),this.type="Blank",i.apply(this,arguments),this._compute=function(e){return[e[0],e[1],10,0]};var o=e.cssClass?" "+e.cssClass:"";this.canvas=jsPlumb.createElement("div",{display:"block",width:"1px",height:"1px",background:"transparent",position:"absolute"},this._jsPlumb.instance.endpointClass+o),this._jsPlumb.instance.appendElement(this.canvas),this.paint=function(){n.sizeElement(this.canvas,this.x,this.y,this.w,this.h)}},n.extend(t.Endpoints.Blank,[t.Endpoints.AbstractEndpoint,i],{cleanup:function(){this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)}}),t.Endpoints.Triangle=function(e){this.type="Triangle",t.Endpoints.AbstractEndpoint.apply(this,arguments),e=e||{},e.width=e.width||55,e.height=e.height||55,this.width=e.width,this.height=e.height,this._compute=function(e,t,n){var o=n.width||self.width,r=n.height||self.height,a=e[0]-o/2,i=e[1]-r/2;return[a,i,o,r]}};var s=t.Overlays.AbstractOverlay=function(e){this.visible=!0,this.isAppendedAtTopLevel=!0,this.component=e.component,this.loc=null==e.location?.5:e.location,this.endpointLoc=null==e.endpointLocation?[.5,.5]:e.endpointLocation,this.visible=e.visible!==!1};s.prototype={cleanup:function(e){e&&(this.component=null,this.canvas=null,this.endpointLoc=null)},reattach:function(){},setVisible:function(e){this.visible=e,this.component.repaint()},isVisible:function(){return this.visible},hide:function(){this.setVisible(!1)},show:function(){this.setVisible(!0)},incrementLocation:function(e){this.loc+=e,this.component.repaint()},setLocation:function(e){this.loc=e,this.component.repaint()},getLocation:function(){return this.loc},updateFrom:function(){}},t.Overlays.Arrow=function(e){this.type="Arrow",s.apply(this,arguments),this.isAppendedAtTopLevel=!1,e=e||{},this.length=e.length||20,this.width=e.width||20,this.id=e.id;var t=(e.direction||1)<0?-1:1,r=e.paintStyle||{lineWidth:1},a=e.foldback||.623;this.computeMaxSize=function(){return 1.5*self.width},this.elementCreated=function(t){if(this.path=t,e.events)for(var n in e.events)jsPlumb.on(t,n,e.events[n])},this.draw=function(e,i){var s,l,c,u,d;if(e.pointAlongPathFrom){if(n.isString(this.loc)||this.loc>1||this.loc<0){var p=parseInt(this.loc,10),h=this.loc<0?1:0;s=e.pointAlongPathFrom(h,p,!1),l=e.pointAlongPathFrom(h,p-t*this.length/2,!1),c=o.pointOnLine(s,l,this.length)}else if(1==this.loc){if(s=e.pointOnPath(this.loc),l=e.pointAlongPathFrom(this.loc,-this.length),c=o.pointOnLine(s,l,this.length),-1==t){var f=c;c=s,s=f}}else if(0===this.loc){if(c=e.pointOnPath(this.loc),l=e.pointAlongPathFrom(this.loc,this.length),s=o.pointOnLine(c,l,this.length),-1==t){var m=c;c=s,s=m}}else s=e.pointAlongPathFrom(this.loc,t*this.length/2),l=e.pointOnPath(this.loc),c=o.pointOnLine(s,l,this.length);u=o.perpendicularLineTo(s,c,this.width),d=o.pointOnLine(s,c,a*this.length);var b={hxy:s,tail:u,cxy:d},g=r.strokeStyle||i.strokeStyle,v=r.fillStyle||i.strokeStyle,y=r.lineWidth||i.lineWidth;return{component:e,d:b,lineWidth:y,strokeStyle:g,fillStyle:v,minX:Math.min(s.x,u[0].x,u[1].x),maxX:Math.max(s.x,u[0].x,u[1].x),minY:Math.min(s.y,u[0].y,u[1].y),maxY:Math.max(s.y,u[0].y,u[1].y)}}return{component:e,minX:0,maxX:0,minY:0,maxY:0}}},n.extend(t.Overlays.Arrow,s,{updateFrom:function(e){this.length=e.length||this.length,this.width=e.width||this.width,this.direction=null!=e.direction?e.direction:this.direction,this.foldback=e.foldback||this.foldback}}),t.Overlays.PlainArrow=function(e){e=e||{};var n=t.extend(e,{foldback:1});t.Overlays.Arrow.call(this,n),this.type="PlainArrow"},n.extend(t.Overlays.PlainArrow,t.Overlays.Arrow),t.Overlays.Diamond=function(e){e=e||{};var n=e.length||40,o=jsPlumb.extend(e,{length:n/2,foldback:2});t.Overlays.Arrow.call(this,o),this.type="Diamond"},n.extend(t.Overlays.Diamond,t.Overlays.Arrow);var l=function(e,t){return(null==e._jsPlumb.cachedDimensions||t)&&(e._jsPlumb.cachedDimensions=e.getDimensions()),e._jsPlumb.cachedDimensions},c=function(e){t.jsPlumbUIComponent.apply(this,arguments),s.apply(this,arguments);var o=this.fire;this.fire=function(){o.apply(this,arguments),this.component&&this.component.fire.apply(this.component,arguments)},this.detached=!1,this.id=e.id,this._jsPlumb.div=null,this._jsPlumb.initialised=!1,this._jsPlumb.component=e.component,this._jsPlumb.cachedDimensions=null,this._jsPlumb.create=e.create,this._jsPlumb.initiallyInvisible=e.visible===!1,this.getElement=function(){if(null==this._jsPlumb.div){var t=this._jsPlumb.div=jsPlumb.getElement(this._jsPlumb.create(this._jsPlumb.component));t.style.position="absolute",t.className=this._jsPlumb.instance.overlayClass+" "+(this.cssClass?this.cssClass:e.cssClass?e.cssClass:""),this._jsPlumb.instance.appendElement(t),this._jsPlumb.instance.getId(t),this.canvas=t;var n="translate(-50%, -50%)";t.style.webkitTransform=n,t.style.mozTransform=n,t.style.msTransform=n,t.style.oTransform=n,t.style.transform=n,t._jsPlumb=this,e.visible===!1&&(t.style.display="none")}return this._jsPlumb.div},this.draw=function(e,t,o){var r=l(this);if(null!=r&&2==r.length){var a={x:0,y:0};if(o)a={x:o[0],y:o[1]};else if(e.pointOnPath){var i=this.loc,s=!1;(n.isString(this.loc)||this.loc<0||this.loc>1)&&(i=parseInt(this.loc,10),s=!0),a=e.pointOnPath(i,s)}else{var c=this.loc.constructor==Array?this.loc:this.endpointLoc;a={x:c[0]*e.w,y:c[1]*e.h}}var u=a.x-r[0]/2,d=a.y-r[1]/2;return{component:e,d:{minx:u,miny:d,td:r,cxy:a},minX:u,maxX:u+r[0],minY:d,maxY:d+r[1]}}return{minX:0,maxX:0,minY:0,maxY:0}}};n.extend(c,[t.jsPlumbUIComponent,s],{getDimensions:function(){return[1,1]},setVisible:function(e){this._jsPlumb.div&&(this._jsPlumb.div.style.display=e?"block":"none",e&&this._jsPlumb.initiallyInvisible&&(l(this,!0),this.component.repaint(),this._jsPlumb.initiallyInvisible=!1))},clearCachedDimensions:function(){this._jsPlumb.cachedDimensions=null},cleanup:function(e){e?null!=this._jsPlumb.div&&(this._jsPlumb.div._jsPlumb=null,this._jsPlumb.instance.removeElement(this._jsPlumb.div)):(this._jsPlumb&&this._jsPlumb.div&&this._jsPlumb.div.parentNode&&this._jsPlumb.div.parentNode.removeChild(this._jsPlumb.div),this.detached=!0)},reattach:function(e){null!=this._jsPlumb.div&&e.getContainer().appendChild(this._jsPlumb.div),this.detached=!1},computeMaxSize:function(){var e=l(this);return Math.max(e[0],e[1])},paint:function(e){this._jsPlumb.initialised||(this.getElement(),e.component.appendDisplayElement(this._jsPlumb.div),this._jsPlumb.initialised=!0,this.detached&&this._jsPlumb.div.parentNode.removeChild(this._jsPlumb.div)),this._jsPlumb.div.style.left=e.component.x+e.d.minx+"px",this._jsPlumb.div.style.top=e.component.y+e.d.miny+"px"}}),t.Overlays.Custom=function(){this.type="Custom",c.apply(this,arguments)},n.extend(t.Overlays.Custom,c),t.Overlays.GuideLines=function(){var e=this;e.length=50,e.lineWidth=5,this.type="GuideLines",s.apply(this,arguments),t.jsPlumbUIComponent.apply(this,arguments),this.draw=function(t){var n=t.pointAlongPathFrom(e.loc,e.length/2),r=t.pointOnPath(e.loc),a=o.pointOnLine(n,r,e.length),i=o.perpendicularLineTo(n,a,40),s=o.perpendicularLineTo(a,n,20);return{connector:t,head:n,tail:a,headLine:s,tailLine:i,minX:Math.min(n.x,a.x,s[0].x,s[1].x),minY:Math.min(n.y,a.y,s[0].y,s[1].y),maxX:Math.max(n.x,a.x,s[0].x,s[1].x),maxY:Math.max(n.y,a.y,s[0].y,s[1].y)}}},t.Overlays.Label=function(e){this.labelStyle=e.labelStyle,this.cssClass=null!=this.labelStyle?this.labelStyle.cssClass:null;var n=t.extend({create:function(){return jsPlumb.createElement("div")}},e);if(t.Overlays.Custom.call(this,n),this.type="Label",this.label=e.label||"",this.labelText=null,this.labelStyle){var o=this.getElement();if(this.labelStyle.font=this.labelStyle.font||"12px sans-serif",o.style.font=this.labelStyle.font,o.style.color=this.labelStyle.color||"black",this.labelStyle.fillStyle&&(o.style.background=this.labelStyle.fillStyle),this.labelStyle.borderWidth>0){var r=this.labelStyle.borderStyle?this.labelStyle.borderStyle:"black";o.style.border=this.labelStyle.borderWidth+"px solid "+r}this.labelStyle.padding&&(o.style.padding=this.labelStyle.padding)}},n.extend(t.Overlays.Label,t.Overlays.Custom,{cleanup:function(e){e&&(this.div=null,this.label=null,this.labelText=null,this.cssClass=null,this.labelStyle=null)},getLabel:function(){return this.label},setLabel:function(e){this.label=e,this.labelText=null,this.clearCachedDimensions(),this.update(),this.component.repaint()},getDimensions:function(){return this.update(),c.prototype.getDimensions.apply(this,arguments)},update:function(){if("function"==typeof this.label){var e=this.label(this);this.getElement().innerHTML=e.replace(/\r\n/g,"<br/>")}else null==this.labelText&&(this.labelText=this.label,this.getElement().innerHTML=this.labelText.replace(/\r\n/g,"<br/>"))},updateFrom:function(e){e.label&&this.setLabel(e.label)}})}.call(this),function(){"use strict";var e=this,t=e.jsPlumb,n=function(t){var n=t._mottle;return n||(n=t._mottle=new e.Mottle),n};t.extend(e.jsPlumbInstance.prototype,{getEventManager:function(){return n(this)},on:function(){return this.getEventManager().on.apply(this,arguments),this},off:function(){return this.getEventManager().off.apply(this,arguments),this}})}.call(this),function(){"use strict";var e=this,t=e.jsPlumb,n=e.jsPlumbUtil,o=function(e){this.type="Flowchart",e=e||{},e.stub=null==e.stub?30:e.stub;var n,o,r=t.Connectors.AbstractConnector.apply(this,arguments),a=null==e.midpoint?.5:e.midpoint,i=e.alwaysRespectStubs===!0,s=null,l=null,c=null!=e.cornerRadius?e.cornerRadius:0,u=(e.loopbackRadius||25,function(e){return 0>e?-1:0===e?0:1}),d=function(e,t,n,o){if(s!=t||l!=n){var r=null==s?o.sx:s,a=null==l?o.sy:l,i=r==t?"v":"h",c=u(t-r),d=u(n-a);s=t,l=n,e.push([r,a,t,n,i,c,d])}},p=function(e){return Math.sqrt(Math.pow(e[0]-e[2],2)+Math.pow(e[1]-e[3],2))},h=function(e){var t=[];return t.push.apply(t,e),t},f=function(e,t,n){for(var o,a=null,i=0;i<t.length-1;i++){if(a=a||h(t[i]),o=h(t[i+1]),c>0&&a[4]!=o[4]){var s=Math.min(c,p(a),p(o));a[2]-=a[5]*s,a[3]-=a[6]*s,o[0]+=o[5]*s,o[1]+=o[6]*s;var l=a[6]==o[5]&&1==o[5]||a[6]==o[5]&&0===o[5]&&a[5]!=o[6]||a[6]==o[5]&&-1==o[5],u=o[1]>a[3]?1:-1,d=o[0]>a[2]?1:-1,f=u==d,m=f&&l||!f&&!l?o[0]:a[2],b=f&&l||!f&&!l?a[3]:o[1];r.addSegment(e,"Straight",{x1:a[0],y1:a[1],x2:a[2],y2:a[3]}),r.addSegment(e,"Arc",{r:s,x1:a[2],y1:a[3],x2:o[0],y2:o[1],cx:m,cy:b,ac:l})}else{var g=a[2]==a[0]?0:a[2]>a[0]?n.lw/2:-(n.lw/2),v=a[3]==a[1]?0:a[3]>a[1]?n.lw/2:-(n.lw/2);r.addSegment(e,"Straight",{x1:a[0]-g,y1:a[1]-v,x2:a[2]+g,y2:a[3]+v})}a=o}null!=o&&r.addSegment(e,"Straight",{x1:o[0],y1:o[1],x2:o[2],y2:o[3]})};this._compute=function(e,t){n=[],s=null,l=null,o=null;var c=function(){return[e.startStubX,e.startStubY,e.endStubX,e.endStubY]},u={perpendicular:c,orthogonal:c,opposite:function(t){var n=e,o="x"==t?0:1,r={x:function(){return 1==n.so[o]&&(n.startStubX>n.endStubX&&n.tx>n.startStubX||n.sx>n.endStubX&&n.tx>n.sx)||-1==n.so[o]&&(n.startStubX<n.endStubX&&n.tx<n.startStubX||n.sx<n.endStubX&&n.tx<n.sx)},y:function(){return 1==n.so[o]&&(n.startStubY>n.endStubY&&n.ty>n.startStubY||n.sy>n.endStubY&&n.ty>n.sy)||-1==n.so[o]&&(n.startStubY<n.endStubY&&n.ty<n.startStubY||n.sy<n.endStubY&&n.ty<n.sy)}};return!i&&r[t]()?{x:[(e.sx+e.tx)/2,e.startStubY,(e.sx+e.tx)/2,e.endStubY],y:[e.startStubX,(e.sy+e.ty)/2,e.endStubX,(e.sy+e.ty)/2]}[t]:[e.startStubX,e.startStubY,e.endStubX,e.endStubY]}},p=u[e.anchorOrientation](e.sourceAxis),h="x"==e.sourceAxis?0:1,m="x"==e.sourceAxis?1:0,b=p[h],g=p[m],v=p[h+2],y=p[m+2];d(n,p[0],p[1],e);var w=e.startStubX+(e.endStubX-e.startStubX)*a,_=e.startStubY+(e.endStubY-e.startStubY)*a,x={x:[0,1],y:[1,0]},C={perpendicular:function(t){var n=e,o={x:[[[1,2,3,4],null,[2,1,4,3]],null,[[4,3,2,1],null,[3,4,1,2]]],y:[[[3,2,1,4],null,[2,3,4,1]],null,[[4,1,2,3],null,[1,4,3,2]]]},r={x:[[n.startStubX,n.endStubX],null,[n.endStubX,n.startStubX]],y:[[n.startStubY,n.endStubY],null,[n.endStubY,n.startStubY]]},a={x:[[w,n.startStubY],[w,n.endStubY]],y:[[n.startStubX,_],[n.endStubX,_]]},i={x:[[n.endStubX,n.startStubY]],y:[[n.startStubX,n.endStubY]]},s={x:[[n.startStubX,n.endStubY],[n.endStubX,n.endStubY]],y:[[n.endStubX,n.startStubY],[n.endStubX,n.endStubY]]},l={x:[[n.startStubX,_],[n.endStubX,_],[n.endStubX,n.endStubY]],y:[[w,n.startStubY],[w,n.endStubY],[n.endStubX,n.endStubY]]},c={x:[n.startStubY,n.endStubY],y:[n.startStubX,n.endStubX]},u=x[t][0],d=x[t][1],p=n.so[u]+1,h=n.to[d]+1,f=-1==n.to[d]&&c[t][1]<c[t][0]||1==n.to[d]&&c[t][1]>c[t][0],m=r[t][p][0],b=r[t][p][1],g=o[t][p][h];return n.segment==g[3]||n.segment==g[2]&&f?a[t]:n.segment==g[2]&&m>b?i[t]:n.segment==g[2]&&b>=m||n.segment==g[1]&&!f?l[t]:n.segment==g[0]||n.segment==g[1]&&f?s[t]:void 0},orthogonal:function(t,n,o,r,a){var i=e,s={x:-1==i.so[0]?Math.min(n,r):Math.max(n,r),y:-1==i.so[1]?Math.min(n,r):Math.max(n,r)}[t];return{x:[[s,o],[s,a],[r,a]],y:[[o,s],[a,s],[a,r]]}[t]},opposite:function(n,o,a,i){var s=e,l={x:"y",y:"x"}[n],c={x:"height",y:"width"}[n],u=s["is"+n.toUpperCase()+"GreaterThanStubTimes2"];if(t.sourceEndpoint.elementId==t.targetEndpoint.elementId){var d=a+(1-t.sourceEndpoint.anchor[l])*t.sourceInfo[c]+r.maxStub;return{x:[[o,d],[i,d]],y:[[d,o],[d,i]]}[n]}return!u||1==s.so[h]&&o>i||-1==s.so[h]&&i>o?{x:[[o,_],[i,_]],y:[[w,o],[w,i]]}[n]:1==s.so[h]&&i>o||-1==s.so[h]&&o>i?{x:[[w,s.sy],[w,s.ty]],y:[[s.sx,_],[s.tx,_]]}[n]:void 0}},$=C[e.anchorOrientation](e.sourceAxis,b,g,v,y);if($)for(var q=0;q<$.length;q++)d(n,$[q][0],$[q][1],e);d(n,p[2],p[3],e),d(n,e.tx,e.ty,e),f(this,n,e)}};n.extend(o,t.Connectors.AbstractConnector),t.registerConnectorType(o,"Flowchart")}.call(this),function(){"use strict";var e=this,t=e.jsPlumb,n=e.jsPlumbUtil;t.Connectors.AbstractBezierConnector=function(e){e=e||{};var n,o=e.showLoopback!==!1,r=(e.curviness||10,e.margin||5),a=(e.proximityLimit||80,e.orientation&&"clockwise"===e.orientation),i=e.loopbackRadius||25,s=!1;return this.overrideSetEditable=function(){return!s},this._compute=function(e,t){var l=t.sourcePos,c=t.targetPos,u=Math.abs(l[0]-c[0]),d=Math.abs(l[1]-c[1]);if(o&&t.sourceEndpoint.elementId===t.targetEndpoint.elementId){s=!0;var p=t.sourcePos[0],h=t.sourcePos[1]-r,f=p,m=h-i,b=f-i,g=m-i;u=2*i,d=2*i,e.points[0]=b,e.points[1]=g,e.points[2]=u,e.points[3]=d,n.addSegment(this,"Arc",{loopback:!0,x1:p-b+4,y1:h-g,startAngle:0,endAngle:2*Math.PI,r:i,ac:!a,x2:p-b-4,y2:h-g,cx:f-b,cy:m-g})}else s=!1,this._computeBezier(e,t,l,c,u,d)},n=t.Connectors.AbstractConnector.apply(this,arguments)},n.extend(t.Connectors.AbstractBezierConnector,t.Connectors.AbstractConnector);var o=function(e){e=e||{},this.type="Bezier";var n=t.Connectors.AbstractBezierConnector.apply(this,arguments),o=e.curviness||150,r=10;this.getCurviness=function(){return o},this._findControlPoint=function(e,t,n,a,i,s,l){var c=s[0]!=l[0]||s[1]==l[1],u=[];return c?(0===l[0]?u.push(n[0]<t[0]?e[0]+r:e[0]-r):u.push(e[0]+o*l[0]),0===l[1]?u.push(n[1]<t[1]?e[1]+r:e[1]-r):u.push(e[1]+o*s[1])):(0===s[0]?u.push(t[0]<n[0]?e[0]+r:e[0]-r):u.push(e[0]-o*s[0]),0===s[1]?u.push(t[1]<n[1]?e[1]+r:e[1]-r):u.push(e[1]+o*l[1])),u},this._computeBezier=function(e,t,o,r,a,i){var s,l,c=this.getGeometry(),u=o[0]<r[0]?a:0,d=o[1]<r[1]?i:0,p=o[0]<r[0]?0:a,h=o[1]<r[1]?0:i;(this.hasBeenEdited()||this.isEditing())&&null!=c&&null!=c.controlPoints&&null!=c.controlPoints[0]&&null!=c.controlPoints[1]?(s=c.controlPoints[0],l=c.controlPoints[1]):(s=this._findControlPoint([u,d],o,r,t.sourceEndpoint,t.targetEndpoint,e.so,e.to),l=this._findControlPoint([p,h],r,o,t.targetEndpoint,t.sourceEndpoint,e.to,e.so)),n.setGeometry({controlPoints:[s,l]},!0),n.addSegment(this,"Bezier",{x1:u,y1:d,x2:p,y2:h,cp1x:s[0],cp1y:s[1],cp2x:l[0],cp2y:l[1]})}};n.extend(o,t.Connectors.AbstractBezierConnector),t.registerConnectorType(o,"Bezier")}.call(this),function(){"use strict";var e=this,t=e.jsPlumb,n=e.jsPlumbUtil,o=function(e,t,n,o){return n>=e&&t>=o?1:n>=e&&o>=t?2:e>=n&&o>=t?3:4;
},r=function(e,t,n,o,r,a,i,s,l){return l>=s?[e,t]:1===n?o[3]<=0&&r[3]>=1?[e+(o[2]<.5?-1*a:a),t]:o[2]>=1&&r[2]<=0?[e,t+(o[3]<.5?-1*i:i)]:[e+-1*a,t+-1*i]:2===n?o[3]>=1&&r[3]<=0?[e+(o[2]<.5?-1*a:a),t]:o[2]>=1&&r[2]<=0?[e,t+(o[3]<.5?-1*i:i)]:[e+a,t+-1*i]:3===n?o[3]>=1&&r[3]<=0?[e+(o[2]<.5?-1*a:a),t]:o[2]<=0&&r[2]>=1?[e,t+(o[3]<.5?-1*i:i)]:[e+-1*a,t+-1*i]:4===n?o[3]<=0&&r[3]>=1?[e+(o[2]<.5?-1*a:a),t]:o[2]<=0&&r[2]>=1?[e,t+(o[3]<.5?-1*i:i)]:[e+a,t+-1*i]:void 0},a=function(e){e=e||{},this.type="StateMachine";var n,a=t.Connectors.AbstractBezierConnector.apply(this,arguments),i=e.curviness||10,s=e.margin||5,l=e.proximityLimit||80;e.orientation&&"clockwise"===e.orientation,this._computeBezier=function(e,t,c,u,d,p){var h=t.sourcePos[0]<t.targetPos[0]?0:d,f=t.sourcePos[1]<t.targetPos[1]?0:p,m=t.sourcePos[0]<t.targetPos[0]?d:0,b=t.sourcePos[1]<t.targetPos[1]?p:0;0===t.sourcePos[2]&&(h-=s),1===t.sourcePos[2]&&(h+=s),0===t.sourcePos[3]&&(f-=s),1===t.sourcePos[3]&&(f+=s),0===t.targetPos[2]&&(m-=s),1===t.targetPos[2]&&(m+=s),0===t.targetPos[3]&&(b-=s),1===t.targetPos[3]&&(b+=s);var g,v,y,w,_=(h+m)/2,x=(f+b)/2,C=o(h,f,m,b),$=Math.sqrt(Math.pow(m-h,2)+Math.pow(b-f,2)),q=a.getGeometry();(this.hasBeenEdited()||this.isEditing())&&null!=q?(g=q.controlPoints[0][0],y=q.controlPoints[0][1],v=q.controlPoints[1][0],w=q.controlPoints[1][1]):(n=r(_,x,C,t.sourcePos,t.targetPos,i,i,$,l),g=n[0],v=n[0],y=n[1],w=n[1],a.setGeometry({controlPoints:[n,n]},!0)),a.addSegment(this,"Bezier",{x1:m,y1:b,x2:h,y2:f,cp1x:g,cp1y:y,cp2x:v,cp2y:w})}};n.extend(a,t.Connectors.AbstractBezierConnector),t.registerConnectorType(a,"StateMachine")}.call(this),function(){"use strict";var e=this,t=e.jsPlumb,n=e.jsPlumbUtil,o={"stroke-linejoin":"stroke-linejoin","stroke-dashoffset":"stroke-dashoffset","stroke-linecap":"stroke-linecap"},r="stroke-dasharray",a="dashstyle",i="linearGradient",s="radialGradient",l="defs",c="fill",u="stop",d="stroke",p="stroke-width",h="style",f="none",m="jsplumb_gradient_",b="lineWidth",g={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml"},v=function(e,t){for(var n in t)e.setAttribute(n,""+t[n])},y=function(e,t){return t=t||{},t.version="1.1",t.xmlns=g.xhtml,jsPlumb.createElementNS(g.svg,e,null,null,t)},w=function(e){return"position:absolute;left:"+e[0]+"px;top:"+e[1]+"px"},_=function(e){for(var t=e.querySelectorAll(" defs,linearGradient,radialGradient"),n=0;n<t.length;n++)t[n].parentNode.removeChild(t[n])},x=function(e,t,n,o,r){var a=m+r._jsPlumb.instance.idstamp();_(e);var p;p=n.gradient.offset?y(s,{id:a}):y(i,{id:a,gradientUnits:"userSpaceOnUse"});var h=y(l);e.appendChild(h),h.appendChild(p);for(var f=0;f<n.gradient.stops.length;f++){var b=1==r.segment||2==r.segment?f:n.gradient.stops.length-1-f,g=n.gradient.stops[b][1],v=y(u,{offset:Math.floor(100*n.gradient.stops[f][0])+"%","stop-color":g});p.appendChild(v)}var w=n.strokeStyle?d:c;t.setAttribute(w,"url(#"+a+")")},C=function(e,t,n,i,s){if(t.setAttribute(c,n.fillStyle?n.fillStyle:f),t.setAttribute(d,n.strokeStyle?n.strokeStyle:f),n.gradient?x(e,t,n,i,s):(_(e),t.setAttribute(h,"")),n.lineWidth&&t.setAttribute(p,n.lineWidth),n[a]&&n[b]&&!n[r]){var l=-1==n[a].indexOf(",")?" ":",",u=n[a].split(l),m="";u.forEach(function(e){m+=Math.floor(e*n.lineWidth)+l}),t.setAttribute(r,m)}else n[r]&&t.setAttribute(r,n[r]);for(var g in o)n[g]&&t.setAttribute(o[g],n[g])},$=function(e,t,n){e.childNodes.length>n?e.insertBefore(t,e.childNodes[n]):e.appendChild(t)};n.svg={node:y,attr:v,pos:w};var q=function(e){var o=e.pointerEventsSpec||"all",r={};t.jsPlumbUIComponent.apply(this,e.originalArgs),this.canvas=null,this.path=null,this.svg=null,this.bgCanvas=null;var a=e.cssClass+" "+(e.originalArgs[0].cssClass||""),i={style:"",width:0,height:0,"pointer-events":o,position:"absolute"};this.svg=y("svg",i),e.useDivWrapper?(this.canvas=jsPlumb.createElement("div",{position:"absolute"}),n.sizeElement(this.canvas,0,0,1,1),this.canvas.className=a):(v(this.svg,{"class":a}),this.canvas=this.svg),e._jsPlumb.appendElement(this.canvas,e.originalArgs[0].parent),e.useDivWrapper&&this.canvas.appendChild(this.svg);var s=[this.canvas];return this.getDisplayElements=function(){return s},this.appendDisplayElement=function(e){s.push(e)},this.paint=function(t,o,a){if(null!=t){var i,s=[this.x,this.y],l=[this.w,this.h];null!=a&&(a.xmin<0&&(s[0]+=a.xmin),a.ymin<0&&(s[1]+=a.ymin),l[0]=a.xmax+(a.xmin<0?-a.xmin:0),l[1]=a.ymax+(a.ymin<0?-a.ymin:0)),e.useDivWrapper?(n.sizeElement(this.canvas,s[0],s[1],l[0],l[1]),s[0]=0,s[1]=0,i=w([0,0])):i=w([s[0],s[1]]),r.paint.apply(this,arguments),v(this.svg,{style:i,width:l[0]||0,height:l[1]||0})}},{renderer:r}};n.extend(q,t.jsPlumbUIComponent,{cleanup:function(e){e||null==this.typeId?(this.canvas&&(this.canvas._jsPlumb=null),this.svg&&(this.svg._jsPlumb=null),this.bgCanvas&&(this.bgCanvas._jsPlumb=null),this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.bgCanvas&&this.bgCanvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.svg=null,this.canvas=null,this.path=null,this.group=null):(this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.bgCanvas&&this.bgCanvas.parentNode&&this.bgCanvas.parentNode.removeChild(this.bgCanvas))},reattach:function(e){var t=e.getContainer();this.canvas&&null==this.canvas.parentNode&&t.appendChild(this.canvas),this.bgCanvas&&null==this.bgCanvas.parentNode&&t.appendChild(this.bgCanvas)},setVisible:function(e){this.canvas&&(this.canvas.style.display=e?"block":"none")}}),t.ConnectorRenderers.svg=function(e){var n=this,o=q.apply(this,[{cssClass:e._jsPlumb.connectorClass+(this.isEditable()?" "+e._jsPlumb.editableConnectorClass:""),originalArgs:arguments,pointerEventsSpec:"none",_jsPlumb:e._jsPlumb}]),r=this.setEditable;this.setEditable=function(e){var t=r.apply(this,[e]);jsPlumb[t?"addClass":"removeClass"](this.canvas,this._jsPlumb.instance.editableConnectorClass)},o.renderer.paint=function(o,r,a){var i=n.getSegments(),s="",l=[0,0];if(a.xmin<0&&(l[0]=-a.xmin),a.ymin<0&&(l[1]=-a.ymin),i.length>0){for(var c=0;c<i.length;c++)s+=t.Segments.svg.SegmentRenderer.getPath(i[c]),s+=" ";var u={d:s,transform:"translate("+l[0]+","+l[1]+")","pointer-events":e["pointer-events"]||"visibleStroke"},d=null,p=[n.x,n.y,n.w,n.h];if(o.outlineColor){var h=o.outlineWidth||1,f=o.lineWidth+2*h;d=t.extend({},o),delete d.gradient,d.strokeStyle=o.outlineColor,d.lineWidth=f,null==n.bgPath?(n.bgPath=y("path",u),t.addClass(n.bgPath,t.connectorOutlineClass),$(n.svg,n.bgPath,0)):v(n.bgPath,u),C(n.svg,n.bgPath,d,p,n)}null==n.path?(n.path=y("path",u),$(n.svg,n.path,o.outlineColor?1:0)):v(n.path,u),C(n.svg,n.path,o,p,n)}}},n.extend(t.ConnectorRenderers.svg,q),t.Segments.svg={SegmentRenderer:{getPath:function(e){return{Straight:function(){var t=e.getCoordinates();return"M "+t.x1+" "+t.y1+" L "+t.x2+" "+t.y2},Bezier:function(){var t=e.params;return"M "+t.x1+" "+t.y1+" C "+t.cp1x+" "+t.cp1y+" "+t.cp2x+" "+t.cp2y+" "+t.x2+" "+t.y2},Arc:function(){var t=e.params,n=e.sweep>Math.PI?1:0,o=e.anticlockwise?0:1;return"M"+e.x1+" "+e.y1+" A "+e.radius+" "+t.r+" 0 "+n+","+o+" "+e.x2+" "+e.y2}}[e.type]()}}};var E=t.SvgEndpoint=function(e){var n=q.apply(this,[{cssClass:e._jsPlumb.endpointClass,originalArgs:arguments,pointerEventsSpec:"all",useDivWrapper:!0,_jsPlumb:e._jsPlumb}]);n.renderer.paint=function(e){var n=t.extend({},e);n.outlineColor&&(n.strokeWidth=n.outlineWidth,n.strokeStyle=n.outlineColor),null==this.node?(this.node=this.makeNode(n),this.svg.appendChild(this.node)):null!=this.updateNode&&this.updateNode(this.node),C(this.svg,this.node,n,[this.x,this.y,this.w,this.h],this),w(this.node,[this.x,this.y])}.bind(this)};n.extend(E,q),t.Endpoints.svg.Dot=function(){t.Endpoints.Dot.apply(this,arguments),E.apply(this,arguments),this.makeNode=function(){return y("circle",{cx:this.w/2,cy:this.h/2,r:this.radius})},this.updateNode=function(e){v(e,{cx:this.w/2,cy:this.h/2,r:this.radius})}},n.extend(t.Endpoints.svg.Dot,[t.Endpoints.Dot,E]),t.Endpoints.svg.Rectangle=function(){t.Endpoints.Rectangle.apply(this,arguments),E.apply(this,arguments),this.makeNode=function(){return y("rect",{width:this.w,height:this.h})},this.updateNode=function(e){v(e,{width:this.w,height:this.h})}},n.extend(t.Endpoints.svg.Rectangle,[t.Endpoints.Rectangle,E]),t.Endpoints.svg.Image=t.Endpoints.Image,t.Endpoints.svg.Blank=t.Endpoints.Blank,t.Overlays.svg.Label=t.Overlays.Label,t.Overlays.svg.Custom=t.Overlays.Custom;var T=function(e,n){e.apply(this,n),t.jsPlumbUIComponent.apply(this,n),this.isAppendedAtTopLevel=!1,this.path=null,this.paint=function(e,t){if(e.component.svg&&t){null==this.path&&(this.path=y("path",{"pointer-events":"all"}),e.component.svg.appendChild(this.path),this.elementCreated&&this.elementCreated(this.path,e.component),this.canvas=e.component.svg);var r=n&&1==n.length?n[0].cssClass||"":"",a=[0,0];t.xmin<0&&(a[0]=-t.xmin),t.ymin<0&&(a[1]=-t.ymin),v(this.path,{d:o(e.d),"class":r,stroke:e.strokeStyle?e.strokeStyle:null,fill:e.fillStyle?e.fillStyle:null,transform:"translate("+a[0]+","+a[1]+")"})}};var o=function(e){return isNaN(e.cxy.x)||isNaN(e.cxy.y)?"":"M"+e.hxy.x+","+e.hxy.y+" L"+e.tail[0].x+","+e.tail[0].y+" L"+e.cxy.x+","+e.cxy.y+" L"+e.tail[1].x+","+e.tail[1].y+" L"+e.hxy.x+","+e.hxy.y};this.transfer=function(e){e.canvas&&this.path&&this.path.parentNode&&(this.path.parentNode.removeChild(this.path),e.canvas.appendChild(this.path))}};n.extend(T,[t.jsPlumbUIComponent,t.Overlays.AbstractOverlay],{cleanup:function(e){null!=this.path&&(e?this._jsPlumb.instance.removeElement(this.path):this.path.parentNode&&this.path.parentNode.removeChild(this.path))},reattach:function(){this.path&&this.canvas&&null==this.path.parentNode&&this.canvas.appendChild(this.path)},setVisible:function(e){null!=this.path&&(this.path.style.display=e?"block":"none")}}),t.Overlays.svg.Arrow=function(){T.apply(this,[t.Overlays.Arrow,arguments])},n.extend(t.Overlays.svg.Arrow,[t.Overlays.Arrow,T]),t.Overlays.svg.PlainArrow=function(){T.apply(this,[t.Overlays.PlainArrow,arguments])},n.extend(t.Overlays.svg.PlainArrow,[t.Overlays.PlainArrow,T]),t.Overlays.svg.Diamond=function(){T.apply(this,[t.Overlays.Diamond,arguments])},n.extend(t.Overlays.svg.Diamond,[t.Overlays.Diamond,T]),t.Overlays.svg.GuideLines=function(){var e,n,o=null,r=this;t.Overlays.GuideLines.apply(this,arguments),this.paint=function(t,i){null==o&&(o=y("path"),t.connector.svg.appendChild(o),r.attachListeners(o,t.connector),r.attachListeners(o,r),e=y("path"),t.connector.svg.appendChild(e),r.attachListeners(e,t.connector),r.attachListeners(e,r),n=y("path"),t.connector.svg.appendChild(n),r.attachListeners(n,t.connector),r.attachListeners(n,r));var s=[0,0];i.xmin<0&&(s[0]=-i.xmin),i.ymin<0&&(s[1]=-i.ymin),v(o,{d:a(t.head,t.tail),stroke:"red",fill:null,transform:"translate("+s[0]+","+s[1]+")"}),v(e,{d:a(t.tailLine[0],t.tailLine[1]),stroke:"blue",fill:null,transform:"translate("+s[0]+","+s[1]+")"}),v(n,{d:a(t.headLine[0],t.headLine[1]),stroke:"green",fill:null,transform:"translate("+s[0]+","+s[1]+")"})};var a=function(e,t){return"M "+e.x+","+e.y+" L"+t.x+","+t.y}},n.extend(t.Overlays.svg.GuideLines,t.Overlays.GuideLines)}.call(this),function(){"use strict";var e=this,t=e.jsPlumb,n=e.jsPlumbUtil,o=e.Katavorio,r=e.Biltong,a=function(e,t){t=t||"main";var n="_katavorio_"+t,a=e[n],i=e.getEventManager();return a||(a=new o({bind:i.on,unbind:i.off,getSize:jsPlumb.getSize,getPosition:function(t){var n=e.getOffset(t,!1,t._katavorioDrag?t.offsetParent:null);return[n.left,n.top]},setPosition:function(e,t){e.style.left=t[0]+"px",e.style.top=t[1]+"px"},addClass:jsPlumb.addClass,removeClass:jsPlumb.removeClass,intersects:r.intersects,indexOf:function(e,t){return e.indexOf(t)},css:{noSelect:e.dragSelectClass,droppable:"jsplumb-droppable",draggable:"jsplumb-draggable",drag:"jsplumb-drag",selected:"jsplumb-drag-selected",active:"jsplumb-drag-active",hover:"jsplumb-drag-hover"}}),e[n]=a,e.bind("zoom",a.setZoom)),a},i=function(e,t){var o=function(o){if(null!=t[o]){if(n.isString(t[o])){var r=t[o].match(/-=/)?-1:1,a=t[o].substring(2);return e[o]+r*a}return t[o]}return e[o]};return[o("left"),o("top")]};t.extend(e.jsPlumbInstance.prototype,{animationSupported:!0,getElement:function(e){return null==e?null:(e="string"==typeof e?e:null!=e.length&&null==e.enctype?e[0]:e,"string"==typeof e?document.getElementById(e):e)},removeElement:function(e){a(this).elementRemoved(e),this.getEventManager().remove(e)},doAnimate:function(e,t,n){n=n||{};var o=this.getOffset(e),r=i(o,t),a=r[0]-o.left,s=r[1]-o.top,l=n.duration||250,c=15,u=l/c,d=c/l*a,p=c/l*s,h=0,f=setInterval(function(){jsPlumb.setPosition(e,{left:o.left+d*(h+1),top:o.top+p*(h+1)}),null!=n.step&&n.step(h,Math.ceil(u)),h++,h>=u&&(window.clearInterval(f),null!=n.complete&&n.complete())},c)},destroyDraggable:function(e,t){a(this,t).destroyDraggable(e)},destroyDroppable:function(e,t){a(this,t).destroyDroppable(e)},initDraggable:function(e,t,n){a(this,n).draggable(e,t)},initDroppable:function(e,t,n){a(this,n).droppable(e,t)},isAlreadyDraggable:function(e){return null!=e._katavorioDrag},isDragSupported:function(){return!0},isDropSupported:function(){return!0},isElementDraggable:function(e){return e=jsPlumb.getElement(e),e._katavorioDrag&&e._katavorioDrag.isEnabled()},getDragObject:function(e){return e[0].drag.getDragElement()},getDragScope:function(e){return e._katavorioDrag&&e._katavorioDrag.scopes.join(" ")||""},getDropEvent:function(e){return e[0].e},getUIPosition:function(e){var t=e[0].el,n={left:e[0].pos[0],top:e[0].pos[1]};if(t._katavorioDrag&&t.offsetParent!==this.getContainer()){var o=this.getOffset(t.offsetParent);n.left+=o.left,n.top+=o.top}return n},setDragFilter:function(e,t,n){e._katavorioDrag&&e._katavorioDrag.setFilter(t,n)},setElementDraggable:function(e,t){e=jsPlumb.getElement(e),e._katavorioDrag&&e._katavorioDrag.setEnabled(t)},setDragScope:function(e,t){e._katavorioDrag&&e._katavorioDrag.k.setDragScope(e,t)},setDropScope:function(e,t){e._katavorioDrop&&e._katavorioDrop.length>0&&e._katavorioDrop[0].k.setDropScope(e,t)},addToPosse:function(e){var t=Array.prototype.slice.call(arguments,1),n=a(this);jsPlumb.each(e,function(e){e=[jsPlumb.getElement(e)],e.push.apply(e,t),n.addToPosse.apply(n,e)})},setPosse:function(e){var t=Array.prototype.slice.call(arguments,1),n=a(this);jsPlumb.each(e,function(e){e=[jsPlumb.getElement(e)],e.push.apply(e,t),n.setPosse.apply(n,e)})},removeFromPosse:function(e){var t=Array.prototype.slice.call(arguments,1),n=a(this);jsPlumb.each(e,function(e){e=[jsPlumb.getElement(e)],e.push.apply(e,t),n.removeFromPosse.apply(n,e)})},removeFromAllPosses:function(e){var t=a(this);jsPlumb.each(e,function(e){t.removeFromAllPosses(jsPlumb.getElement(e))})},setPosseState:function(e,t,n){var o=a(this);jsPlumb.each(e,function(e){o.setPosseState(jsPlumb.getElement(e),t,n)})},dragEvents:{start:"start",stop:"stop",drag:"drag",step:"step",over:"over",out:"out",drop:"drop",complete:"complete",beforeStart:"beforeStart"},animEvents:{step:"step",complete:"complete"},stopDrag:function(e){e._katavorioDrag&&e._katavorioDrag.abort()},addToDragSelection:function(e){a(this).select(e)},removeFromDragSelection:function(e){a(this).deselect(e)},clearDragSelection:function(){a(this).deselectAll()},trigger:function(e,t,n,o){this.getEventManager().trigger(e,t,n,o)},doReset:function(){for(var e in this)0===e.indexOf("_katavorio_")&&this[e].reset()}});var s=function(e){var t=function(){/complete|loaded|interactive/.test(document.readyState)&&"undefined"!=typeof document.body&&null!=document.body?e():setTimeout(t,9)};t()};s(t.init)}.call(this),function(e,t,n){"use strict";function o(e){return function(){var t,n=arguments[0];for(t="["+(e?e+":":"")+n+"] http://errors.angularjs.org/1.5.0/"+(e?e+"/":"")+n,n=1;n<arguments.length;n++){t=t+(1==n?"?":"&")+"p"+(n-1)+"=";var o,r=encodeURIComponent;o=arguments[n],o="function"==typeof o?o.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof o?"undefined":"string"!=typeof o?JSON.stringify(o):o,t+=r(o)}return Error(t)}}function r(e){if(null==e||T(e))return!1;if(io(e)||x(e)||Wn&&e instanceof Wn)return!0;var t="length"in Object(e)&&e.length;return C(t)&&(t>=0&&(t-1 in e||e instanceof Array)||"function"==typeof e.item)}function a(e,t,n){var o,i;if(e)if(q(e))for(o in e)"prototype"==o||"length"==o||"name"==o||e.hasOwnProperty&&!e.hasOwnProperty(o)||t.call(n,e[o],o,e);else if(io(e)||r(e)){var s="object"!=typeof e;for(o=0,i=e.length;i>o;o++)(s||o in e)&&t.call(n,e[o],o,e)}else if(e.forEach&&e.forEach!==a)e.forEach(t,n,e);else if(_(e))for(o in e)t.call(n,e[o],o,e);else if("function"==typeof e.hasOwnProperty)for(o in e)e.hasOwnProperty(o)&&t.call(n,e[o],o,e);else for(o in e)Yn.call(e,o)&&t.call(n,e[o],o,e);return e}function i(e,t,n){for(var o=Object.keys(e).sort(),r=0;r<o.length;r++)t.call(n,e[o[r]],o[r]);return o}function s(e){return function(t,n){e(n,t)}}function l(){return++ao}function c(e,t,n){for(var o=e.$$hashKey,r=0,a=t.length;a>r;++r){var i=t[r];if(w(i)||q(i))for(var s=Object.keys(i),l=0,u=s.length;u>l;l++){var d=s[l],p=i[d];n&&w(p)?$(p)?e[d]=new Date(p.valueOf()):E(p)?e[d]=new RegExp(p):p.nodeName?e[d]=p.cloneNode(!0):D(p)?e[d]=p.clone():(w(e[d])||(e[d]=io(p)?[]:{}),c(e[d],[p],!0)):e[d]=p}}return o?e.$$hashKey=o:delete e.$$hashKey,e}function u(e){return c(e,Jn.call(arguments,1),!1)}function d(e){return c(e,Jn.call(arguments,1),!0)}function p(e){return parseInt(e,10)}function h(e,t){return u(Object.create(e),t)}function f(){}function m(e){return e}function b(e){return function(){return e}}function g(e){return q(e.toString)&&e.toString!==to}function v(e){return"undefined"==typeof e}function y(e){return"undefined"!=typeof e}function w(e){return null!==e&&"object"==typeof e}function _(e){return null!==e&&"object"==typeof e&&!no(e)}function x(e){return"string"==typeof e}function C(e){return"number"==typeof e}function $(e){return"[object Date]"===to.call(e)}function q(e){return"function"==typeof e}function E(e){return"[object RegExp]"===to.call(e)}function T(e){return e&&e.window===e}function S(e){return e&&e.$evalAsync&&e.$watch}function A(e){return"boolean"==typeof e}function I(e){return e&&C(e.length)&&so.test(to.call(e))}function D(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function P(e){var t={};e=e.split(",");var n;for(n=0;n<e.length;n++)t[e[n]]=!0;return t}function k(e){return Xn(e.nodeName||e[0]&&e[0].nodeName)}function O(e,t){var n=e.indexOf(t);return n>=0&&e.splice(n,1),n}function j(e,t){function o(e,t){var n,o=t.$$hashKey;if(io(e)){n=0;for(var a=e.length;a>n;n++)t.push(r(e[n]))}else if(_(e))for(n in e)t[n]=r(e[n]);else if(e&&"function"==typeof e.hasOwnProperty)for(n in e)e.hasOwnProperty(n)&&(t[n]=r(e[n]));else for(n in e)Yn.call(e,n)&&(t[n]=r(e[n]));return o?t.$$hashKey=o:delete t.$$hashKey,t}function r(e){if(!w(e))return e;var t=s.indexOf(e);if(-1!==t)return l[t];if(T(e)||S(e))throw oo("cpws");var t=!1,r=i(e);return r===n&&(r=io(e)?[]:Object.create(no(e)),t=!0),s.push(e),l.push(r),t?o(e,r):r}function i(e){switch(to.call(e)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new e.constructor(r(e.buffer));case"[object ArrayBuffer]":if(!e.slice){var t=new ArrayBuffer(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t}return e.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new e.constructor(e.valueOf());case"[object RegExp]":return t=new RegExp(e.source,e.toString().match(/[^\/]*$/)[0]),t.lastIndex=e.lastIndex,t}return q(e.cloneNode)?e.cloneNode(!0):void 0}var s=[],l=[];if(t){if(I(t)||"[object ArrayBuffer]"===to.call(t))throw oo("cpta");if(e===t)throw oo("cpi");return io(t)?t.length=0:a(t,function(e,n){"$$hashKey"!==n&&delete t[n]}),s.push(e),l.push(t),o(e,t)}return r(e)}function R(e,t){if(io(e)){t=t||[];for(var n=0,o=e.length;o>n;n++)t[n]=e[n]}else if(w(e))for(n in t=t||{},e)"$"===n.charAt(0)&&"$"===n.charAt(1)||(t[n]=e[n]);return t||e}function L(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var n,o=typeof e;if(o==typeof t&&"object"==o){if(!io(e)){if($(e))return $(t)?L(e.getTime(),t.getTime()):!1;if(E(e))return E(t)?e.toString()==t.toString():!1;if(S(e)||S(t)||T(e)||T(t)||io(t)||$(t)||E(t))return!1;o=ce();for(n in e)if("$"!==n.charAt(0)&&!q(e[n])){if(!L(e[n],t[n]))return!1;o[n]=!0}for(n in t)if(!(n in o)&&"$"!==n.charAt(0)&&y(t[n])&&!q(t[n]))return!1;return!0}if(!io(t))return!1;if((o=e.length)==t.length){for(n=0;o>n;n++)if(!L(e[n],t[n]))return!1;return!0}}return!1}function N(e,t,n){return e.concat(Jn.call(t,n))}function M(e,t){var n=2<arguments.length?Jn.call(arguments,2):[];return!q(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,N(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function B(e,o){var r=o;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?r=n:T(o)?r="$WINDOW":o&&t===o?r="$DOCUMENT":S(o)&&(r="$SCOPE"),r}function F(e,t){return v(e)?n:(C(t)||(t=t?2:null),JSON.stringify(e,B,t))}function U(e){return x(e)?JSON.parse(e):e}function V(e,t){e=e.replace(ho,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function z(e,t,n){n=n?-1:1;var o=e.getTimezoneOffset();return t=V(t,o),n*=t-o,e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+n),e}function W(e){e=Wn(e).clone();try{e.empty()}catch(t){}var n=Wn("<div>").append(e).html();try{return e[0].nodeType===go?Xn(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(e,t){return"<"+Xn(t)})}catch(o){return Xn(n)}}function H(e){try{return decodeURIComponent(e)}catch(t){}}function K(e){var t={};return a((e||"").split("&"),function(e){var n,o,r;e&&(o=e=e.replace(/\+/g,"%20"),n=e.indexOf("="),-1!==n&&(o=e.substring(0,n),r=e.substring(n+1)),o=H(o),y(o)&&(r=y(r)?H(r):!0,Yn.call(t,o)?io(t[o])?t[o].push(r):t[o]=[t[o],r]:t[o]=r))}),t}function G(e){var t=[];return a(e,function(e,n){io(e)?a(e,function(e){t.push(X(n,!0)+(!0===e?"":"="+X(e,!0)))}):t.push(X(n,!0)+(!0===e?"":"="+X(e,!0)))}),t.length?t.join("&"):""}function Y(e){return X(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function X(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function Z(e,t){var n,o,r=fo.length;for(o=0;r>o;++o)if(n=fo[o]+t,x(n=e.getAttribute(n)))return n;return null}function J(e,t){var n,o,r={};a(fo,function(t){t+="app",!n&&e.hasAttribute&&e.hasAttribute(t)&&(n=e,o=e.getAttribute(t))}),a(fo,function(t){t+="app";var r;!n&&(r=e.querySelector("["+t.replace(":","\\:")+"]"))&&(n=r,o=r.getAttribute(t))}),n&&(r.strictDi=null!==Z(n,"strict-di"),t(n,o?[o]:[],r))}function Q(n,o,r){w(r)||(r={}),r=u({strictDi:!1},r);var i=function(){if(n=Wn(n),n.injector()){var e=n[0]===t?"document":W(n);throw oo("btstrpd",e.replace(/</,"&lt;").replace(/>/,"&gt;"))}return o=o||[],o.unshift(["$provide",function(e){e.value("$rootElement",n)}]),r.debugInfoEnabled&&o.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),o.unshift("ng"),e=Fe(o,r.strictDi),e.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,o){e.$apply(function(){t.data("$injector",o),n(t)(e)})}]),e},s=/^NG_ENABLE_DEBUG_INFO!/,l=/^NG_DEFER_BOOTSTRAP!/;return e&&s.test(e.name)&&(r.debugInfoEnabled=!0,e.name=e.name.replace(s,"")),e&&!l.test(e.name)?i():(e.name=e.name.replace(l,""),ro.resumeBootstrap=function(e){return a(e,function(e){o.push(e)}),i()},void(q(ro.resumeDeferredBootstrap)&&ro.resumeDeferredBootstrap()))}function ee(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function te(e){if(e=ro.element(e).injector(),!e)throw oo("test");return e.get("$$testability")}function ne(e,t){return t=t||"_",e.replace(mo,function(e,n){return(n?t:"")+e.toLowerCase()})}function oe(){var t;if(!bo){var o=po();(Hn=v(o)?e.jQuery:o?e[o]:n)&&Hn.fn.on?(Wn=Hn,u(Hn.fn,{scope:Do.scope,isolateScope:Do.isolateScope,controller:Do.controller,injector:Do.injector,inheritedData:Do.inheritedData}),t=Hn.cleanData,Hn.cleanData=function(e){for(var n,o,r=0;null!=(o=e[r]);r++)(n=Hn._data(o,"events"))&&n.$destroy&&Hn(o).triggerHandler("$destroy");t(e)}):Wn=be,ro.element=Wn,bo=!0}}function re(e,t,n){if(!e)throw oo("areq",t||"?",n||"required");return e}function ae(e,t,n){return n&&io(e)&&(e=e[e.length-1]),re(q(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function ie(e,t){if("hasOwnProperty"===e)throw oo("badname",t)}function se(e,t,n){if(!t)return e;t=t.split(".");for(var o,r=e,a=t.length,i=0;a>i;i++)o=t[i],e&&(e=(r=e)[o]);return!n&&q(e)?M(r,e):e}function le(e){for(var t,n=e[0],o=e[e.length-1],r=1;n!==o&&(n=n.nextSibling);r++)(t||e[r]!==n)&&(t||(t=Wn(Jn.call(e,0,r))),t.push(n));return t||e}function ce(){return Object.create(null)}function ue(e){function t(e,t,n){return e[t]||(e[t]=n())}var n=o("$injector"),r=o("ng");return e=t(e,"angular",Object),e.$$minErr=e.$$minErr||o,t(e,"module",function(){var e={};return function(o,a,i){if("hasOwnProperty"===o)throw r("badname","module");return a&&e.hasOwnProperty(o)&&(e[o]=null),t(e,o,function(){function e(e,t,n,o){return o||(o=r),function(){return o[n||"push"]([e,t,arguments]),u}}function t(e,t){return function(n,a){return a&&q(a)&&(a.$$moduleName=o),r.push([e,t,arguments]),u}}if(!a)throw n("nomod",o);var r=[],s=[],l=[],c=e("$injector","invoke","push",s),u={_invokeQueue:r,_configBlocks:s,_runBlocks:l,requires:a,name:o,provider:t("$provide","provider"),factory:t("$provide","factory"),service:t("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),decorator:t("$provide","decorator"),animation:t("$animateProvider","register"),filter:t("$filterProvider","register"),controller:t("$controllerProvider","register"),directive:t("$compileProvider","directive"),component:t("$compileProvider","component"),config:c,run:function(e){return l.push(e),this}};return i&&c(i),u})}})}function de(t){u(t,{bootstrap:Q,copy:j,extend:u,merge:d,equals:L,element:Wn,forEach:a,injector:Fe,noop:f,bind:M,toJson:F,fromJson:U,identity:m,isUndefined:v,isDefined:y,isString:x,isFunction:q,isObject:w,isNumber:C,isElement:D,isArray:io,version:vo,isDate:$,lowercase:Xn,uppercase:Zn,callbacks:{counter:0},getTestability:te,$$minErr:o,$$csp:uo,reloadWithDebugInfo:ee}),(Kn=ue(e))("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:Jt}),e.provider("$compile",Xe).directive({a:Or,input:Xr,textarea:Xr,form:Nr,script:Ma,select:Ua,style:za,option:Va,ngBind:Qr,ngBindHtml:ta,ngBindTemplate:ea,ngClass:oa,ngClassEven:aa,ngClassOdd:ra,ngCloak:ia,ngController:sa,ngForm:Mr,ngHide:Pa,ngIf:ua,ngInclude:da,ngInit:ha,ngNonBindable:qa,ngPluralize:Aa,ngRepeat:Ia,ngShow:Da,ngStyle:ka,ngSwitch:Oa,ngSwitchWhen:ja,ngSwitchDefault:Ra,ngOptions:Sa,ngTransclude:Na,ngModel:xa,ngList:fa,ngChange:na,pattern:Ha,ngPattern:Ha,required:Wa,ngRequired:Wa,minlength:Ga,ngMinlength:Ga,maxlength:Ka,ngMaxlength:Ka,ngValue:Jr,ngModelOptions:$a}).directive({ngInclude:pa}).directive(jr).directive(la),e.provider({$anchorScroll:Ue,$animate:Wo,$animateCss:Go,$$animateJs:Vo,$$animateQueue:zo,$$AnimateRunner:Ko,$$animateAsyncRun:Ho,$browser:Ke,$cacheFactory:Ge,$controller:tt,$document:nt,$exceptionHandler:ot,$filter:hn,$$forceReflow:Qo,$interpolate:mt,$interval:bt,$http:dt,$httpParamSerializer:at,$httpParamSerializerJQLike:it,$httpBackend:ht,$xhrFactory:pt,$location:St,$log:At,$parse:Ht,$rootScope:Zt,$q:Kt,$$q:Gt,$sce:nn,$sceDelegate:tn,$sniffer:on,$templateCache:Ye,$templateRequest:rn,$$testability:an,$timeout:sn,$window:un,$$rAF:Xt,$$jqLite:Re,$$HashMap:jo,$$cookieReader:pn})}])}function pe(e){return e.replace(_o,function(e,t,n,o){return o?n.toUpperCase():n}).replace(xo,"Moz$1")}function he(e){return e=e.nodeType,1===e||!e||9===e}function fe(e,t){var n,o,r=t.createDocumentFragment(),i=[];if(Eo.test(e)){for(n=n||r.appendChild(t.createElement("div")),o=(To.exec(e)||["",""])[1].toLowerCase(),o=Ao[o]||Ao._default,n.innerHTML=o[1]+e.replace(So,"<$1></$2>")+o[2],o=o[0];o--;)n=n.lastChild;i=N(i,n.childNodes),n=r.firstChild,n.textContent=""}else i.push(t.createTextNode(e));return r.textContent="",r.innerHTML="",a(i,function(e){r.appendChild(e)}),r}function me(e,t){var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)}function be(e){if(e instanceof be)return e;var n;if(x(e)&&(e=lo(e),n=!0),!(this instanceof be)){if(n&&"<"!=e.charAt(0))throw $o("nosel");return new be(e)}if(n){n=t;var o;e=(o=qo.exec(e))?[n.createElement(o[1])]:(o=fe(e,n))?o.childNodes:[]}Ee(this,e)}function ge(e){return e.cloneNode(!0)}function ve(e,t){if(t||we(e),e.querySelectorAll)for(var n=e.querySelectorAll("*"),o=0,r=n.length;r>o;o++)we(n[o])}function ye(e,t,n,o){if(y(o))throw $o("offargs");var r=(o=_e(e))&&o.events,i=o&&o.handle;if(i)if(t){var s=function(t){var o=r[t];y(n)&&O(o||[],n),y(n)&&o&&0<o.length||(e.removeEventListener(t,i,!1),delete r[t])};a(t.split(" "),function(e){s(e),Co[e]&&s(Co[e])})}else for(t in r)"$destroy"!==t&&e.removeEventListener(t,i,!1),delete r[t]}function we(e,t){var o=e.ng339,r=o&&yo[o];r&&(t?delete r.data[t]:(r.handle&&(r.events.$destroy&&r.handle({},"$destroy"),ye(e)),delete yo[o],e.ng339=n))}function _e(e,t){var o=e.ng339,o=o&&yo[o];return t&&!o&&(e.ng339=o=++wo,o=yo[o]={events:{},data:{},handle:n}),o}function xe(e,t,n){if(he(e)){var o=y(n),r=!o&&t&&!w(t),a=!t;if(e=(e=_e(e,!r))&&e.data,o)e[t]=n;else{if(a)return e;if(r)return e&&e[t];u(e,t)}}}function Ce(e,t){return e.getAttribute?-1<(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" "):!1}function $e(e,t){t&&e.setAttribute&&a(t.split(" "),function(t){e.setAttribute("class",lo((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+lo(t)+" "," ")))})}function qe(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");a(t.split(" "),function(e){e=lo(e),-1===n.indexOf(" "+e+" ")&&(n+=e+" ")}),e.setAttribute("class",lo(n))}}function Ee(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var o=0;n>o;o++)e[e.length++]=t[o]}else e[e.length++]=t}}function Te(e,t){return Se(e,"$"+(t||"ngController")+"Controller")}function Se(e,t,n){for(9==e.nodeType&&(e=e.documentElement),t=io(t)?t:[t];e;){for(var o=0,r=t.length;r>o;o++)if(y(n=Wn.data(e,t[o])))return n;e=e.parentNode||11===e.nodeType&&e.host}}function Ae(e){for(ve(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function Ie(e,t){t||ve(e);var n=e.parentNode;n&&n.removeChild(e)}function De(t,n){n=n||e,"complete"===n.document.readyState?n.setTimeout(t):Wn(n).on("load",t)}function Pe(e,t){var n=Po[t.toLowerCase()];return n&&ko[k(e)]&&n}function ke(e,t){var n=function(n,o){n.isDefaultPrevented=function(){return n.defaultPrevented};var r=t[o||n.type],a=r?r.length:0;if(a){if(v(n.immediatePropagationStopped)){var i=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),i&&i.call(n)}}n.isImmediatePropagationStopped=function(){return!0===n.immediatePropagationStopped};var s=r.specialHandlerWrapper||Oe;a>1&&(r=R(r));for(var l=0;a>l;l++)n.isImmediatePropagationStopped()||s(e,n,r[l])}};return n.elem=e,n}function Oe(e,t,n){n.call(e,t)}function je(e,t,n){var o=t.relatedTarget;o&&(o===e||Io.call(e,o))||n.call(e,t)}function Re(){this.$get=function(){return u(be,{hasClass:function(e,t){return e.attr&&(e=e[0]),Ce(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),qe(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),$e(e,t)}})}}function Le(e,t){var n=e&&e.$$hashKey;return n?("function"==typeof n&&(n=e.$$hashKey()),n):(n=typeof e,n="function"==n||"object"==n&&null!==e?e.$$hashKey=n+":"+(t||l)():n+":"+e)}function Ne(e,t){if(t){var n=0;this.nextUid=function(){return++n}}a(e,this.put,this)}function Me(e){return e=e.toString().replace(Bo,""),e.match(Ro)||e.match(Lo);
}function Be(e){return(e=Me(e))?"function("+(e[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function Fe(e,t){function o(e){return function(t,n){return w(t)?void a(t,s(e)):e(t,n)}}function r(e,t){if(ie(e,"service"),(q(t)||io(t))&&(t=m.instantiate(t)),!t.$get)throw Fo("pget",e);return f[e+"Provider"]=t}function i(e,t){return function(){var n=_.invoke(t,this);if(v(n))throw Fo("undef",e);return n}}function l(e,t,n){return r(e,{$get:!1!==n?i(e,t):t})}function c(e){re(v(e)||io(e),"modulesToLoad","not an array");var t,n=[];return a(e,function(e){function o(e){var t,n;for(t=0,n=e.length;n>t;t++){var o=e[t],r=m.get(o[0]);r[o[1]].apply(r,o[2])}}if(!h.get(e)){h.put(e,!0);try{x(e)?(t=Kn(e),n=n.concat(c(t.requires)).concat(t._runBlocks),o(t._invokeQueue),o(t._configBlocks)):q(e)?n.push(m.invoke(e)):io(e)?n.push(m.invoke(e)):ae(e,"module")}catch(r){throw io(e)&&(e=e[e.length-1]),r.message&&r.stack&&-1==r.stack.indexOf(r.message)&&(r=r.message+"\n"+r.stack),Fo("modulerr",e,r.stack||r.message||r)}}}),n}function u(e,n){function o(t,o){if(e.hasOwnProperty(t)){if(e[t]===d)throw Fo("cdep",t+" <- "+p.join(" <- "));return e[t]}try{return p.unshift(t),e[t]=d,e[t]=n(t,o)}catch(r){throw e[t]===d&&delete e[t],r}finally{p.shift()}}function r(e,n,r){var a=[];e=Fe.$$annotate(e,t,r);for(var i=0,s=e.length;s>i;i++){var l=e[i];if("string"!=typeof l)throw Fo("itkn",l);a.push(n&&n.hasOwnProperty(l)?n[l]:o(l,r))}return a}return{invoke:function(e,t,n,o){return"string"==typeof n&&(o=n,n=null),n=r(e,n,o),io(e)&&(e=e[e.length-1]),o=11>=zn?!1:"function"==typeof e&&/^(?:class\s|constructor\()/.test(Function.prototype.toString.call(e)),o?(n.unshift(null),new(Function.prototype.bind.apply(e,n))):e.apply(t,n)},instantiate:function(e,t,n){var o=io(e)?e[e.length-1]:e;return e=r(e,t,n),e.unshift(null),new(Function.prototype.bind.apply(o,e))},get:o,annotate:Fe.$$annotate,has:function(t){return f.hasOwnProperty(t+"Provider")||e.hasOwnProperty(t)}}}t=!0===t;var d={},p=[],h=new Ne([],!0),f={$provide:{provider:o(r),factory:o(l),service:o(function(e,t){return l(e,["$injector",function(e){return e.instantiate(t)}])}),value:o(function(e,t){return l(e,b(t),!1)}),constant:o(function(e,t){ie(e,"constant"),f[e]=t,g[e]=t}),decorator:function(e,t){var n=m.get(e+"Provider"),o=n.$get;n.$get=function(){var e=_.invoke(o,n);return _.invoke(t,null,{$delegate:e})}}}},m=f.$injector=u(f,function(e,t){throw ro.isString(t)&&p.push(t),Fo("unpr",p.join(" <- "))}),g={},y=u(g,function(e,t){var o=m.get(e+"Provider",t);return _.invoke(o.$get,o,n,e)}),_=y;f.$injectorProvider={$get:b(y)};var C=c(e),_=y.get("$injector");return _.strictDi=t,a(C,function(e){e&&_.invoke(e)}),_}function Ue(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,o){function r(e){var t=null;return Array.prototype.some.call(e,function(e){return"a"===k(e)?(t=e,!0):void 0}),t}function a(e){if(e){e.scrollIntoView();var n;n=i.yOffset,q(n)?n=n():D(n)?(n=n[0],n="fixed"!==t.getComputedStyle(n).position?0:n.getBoundingClientRect().bottom):C(n)||(n=0),n&&(e=e.getBoundingClientRect().top,t.scrollBy(0,e-n))}else t.scrollTo(0,0)}function i(e){e=x(e)?e:n.hash();var t;e?(t=s.getElementById(e))?a(t):(t=r(s.getElementsByName(e)))?a(t):"top"===e&&a(null):a(null)}var s=t.document;return e&&o.$watch(function(){return n.hash()},function(e,t){e===t&&""===e||De(function(){o.$evalAsync(i)})}),i}]}function Ve(e,t){return e||t?e?t?(io(e)&&(e=e.join(" ")),io(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function ze(e){x(e)&&(e=e.split(" "));var t=ce();return a(e,function(e){e.length&&(t[e]=!0)}),t}function We(e){return w(e)?e:{}}function He(e,t,n,o){function r(e){try{e.apply(null,Jn.call(arguments,1))}finally{if(b--,0===b)for(;g.length;)try{g.pop()()}catch(t){n.error(t)}}}function i(){C=null,s(),l()}function s(){e:{try{y=d.state;break e}catch(e){}y=void 0}y=v(y)?null:y,L(y,E)&&(y=E),E=y}function l(){_===c.url()&&w===y||(_=c.url(),w=y,a($,function(e){e(c.url(),y)}))}var c=this,u=e.location,d=e.history,p=e.setTimeout,h=e.clearTimeout,m={};c.isMock=!1;var b=0,g=[];c.$$completeOutstandingRequest=r,c.$$incOutstandingRequestCount=function(){b++},c.notifyWhenNoOutstandingRequests=function(e){0===b?e():g.push(e)};var y,w,_=u.href,x=t.find("base"),C=null;s(),w=y,c.url=function(t,n,r){if(v(r)&&(r=null),u!==e.location&&(u=e.location),d!==e.history&&(d=e.history),t){var a=w===r;if(_===t&&(!o.history||a))return c;var i=_&&_t(_)===_t(t);return _=t,w=r,!o.history||i&&a?(i&&!C||(C=t),n?u.replace(t):i?(n=u,r=t.indexOf("#"),r=-1===r?"":t.substr(r),n.hash=r):u.href=t,u.href!==t&&(C=t)):(d[n?"replaceState":"pushState"](r,"",t),s(),w=y),c}return C||u.href.replace(/%27/g,"'")},c.state=function(){return y};var $=[],q=!1,E=null;c.onUrlChange=function(t){return q||(o.history&&Wn(e).on("popstate",i),Wn(e).on("hashchange",i),q=!0),$.push(t),t},c.$$applicationDestroyed=function(){Wn(e).off("hashchange popstate",i)},c.$$checkUrlChange=l,c.baseHref=function(){var e=x.attr("href");return e?e.replace(/^(https?\:)?\/\/[^\/]*/,""):""},c.defer=function(e,t){var n;return b++,n=p(function(){delete m[n],r(e)},t||0),m[n]=!0,n},c.defer.cancel=function(e){return m[e]?(delete m[e],h(e),r(f),!0):!1}}function Ke(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,o){return new He(e,o,t,n)}]}function Ge(){this.$get=function(){function e(e,n){function r(e){e!=p&&(h?h==e&&(h=e.n):h=e,a(e.n,e.p),a(e,p),p=e,p.n=null)}function a(e,t){e!=t&&(e&&(e.p=t),t&&(t.n=e))}if(e in t)throw o("$cacheFactory")("iid",e);var i=0,s=u({},n,{id:e}),l=ce(),c=n&&n.capacity||Number.MAX_VALUE,d=ce(),p=null,h=null;return t[e]={put:function(e,t){if(!v(t)){if(c<Number.MAX_VALUE){var n=d[e]||(d[e]={key:e});r(n)}return e in l||i++,l[e]=t,i>c&&this.remove(h.key),t}},get:function(e){if(c<Number.MAX_VALUE){var t=d[e];if(!t)return;r(t)}return l[e]},remove:function(e){if(c<Number.MAX_VALUE){var t=d[e];if(!t)return;t==p&&(p=t.p),t==h&&(h=t.n),a(t.n,t.p),delete d[e]}e in l&&(delete l[e],i--)},removeAll:function(){l=ce(),i=0,d=ce(),p=h=null},destroy:function(){d=s=l=null,delete t[e]},info:function(){return u({},s,{size:i})}}}var t={};return e.info=function(){var e={};return a(t,function(t,n){e[n]=t.info()}),e},e.get=function(e){return t[e]},e}}function Ye(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function Xe(e,o){function r(e,t,n){var o=/^\s*([@&<]|=(\*?))(\??)\s*(\w*)\s*$/,r={};return a(e,function(e,a){var i=e.match(o);if(!i)throw Yo("iscp",t,a,e,n?"controller bindings definition":"isolate scope definition");r[a]={mode:i[1][0],collection:"*"===i[2],optional:"?"===i[3],attrName:i[4]||a}}),r}function i(e){var t=e.charAt(0);if(!t||t!==Xn(t))throw Yo("baddir",e);if(e!==e.trim())throw Yo("baddir",e)}var l={},c=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,d=/(([\w\-]+)(?:\:([^;]+))?;?)/,p=P("ngSrc,ngSrcset,src,srcset"),g=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,_=/^(on[a-z]+|formaction)$/;this.directive=function $(t,n){return ie(t,"directive"),x(t)?(i(t),re(n,"directiveFactory"),l.hasOwnProperty(t)||(l[t]=[],e.factory(t+"Directive",["$injector","$exceptionHandler",function(e,n){var o=[];return a(l[t],function(a,i){try{var s=e.invoke(a);q(s)?s={compile:b(s)}:!s.compile&&s.link&&(s.compile=b(s.link)),s.priority=s.priority||0,s.index=i,s.name=s.name||t,s.require=s.require||s.controller&&s.name,s.restrict=s.restrict||"EA";var l=s,c=s,u=s.name,d={isolateScope:null,bindToController:null};if(w(c.scope)&&(!0===c.bindToController?(d.bindToController=r(c.scope,u,!0),d.isolateScope={}):d.isolateScope=r(c.scope,u,!1)),w(c.bindToController)&&(d.bindToController=r(c.bindToController,u,!0)),w(d.bindToController)){var p=c.controller,h=c.controllerAs;if(!p)throw Yo("noctrl",u);if(!et(p,h))throw Yo("noident",u)}var f=l.$$bindings=d;w(f.isolateScope)&&(s.$$isolateBindings=f.isolateScope),s.$$moduleName=a.$$moduleName,o.push(s)}catch(m){n(m)}}),o}])),l[t].push(n)):a(t,s($)),this},this.component=function(e,t){function n(e){function n(t){return q(t)||io(t)?function(n,o){return e.invoke(t,this,{$element:n,$attrs:o})}:t}var r=t.template||t.templateUrl?t.template:"";return{controller:o,controllerAs:et(t.controller)||t.controllerAs||"$ctrl",template:n(r),templateUrl:n(t.templateUrl),transclude:t.transclude,scope:{},bindToController:t.bindings||{},restrict:"E",require:t.require}}var o=t.controller||function(){};return a(t,function(e,t){"$"===t.charAt(0)&&(n[t]=e)}),n.$inject=["$injector"],this.directive(e,n)},this.aHrefSanitizationWhitelist=function(e){return y(e)?(o.aHrefSanitizationWhitelist(e),this):o.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return y(e)?(o.imgSrcSanitizationWhitelist(e),this):o.imgSrcSanitizationWhitelist()};var C=!0;this.debugInfoEnabled=function(e){return y(e)?(C=e,this):C},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(e,o,r,i,s,b,y,$,E,T){function I(e,t,n){le.innerHTML="<span "+t+">",t=le.firstChild.attributes;var o=t[0];t.removeNamedItem(o.name),o.value=n,e.attributes.setNamedItem(o)}function D(e,t){try{e.addClass(t)}catch(n){}}function P(e,n,o,r,a){e instanceof Wn||(e=Wn(e));for(var i=/\S+/,s=0,l=e.length;l>s;s++){var c=e[s];c.nodeType===go&&c.nodeValue.match(i)&&me(c,e[s]=t.createElement("span"))}var u=j(e,n,e,o,r,a);P.$$addScopeClass(e);var d=null;return function(t,n,o){re(t,"scope"),a&&a.needsNewScope&&(t=t.$parent.$new()),o=o||{};var r=o.parentBoundTranscludeFn,i=o.transcludeControllers;if(o=o.futureParentElement,r&&r.$$boundTransclude&&(r=r.$$boundTransclude),d||(d=(o=o&&o[0])&&"foreignobject"!==k(o)&&to.call(o).match(/SVG/)?"svg":"html"),o="html"!==d?Wn(J(d,Wn("<div>").append(e).html())):n?Do.clone.call(e):e,i)for(var s in i)o.data("$"+s+"Controller",i[s].instance);return P.$$addScopeInfo(o,t),n&&n(o,t),u&&u(t,o,o,r),o}}function j(e,t,o,r,a,i){function s(e,o,r,a){var i,s,l,c,u,d,f;if(p)for(f=Array(o.length),c=0;c<h.length;c+=3)i=h[c],f[i]=o[i];else f=o;for(c=0,u=h.length;u>c;)s=f[h[c++]],o=h[c++],i=h[c++],o?(o.scope?(l=e.$new(),P.$$addScopeInfo(Wn(s),l)):l=e,d=o.transcludeOnThisElement?R(e,o.transclude,a):!o.templateOnThisElement&&a?a:!a&&t?R(e,t):null,o(i,l,s,r,d)):i&&i(e,s.childNodes,n,a)}for(var l,c,u,d,p,h=[],f=0;f<e.length;f++)l=new ue,c=N(e[f],[],l,0===f?r:n,a),(i=c.length?U(c,e[f],l,t,o,null,[],[],i):null)&&i.scope&&P.$$addScopeClass(l.$$element),l=i&&i.terminal||!(u=e[f].childNodes)||!u.length?null:j(u,i?(i.transcludeOnThisElement||!i.templateOnThisElement)&&i.transclude:t),(i||l)&&(h.push(f,i,l),d=!0,p=p||i),i=null;return d?s:null}function R(e,t,n){var o,r=function(o,r,a,i,s){return o||(o=e.$new(!1,s),o.$$transcluded=!0),t(o,r,{parentBoundTranscludeFn:n,transcludeControllers:a,futureParentElement:i})},a=r.$$slots=ce();for(o in t.$$slots)a[o]=t.$$slots[o]?R(e,t.$$slots[o],n):null;return r}function N(e,t,n,o,r){var a,i=n.$attr;switch(e.nodeType){case 1:z(t,Ze(k(e)),"E",o,r);for(var s,l,u,p=e.attributes,h=0,f=p&&p.length;f>h;h++){var m=!1,b=!1;s=p[h],a=s.name,l=lo(s.value),s=Ze(a),(u=fe.test(s))&&(a=a.replace(Xo,"").substr(8).replace(/_(.)/g,function(e,t){return t.toUpperCase()})),(s=s.match(be))&&H(s[1])&&(m=a,b=a.substr(0,a.length-5)+"end",a=a.substr(0,a.length-6)),s=Ze(a.toLowerCase()),i[s]=a,!u&&n.hasOwnProperty(s)||(n[s]=l,Pe(e,s)&&(n[s]=!0)),ee(e,t,l,s,u),z(t,s,"A",o,r,m,b)}if(e=e.className,w(e)&&(e=e.animVal),x(e)&&""!==e)for(;a=d.exec(e);)s=Ze(a[2]),z(t,s,"C",o,r)&&(n[s]=lo(a[3])),e=e.substr(a.index+a[0].length);break;case go:if(11===zn)for(;e.parentNode&&e.nextSibling&&e.nextSibling.nodeType===go;)e.nodeValue+=e.nextSibling.nodeValue,e.parentNode.removeChild(e.nextSibling);Z(t,e.nodeValue);break;case 8:try{(a=c.exec(e.nodeValue))&&(s=Ze(a[1]),z(t,s,"M",o,r)&&(n[s]=lo(a[2])))}catch(g){}}return t.sort(Y),t}function M(e,t,n){var o=[],r=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){do{if(!e)throw Yo("uterdir",t,n);1==e.nodeType&&(e.hasAttribute(t)&&r++,e.hasAttribute(n)&&r--),o.push(e),e=e.nextSibling}while(r>0)}else o.push(e);return Wn(o)}function B(e,t,n){return function(o,r,a,i,s){return r=M(r[0],t,n),e(o,r,a,i,s)}}function F(e,t,n,o,r,a){if(e)return P(t,n,o,r,a);var i;return function(){return i||(i=P(t,n,o,r,a),t=n=a=null),i.apply(this,arguments)}}function U(e,o,i,s,l,c,d,p,h){function f(e,t,n,o){e&&(n&&(e=B(e,n,o)),e.require=C.require,e.directiveName=$,(j===C||C.$$isolateScope)&&(e=oe(e,{isolateScope:!0})),d.push(e)),t&&(n&&(t=B(t,n,o)),t.require=C.require,t.directiveName=$,(j===C||C.$$isolateScope)&&(t=oe(t,{isolateScope:!0})),p.push(t))}function m(e,t,n,o){var r;if(x(t)){var i=t.match(g);t=t.substring(i[0].length);var s=i[1]||i[3],i="?"===i[2];if("^^"===s?n=n.parent():r=(r=o&&o[t])&&r.instance,!r){var l="$"+t+"Controller";r=s?n.inheritedData(l):n.data(l)}if(!r&&!i)throw Yo("ctreq",t,e)}else if(io(t))for(r=[],s=0,i=t.length;i>s;s++)r[s]=m(e,t[s],n,o);else w(t)&&(r={},a(t,function(t,a){r[a]=m(e,t,n,o)}));return r||null}function y(e,t,n,o,r,a){var i,s=ce();for(i in o){var l=o[i],c={$scope:l===j||l.$$isolateScope?r:a,$element:e,$attrs:t,$transclude:n},u=l.controller;"@"==u&&(u=t[l.name]),c=b(u,c,!0,l.controllerAs),s[l.name]=c,H||e.data("$"+l.name+"Controller",c.instance)}return s}function _(e,t,r,s,l){function c(e,t,o,r){var a;if(S(e)||(r=o,o=t,t=e,e=n),H&&(a=_),o||(o=H?C.parent():C),!r)return l(e,t,a,o,I);var i=l.$$slots[r];if(i)return i(e,t,a,o,I);if(v(i))throw Yo("noslot",r,W(C))}var h,f,b,g,_,x,C,$;o===r?(s=i,C=i.$$element):(C=Wn(r),s=new ue(C,i)),b=t,j?g=t.$new(!0):D&&(b=t.$parent),l&&(x=c,x.$$boundTransclude=l,x.isSlotFilled=function(e){return!!l.$$slots[e]}),O&&(_=y(C,s,x,O,g,t)),j&&(P.$$addScopeInfo(C,g,!0,!(R&&(R===j||R===j.$$originalDirective))),P.$$addScopeClass(C,!0),g.$$isolateBindings=j.$$isolateBindings,($=ie(t,s,g,g.$$isolateBindings,j))&&g.$on("$destroy",$));for(f in _){$=O[f];var E=_[f],T=$.$$bindings.bindToController;E.identifier&&T&&(h=ie(b,s,E.instance,T,$));var A=E();A!==E.instance&&(E.instance=A,C.data("$"+$.name+"Controller",A),h&&h(),h=ie(b,s,E.instance,T,$))}for(a(O,function(e,t){var n=e.require;e.bindToController&&!io(n)&&w(n)&&u(_[t].instance,m(t,n,C,_))}),a(_,function(e){q(e.instance.$onInit)&&e.instance.$onInit()}),h=0,f=d.length;f>h;h++)b=d[h],ae(b,b.isolateScope?g:t,C,s,b.require&&m(b.directiveName,b.require,C,_),x);var I=t;for(j&&(j.template||null===j.templateUrl)&&(I=g),e&&e(I,r.childNodes,n,l),h=p.length-1;h>=0;h--)b=p[h],ae(b,b.isolateScope?g:t,C,s,b.require&&m(b.directiveName,b.require,C,_),x)}h=h||{};for(var C,$,E,T,A,I=-Number.MAX_VALUE,D=h.newScopeDirective,O=h.controllerDirectives,j=h.newIsolateScopeDirective,R=h.templateDirective,L=h.nonTlbTranscludeDirective,U=!1,z=!1,H=h.hasElementTranscludeDirective,Y=i.$$element=Wn(o),Z=s,Q=!1,ee=!1,ne=0,re=e.length;re>ne;ne++){C=e[ne];var se=C.$$start,le=C.$$end;if(se&&(Y=M(o,se,le)),E=n,I>C.priority)break;if((A=C.scope)&&(C.templateUrl||(w(A)?(X("new/isolated scope",j||D,C,Y),j=C):X("new/isolated scope",j,C,Y)),D=D||C),$=C.name,!Q&&(C.replace&&(C.templateUrl||C.template)||C.transclude&&!C.$$tlb)){for(A=ne+1;Q=e[A++];)if(Q.transclude&&!Q.$$tlb||Q.replace&&(Q.templateUrl||Q.template)){ee=!0;break}Q=!0}if(!C.templateUrl&&C.controller&&(A=C.controller,O=O||ce(),X("'"+$+"' controller",O[$],C,Y),O[$]=C),A=C.transclude)if(U=!0,C.$$tlb||(X("transclusion",L,C,Y),L=C),"element"==A)H=!0,I=C.priority,E=Y,Y=i.$$element=Wn(t.createComment(" "+$+": "+i[$]+" ")),o=Y[0],te(l,Jn.call(E,0),o),Z=F(ee,E,s,I,c&&c.name,{nonTlbTranscludeDirective:L});else{var de=ce();if(E=Wn(ge(o)).contents(),w(A)){E=[];var pe=ce(),fe=ce();a(A,function(e,t){var n="?"===e.charAt(0);e=n?e.substring(1):e,pe[e]=t,de[t]=null,fe[t]=n}),a(Y.contents(),function(e){var t=pe[Ze(k(e))];t?(fe[t]=!0,de[t]=de[t]||[],de[t].push(e)):E.push(e)}),a(fe,function(e,t){if(!e)throw Yo("reqslot",t)});for(var me in de)de[me]&&(de[me]=F(ee,de[me],s))}Y.empty(),Z=F(ee,E,s,n,n,{needsNewScope:C.$$isolateScope||C.$$newScope}),Z.$$slots=de}if(C.template)if(z=!0,X("template",R,C,Y),R=C,A=q(C.template)?C.template(Y,i):C.template,A=he(A),C.replace){if(c=C,E=Eo.test(A)?Qe(J(C.templateNamespace,lo(A))):[],o=E[0],1!=E.length||1!==o.nodeType)throw Yo("tplrt",$,"");te(l,Y,o),re={$attr:{}},A=N(o,[],re);var be=e.splice(ne+1,e.length-(ne+1));(j||D)&&V(A,j,D),e=e.concat(A).concat(be),K(i,re),re=e.length}else Y.html(A);if(C.templateUrl)z=!0,X("template",R,C,Y),R=C,C.replace&&(c=C),_=G(e.splice(ne,e.length-ne),Y,i,l,U&&Z,d,p,{controllerDirectives:O,newScopeDirective:D!==C&&D,newIsolateScopeDirective:j,templateDirective:R,nonTlbTranscludeDirective:L}),re=e.length;else if(C.compile)try{T=C.compile(Y,i,Z),q(T)?f(null,T,se,le):T&&f(T.pre,T.post,se,le)}catch(ve){r(ve,W(Y))}C.terminal&&(_.terminal=!0,I=Math.max(I,C.priority))}return _.scope=D&&!0===D.scope,_.transcludeOnThisElement=U,_.templateOnThisElement=z,_.transclude=Z,h.hasElementTranscludeDirective=H,_}function V(e,t,n){for(var o=0,r=e.length;r>o;o++)e[o]=h(e[o],{$$isolateScope:t,$$newScope:n})}function z(t,n,o,a,i,s,c){if(n===i)return null;if(i=null,l.hasOwnProperty(n)){var u;n=e.get(n+"Directive");for(var d=0,p=n.length;p>d;d++)try{u=n[d],(v(a)||a>u.priority)&&-1!=u.restrict.indexOf(o)&&(s&&(u=h(u,{$$start:s,$$end:c})),t.push(u),i=u)}catch(f){r(f)}}return i}function H(t){if(l.hasOwnProperty(t))for(var n=e.get(t+"Directive"),o=0,r=n.length;r>o;o++)if(t=n[o],t.multiElement)return!0;return!1}function K(e,t){var n=t.$attr,o=e.$attr,r=e.$$element;a(e,function(o,r){"$"!=r.charAt(0)&&(t[r]&&t[r]!==o&&(o+=("style"===r?";":" ")+t[r]),e.$set(r,o,!0,n[r]))}),a(t,function(t,a){"class"==a?(D(r,t),e["class"]=(e["class"]?e["class"]+" ":"")+t):"style"==a?(r.attr("style",r.attr("style")+";"+t),e.style=(e.style?e.style+";":"")+t):"$"==a.charAt(0)||e.hasOwnProperty(a)||(e[a]=t,o[a]=n[a])})}function G(e,t,n,o,r,s,l,c){var u,d,p=[],f=t[0],m=e.shift(),b=h(m,{templateUrl:null,transclude:null,replace:null,$$originalDirective:m}),g=q(m.templateUrl)?m.templateUrl(t,n):m.templateUrl,v=m.templateNamespace;return t.empty(),i(g).then(function(i){var h,y;if(i=he(i),m.replace){if(i=Eo.test(i)?Qe(J(v,lo(i))):[],h=i[0],1!=i.length||1!==h.nodeType)throw Yo("tplrt",m.name,g);i={$attr:{}},te(o,t,h);var _=N(h,[],i);w(m.scope)&&V(_,!0),e=_.concat(e),K(n,i)}else h=f,t.html(i);for(e.unshift(b),u=U(e,h,n,r,t,m,s,l,c),a(o,function(e,n){e==h&&(o[n]=t[0])}),d=j(t[0].childNodes,r);p.length;){i=p.shift(),y=p.shift();var x=p.shift(),C=p.shift(),_=t[0];if(!i.$$destroyed){if(y!==f){var $=y.className;c.hasElementTranscludeDirective&&m.replace||(_=ge(h)),te(x,Wn(y),_),D(Wn(_),$)}y=u.transcludeOnThisElement?R(i,u.transclude,C):C,u(d,i,_,o,y)}}p=null}),function(e,t,n,o,r){e=r,t.$$destroyed||(p?p.push(t,n,o,e):(u.transcludeOnThisElement&&(e=R(t,u.transclude,r)),u(d,t,n,o,e)))}}function Y(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function X(e,t,n,o){function r(e){return e?" (module: "+e+")":""}if(t)throw Yo("multidir",t.name,r(t.$$moduleName),n.name,r(n.$$moduleName),e,W(o))}function Z(e,t){var n=o(t,!0);n&&e.push({priority:0,compile:function(e){e=e.parent();var t=!!e.length;return t&&P.$$addBindingClass(e),function(e,o){var r=o.parent();t||P.$$addBindingClass(r),P.$$addBindingInfo(r,n.expressions),e.$watch(n,function(e){o[0].nodeValue=e})}}})}function J(e,n){switch(e=Xn(e||"html")){case"svg":case"math":var o=t.createElement("div");return o.innerHTML="<"+e+">"+n+"</"+e+">",o.childNodes[0].childNodes;default:return n}}function Q(e,t){if("srcdoc"==t)return $.HTML;var n=k(e);return"xlinkHref"==t||"form"==n&&"action"==t||"img"!=n&&("src"==t||"ngSrc"==t)?$.RESOURCE_URL:void 0}function ee(e,t,n,r,a){var i=Q(e,r);a=p[r]||a;var s=o(n,!0,i,a);if(s){if("multiple"===r&&"select"===k(e))throw Yo("selmulti",W(e));t.push({priority:100,compile:function(){return{pre:function(e,t,l){if(t=l.$$observers||(l.$$observers=ce()),_.test(r))throw Yo("nodomevents");var c=l[r];c!==n&&(s=c&&o(c,!0,i,a),n=c),s&&(l[r]=s(e),(t[r]||(t[r]=[])).$$inter=!0,(l.$$observers&&l.$$observers[r].$$scope||e).$watch(s,function(e,t){"class"===r&&e!=t?l.$updateClass(e,t):l.$set(r,e)}))}}}})}}function te(e,n,o){var r,a,i=n[0],s=n.length,l=i.parentNode;if(e)for(r=0,a=e.length;a>r;r++)if(e[r]==i){e[r++]=o,a=r+s-1;for(var c=e.length;c>r;r++,a++)c>a?e[r]=e[a]:delete e[r];e.length-=s-1,e.context===i&&(e.context=o);break}for(l&&l.replaceChild(o,i),e=t.createDocumentFragment(),r=0;s>r;r++)e.appendChild(n[r]);for(Wn.hasData(i)&&(Wn.data(o,Wn.data(i)),Wn(i).off("$destroy")),Wn.cleanData(e.querySelectorAll("*")),r=1;s>r;r++)delete n[r];n[0]=o,n.length=1}function oe(e,t){return u(function(){return e.apply(null,arguments)},e,t)}function ae(e,t,n,o,a,i){try{e(t,n,o,a,i)}catch(s){r(s,W(n))}}function ie(e,t,n,r,i){var l=[];return a(r,function(r,a){var c,u,d,p,h=r.attrName,m=r.optional;switch(r.mode){case"@":m||Yn.call(t,h)||(n[a]=t[h]=void 0),t.$observe(h,function(e){x(e)&&(n[a]=e)}),t.$$observers[h].$$scope=e,c=t[h],x(c)?n[a]=o(c)(e):A(c)&&(n[a]=c);break;case"=":if(!Yn.call(t,h)){if(m)break;t[h]=void 0}if(m&&!t[h])break;u=s(t[h]),p=u.literal?L:function(e,t){return e===t||e!==e&&t!==t},d=u.assign||function(){throw c=n[a]=u(e),Yo("nonassign",t[h],h,i.name)},c=n[a]=u(e),m=function(t){return p(t,n[a])||(p(t,c)?d(e,t=n[a]):n[a]=t),c=t},m.$stateful=!0,m=r.collection?e.$watchCollection(t[h],m):e.$watch(s(t[h],m),null,u.literal),l.push(m);break;case"<":if(!Yn.call(t,h)){if(m)break;t[h]=void 0}if(m&&!t[h])break;u=s(t[h]),n[a]=u(e),m=e.$watch(u,function(e){n[a]=e},u.literal),l.push(m);break;case"&":if(u=t.hasOwnProperty(h)?s(t[h]):f,u===f&&m)break;n[a]=function(t){return u(e,t)}}}),l.length&&function(){for(var e=0,t=l.length;t>e;++e)l[e]()}}var se=/^\w/,le=t.createElement("div"),ue=function(e,t){if(t){var n,o,r,a=Object.keys(t);for(n=0,o=a.length;o>n;n++)r=a[n],this[r]=t[r]}else this.$attr={};this.$$element=e};ue.prototype={$normalize:Ze,$addClass:function(e){e&&0<e.length&&E.addClass(this.$$element,e)},$removeClass:function(e){e&&0<e.length&&E.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=Je(e,t);n&&n.length&&E.addClass(this.$$element,n),(n=Je(t,e))&&n.length&&E.removeClass(this.$$element,n)},$set:function(e,t,n,o){var i=Pe(this.$$element[0],e),s=Oo[e],l=e;if(i?(this.$$element.prop(e,t),o=i):s&&(this[s]=t,l=s),this[e]=t,o?this.$attr[e]=o:(o=this.$attr[e])||(this.$attr[e]=o=ne(e,"-")),i=k(this.$$element),"a"===i&&("href"===e||"xlinkHref"===e)||"img"===i&&"src"===e)this[e]=t=T(t,"src"===e);else if("img"===i&&"srcset"===e){for(var i="",s=lo(t),c=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,c=/\s/.test(s)?c:/(,)/,s=s.split(c),c=Math.floor(s.length/2),u=0;c>u;u++)var d=2*u,i=i+T(lo(s[d]),!0),i=i+(" "+lo(s[d+1]));s=lo(s[2*u]).split(/\s/),i+=T(lo(s[0]),!0),2===s.length&&(i+=" "+lo(s[1])),this[e]=t=i}!1!==n&&(null===t||v(t)?this.$$element.removeAttr(o):se.test(o)?this.$$element.attr(o,t):I(this.$$element[0],o,t)),(e=this.$$observers)&&a(e[l],function(e){try{e(t)}catch(n){r(n)}})},$observe:function(e,t){var n=this,o=n.$$observers||(n.$$observers=ce()),r=o[e]||(o[e]=[]);return r.push(t),y.$evalAsync(function(){r.$$inter||!n.hasOwnProperty(e)||v(n[e])||t(n[e])}),function(){O(r,t)}}};var de=o.startSymbol(),pe=o.endSymbol(),he="{{"==de&&"}}"==pe?m:function(e){return e.replace(/\{\{/g,de).replace(/}}/g,pe)},fe=/^ngAttr[A-Z]/,be=/^(.+)Start$/;return P.$$addBindingInfo=C?function(e,t){var n=e.data("$binding")||[];io(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:f,P.$$addBindingClass=C?function(e){D(e,"ng-binding")}:f,P.$$addScopeInfo=C?function(e,t,n,o){e.data(n?o?"$isolateScopeNoTemplate":"$isolateScope":"$scope",t)}:f,P.$$addScopeClass=C?function(e,t){D(e,t?"ng-isolate-scope":"ng-scope")}:f,P}]}function Ze(e){return pe(e.replace(Xo,""))}function Je(e,t){var n="",o=e.split(/\s+/),r=t.split(/\s+/),a=0;e:for(;a<o.length;a++){for(var i=o[a],s=0;s<r.length;s++)if(i==r[s])continue e;n+=(0<n.length?" ":"")+i}return n}function Qe(e){e=Wn(e);var t=e.length;if(1>=t)return e;for(;t--;)8===e[t].nodeType&&Qn.call(e,t,1);return e}function et(e,t){if(t&&x(t))return t;if(x(e)){var n=Jo.exec(e);if(n)return n[3]}}function tt(){var e={},t=!1;this.register=function(t,n){ie(t,"controller"),w(t)?u(e,t):e[t]=n},this.allowGlobals=function(){t=!0},this.$get=["$injector","$window",function(r,a){function i(e,t,n,r){if(!e||!w(e.$scope))throw o("$controller")("noscp",r,t);e.$scope[t]=n}return function(o,s,l,c){var d,p,h;if(l=!0===l,c&&x(c)&&(h=c),x(o)){if(c=o.match(Jo),!c)throw Zo("ctrlfmt",o);p=c[1],h=h||c[3],o=e.hasOwnProperty(p)?e[p]:se(s.$scope,p,!0)||(t?se(a,p,!0):n),ae(o,p,!0)}return l?(l=(io(o)?o[o.length-1]:o).prototype,d=Object.create(l||null),h&&i(s,h,d,p||o.name),u(function(){var e=r.invoke(o,d,s,p);return e!==d&&(w(e)||q(e))&&(d=e,h&&i(s,h,d,p||o.name)),d},{instance:d,identifier:h})):(d=r.instantiate(o,s,p),h&&i(s,h,d,p||o.name),d)}}]}function nt(){this.$get=["$window",function(e){return Wn(e.document)}]}function ot(){this.$get=["$log",function(e){return function(t,n){e.error.apply(e,arguments)}}]}function rt(e){return w(e)?$(e)?e.toISOString():F(e):e}function at(){this.$get=function(){return function(e){if(!e)return"";var t=[];return i(e,function(e,n){null===e||v(e)||(io(e)?a(e,function(e,o){t.push(X(n)+"="+X(rt(e)))}):t.push(X(n)+"="+X(rt(e))))}),t.join("&")}}}function it(){this.$get=function(){return function(e){function t(e,o,r){null===e||v(e)||(io(e)?a(e,function(e,n){t(e,o+"["+(w(e)?n:"")+"]")}):w(e)&&!$(e)?i(e,function(e,n){t(e,o+(r?"":"[")+n+(r?"":"]"))}):n.push(X(o)+"="+X(rt(e))))}if(!e)return"";var n=[];return t(e,"",!0),n.join("&")}}}function st(e,t){if(x(e)){var n=e.replace(rr,"").trim();if(n){var o=t("Content-Type");(o=o&&0===o.indexOf(er))||(o=(o=n.match(nr))&&or[o[0]].test(n)),o&&(e=U(n))}}return e}function lt(e){var t,n=ce();return x(e)?a(e.split("\n"),function(e){t=e.indexOf(":");var o=Xn(lo(e.substr(0,t)));e=lo(e.substr(t+1)),o&&(n[o]=n[o]?n[o]+", "+e:e)}):w(e)&&a(e,function(e,t){var o=Xn(t),r=lo(e);o&&(n[o]=n[o]?n[o]+", "+r:r)}),n}function ct(e){var t;return function(n){return t||(t=lt(e)),n?(n=t[Xn(n)],void 0===n&&(n=null),n):t}}function ut(e,t,n,o){return q(o)?o(e,t,n):(a(o,function(o){e=o(e,t,n)}),e)}function dt(){var e=this.defaults={transformResponse:[st],transformRequest:[function(e){return w(e)&&"[object File]"!==to.call(e)&&"[object Blob]"!==to.call(e)&&"[object FormData]"!==to.call(e)?F(e):e}],headers:{common:{Accept:"application/json, text/plain, */*"},post:R(tr),put:R(tr),patch:R(tr)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},t=!1;this.useApplyAsync=function(e){return y(e)?(t=!!e,this):t};var r=!0;this.useLegacyPromiseExtensions=function(e){return y(e)?(r=!!e,this):r};var i=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(s,l,c,d,p,h){function f(t){function i(e){var t=u({},e);return t.data=ut(e.data,e.headers,e.status,l.transformResponse),e=e.status,e>=200&&300>e?t:p.reject(t)}function s(e,t){var n,o={};return a(e,function(e,r){q(e)?(n=e(t),null!=n&&(o[r]=n)):o[r]=e}),o}if(!w(t))throw o("$http")("badreq",t);if(!x(t.url))throw o("$http")("badreq",t.url);var l=u({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse,paramSerializer:e.paramSerializer},t);l.headers=function(t){var n,o,r,a=e.headers,i=u({},t.headers),a=u({},a.common,a[Xn(t.method)]);e:for(n in a){o=Xn(n);for(r in i)if(Xn(r)===o)continue e;i[n]=a[n]}return s(i,R(t))}(t),l.method=Zn(l.method),l.paramSerializer=x(l.paramSerializer)?h.get(l.paramSerializer):l.paramSerializer;var c=[function(t){var o=t.headers,r=ut(t.data,ct(o),n,t.transformRequest);return v(r)&&a(o,function(e,t){"content-type"===Xn(t)&&delete o[t]}),v(t.withCredentials)&&!v(e.withCredentials)&&(t.withCredentials=e.withCredentials),m(t,r).then(i,i)},n],d=p.when(l);for(a(_,function(e){(e.request||e.requestError)&&c.unshift(e.request,e.requestError),(e.response||e.responseError)&&c.push(e.response,e.responseError)});c.length;){t=c.shift();var f=c.shift(),d=d.then(t,f)}return r?(d.success=function(e){return ae(e,"fn"),d.then(function(t){e(t.data,t.status,t.headers,l)}),d},d.error=function(e){return ae(e,"fn"),d.then(null,function(t){e(t.data,t.status,t.headers,l)}),d}):(d.success=ir("success"),d.error=ir("error")),d}function m(o,r){function a(e,n,o,r){function a(){i(n,e,o,r)}h&&(e>=200&&300>e?h.put($,[e,n,lt(o),r]):h.remove($)),t?d.$applyAsync(a):(a(),d.$$phase||d.$apply())}function i(e,t,n,r){t=t>=-1?t:0,(t>=200&&300>t?_.resolve:_.reject)({data:e,status:t,headers:ct(n),config:o,statusText:r})}function c(e){i(e.data,e.status,R(e.headers()),e.statusText)}function u(){var e=f.pendingRequests.indexOf(o);-1!==e&&f.pendingRequests.splice(e,1)}var h,m,_=p.defer(),x=_.promise,C=o.headers,$=b(o.url,o.paramSerializer(o.params));return f.pendingRequests.push(o),x.then(u,u),!o.cache&&!e.cache||!1===o.cache||"GET"!==o.method&&"JSONP"!==o.method||(h=w(o.cache)?o.cache:w(e.cache)?e.cache:g),h&&(m=h.get($),y(m)?m&&q(m.then)?m.then(c,c):io(m)?i(m[1],m[0],R(m[2]),m[3]):i(m,200,{},"OK"):h.put($,x)),v(m)&&((m=cn(o.url)?l()[o.xsrfCookieName||e.xsrfCookieName]:n)&&(C[o.xsrfHeaderName||e.xsrfHeaderName]=m),s(o.method,$,r,a,C,o.timeout,o.withCredentials,o.responseType)),x}function b(e,t){return 0<t.length&&(e+=(-1==e.indexOf("?")?"?":"&")+t),e}var g=c("$http");e.paramSerializer=x(e.paramSerializer)?h.get(e.paramSerializer):e.paramSerializer;var _=[];return a(i,function(e){_.unshift(x(e)?h.get(e):h.invoke(e))}),f.pendingRequests=[],function(e){a(arguments,function(e){f[e]=function(t,n){return f(u({},n||{},{method:e,url:t}))}})}("get","delete","head","jsonp"),function(e){a(arguments,function(e){f[e]=function(t,n,o){return f(u({},o||{},{method:e,url:t,data:n}))}})}("post","put","patch"),f.defaults=e,f}]}function pt(){this.$get=function(){return function(){return new e.XMLHttpRequest}}}function ht(){this.$get=["$browser","$window","$document","$xhrFactory",function(e,t,n,o){return ft(e,o,e.defer,t.angular.callbacks,n[0])}]}function ft(e,t,n,o,r){function i(e,t,n){var a=r.createElement("script"),i=null;return a.type="text/javascript",a.src=e,a.async=!0,i=function(e){a.removeEventListener("load",i,!1),a.removeEventListener("error",i,!1),r.body.removeChild(a),a=null;var s=-1,l="unknown";e&&("load"!==e.type||o[t].called||(e={type:"error"}),l=e.type,s="error"===e.type?404:200),n&&n(s,l)},a.addEventListener("load",i,!1),a.addEventListener("error",i,!1),r.body.appendChild(a),i}return function(r,s,l,c,u,d,p,h){function m(){w&&w(),_&&_.abort()}function b(t,o,r,a,i){y(C)&&n.cancel(C),w=_=null,t(o,r,a,i),e.$$completeOutstandingRequest(f)}if(e.$$incOutstandingRequestCount(),s=s||e.url(),"jsonp"==Xn(r)){var g="_"+(o.counter++).toString(36);o[g]=function(e){o[g].data=e,o[g].called=!0};var w=i(s.replace("JSON_CALLBACK","angular.callbacks."+g),g,function(e,t){b(c,e,o[g].data,"",t),o[g]=f})}else{var _=t(r,s);if(_.open(r,s,!0),a(u,function(e,t){y(e)&&_.setRequestHeader(t,e)}),_.onload=function(){var e=_.statusText||"",t="response"in _?_.response:_.responseText,n=1223===_.status?204:_.status;0===n&&(n=t?200:"file"==ln(s).protocol?404:0),b(c,n,t,_.getAllResponseHeaders(),e)},r=function(){b(c,-1,null,null,"")},_.onerror=r,_.onabort=r,p&&(_.withCredentials=!0),h)try{_.responseType=h}catch(x){if("json"!==h)throw x}_.send(v(l)?null:l)}if(d>0)var C=n(m,d);else d&&q(d.then)&&d.then(m)}}function mt(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,o,r){function a(e){return"\\\\\\"+e}function i(n){return n.replace(p,e).replace(h,t)}function s(e,t,n,o){var r;return r=e.$watch(function(e){return r(),o(e)},t,n)}function l(a,l,p,h){function f(e){try{var t=e;e=p?r.getTrusted(p,t):r.valueOf(t);var n;if(h&&!y(e))n=e;else if(null==e)n="";else{switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=F(e)}n=e}return n}catch(i){o(sr.interr(a,i))}}if(!a.length||-1===a.indexOf(e)){var m;return l||(l=i(a),m=b(l),m.exp=a,m.expressions=[],m.$$watchDelegate=s),m}h=!!h;var g,w,_=0,x=[],C=[];m=a.length;for(var $=[],E=[];m>_;){if(-1==(g=a.indexOf(e,_))||-1==(w=a.indexOf(t,g+c))){
_!==m&&$.push(i(a.substring(_)));break}_!==g&&$.push(i(a.substring(_,g))),_=a.substring(g+c,w),x.push(_),C.push(n(_,f)),_=w+d,E.push($.length),$.push("")}if(p&&1<$.length&&sr.throwNoconcat(a),!l||x.length){var T=function(e){for(var t=0,n=x.length;n>t;t++){if(h&&v(e[t]))return;$[E[t]]=e[t]}return $.join("")};return u(function(e){var t=0,n=x.length,r=Array(n);try{for(;n>t;t++)r[t]=C[t](e);return T(r)}catch(i){o(sr.interr(a,i))}},{exp:a,expressions:x,$$watchDelegate:function(e,t){var n;return e.$watchGroup(C,function(o,r){var a=T(o);q(t)&&t.call(this,a,o!==r?n:a,e),n=a})}})}}var c=e.length,d=t.length,p=new RegExp(e.replace(/./g,a),"g"),h=new RegExp(t.replace(/./g,a),"g");return l.startSymbol=function(){return e},l.endSymbol=function(){return t},l}]}function bt(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(e,t,n,o,r){function a(a,s,l,c){function u(){d?a.apply(null,p):a(m)}var d=4<arguments.length,p=d?Jn.call(arguments,4):[],h=t.setInterval,f=t.clearInterval,m=0,b=y(c)&&!c,g=(b?o:n).defer(),v=g.promise;return l=y(l)?l:0,v.$$intervalId=h(function(){b?r.defer(u):e.$evalAsync(u),g.notify(m++),l>0&&m>=l&&(g.resolve(m),f(v.$$intervalId),delete i[v.$$intervalId]),b||e.$apply()},s),i[v.$$intervalId]=g,v}var i={};return a.cancel=function(e){return e&&e.$$intervalId in i?(i[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete i[e.$$intervalId],!0):!1},a}]}function gt(e){e=e.split("/");for(var t=e.length;t--;)e[t]=Y(e[t]);return e.join("/")}function vt(e,t){var n=ln(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=p(n.port)||cr[n.protocol]||null}function yt(e,t){var n="/"!==e.charAt(0);n&&(e="/"+e);var o=ln(e);t.$$path=decodeURIComponent(n&&"/"===o.pathname.charAt(0)?o.pathname.substring(1):o.pathname),t.$$search=K(o.search),t.$$hash=decodeURIComponent(o.hash),t.$$path&&"/"!=t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function wt(e,t){return 0===t.indexOf(e)?t.substr(e.length):void 0}function _t(e){var t=e.indexOf("#");return-1==t?e:e.substr(0,t)}function xt(e){return e.replace(/(#.+)|#$/,"$1")}function Ct(e,t,n){this.$$html5=!0,n=n||"",vt(e,this),this.$$parse=function(e){var n=wt(t,e);if(!x(n))throw ur("ipthprfx",e,t);yt(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=G(this.$$search),n=this.$$hash?"#"+Y(this.$$hash):"";this.$$url=gt(this.$$path)+(e?"?"+e:"")+n,this.$$absUrl=t+this.$$url.substr(1)},this.$$parseLinkUrl=function(o,r){if(r&&"#"===r[0])return this.hash(r.slice(1)),!0;var a,i;return y(a=wt(e,o))?(i=a,i=y(a=wt(n,a))?t+(wt("/",a)||a):e+i):y(a=wt(t,o))?i=t+a:t==o+"/"&&(i=t),i&&this.$$parse(i),!!i}}function $t(e,t,n){vt(e,this),this.$$parse=function(o){var r,a=wt(e,o)||wt(t,o);v(a)||"#"!==a.charAt(0)?this.$$html5?r=a:(r="",v(a)&&(e=o,this.replace())):(r=wt(n,a),v(r)&&(r=a)),yt(r,this),o=this.$$path;var a=e,i=/^\/[A-Z]:(\/.*)/;0===r.indexOf(a)&&(r=r.replace(a,"")),i.exec(r)||(o=(r=i.exec(o))?r[1]:o),this.$$path=o,this.$$compose()},this.$$compose=function(){var t=G(this.$$search),o=this.$$hash?"#"+Y(this.$$hash):"";this.$$url=gt(this.$$path)+(t?"?"+t:"")+o,this.$$absUrl=e+(this.$$url?n+this.$$url:"")},this.$$parseLinkUrl=function(t,n){return _t(e)==_t(t)?(this.$$parse(t),!0):!1}}function qt(e,t,n){this.$$html5=!0,$t.apply(this,arguments),this.$$parseLinkUrl=function(o,r){if(r&&"#"===r[0])return this.hash(r.slice(1)),!0;var a,i;return e==_t(o)?a=o:(i=wt(t,o))?a=e+n+i:t===o+"/"&&(a=t),a&&this.$$parse(a),!!a},this.$$compose=function(){var t=G(this.$$search),o=this.$$hash?"#"+Y(this.$$hash):"";this.$$url=gt(this.$$path)+(t?"?"+t:"")+o,this.$$absUrl=e+n+this.$$url}}function Et(e){return function(){return this[e]}}function Tt(e,t){return function(n){return v(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function St(){var e="",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return y(t)?(e=t,this):e},this.html5Mode=function(e){return A(e)?(t.enabled=e,this):w(e)?(A(e.enabled)&&(t.enabled=e.enabled),A(e.requireBase)&&(t.requireBase=e.requireBase),A(e.rewriteLinks)&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,o,r,a,i){function s(e,t,n){var r=c.url(),a=c.$$state;try{o.url(e,t,n),c.$$state=o.state()}catch(i){throw c.url(r),c.$$state=a,i}}function l(e,t){n.$broadcast("$locationChangeSuccess",c.absUrl(),e,c.$$state,t)}var c,u;u=o.baseHref();var d,p=o.url();if(t.enabled){if(!u&&t.requireBase)throw ur("nobase");d=p.substring(0,p.indexOf("/",p.indexOf("//")+2))+(u||"/"),u=r.history?Ct:qt}else d=_t(p),u=$t;var h=d.substr(0,_t(d).lastIndexOf("/")+1);c=new u(d,h,"#"+e),c.$$parseLinkUrl(p,p),c.$$state=o.state();var f=/^\s*(javascript|mailto):/i;a.on("click",function(e){if(t.rewriteLinks&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!=e.which&&2!=e.button){for(var r=Wn(e.target);"a"!==k(r[0]);)if(r[0]===a[0]||!(r=r.parent())[0])return;var s=r.prop("href"),l=r.attr("href")||r.attr("xlink:href");w(s)&&"[object SVGAnimatedString]"===s.toString()&&(s=ln(s.animVal).href),f.test(s)||!s||r.attr("target")||e.isDefaultPrevented()||!c.$$parseLinkUrl(s,l)||(e.preventDefault(),c.absUrl()!=o.url()&&(n.$apply(),i.angular["ff-684208-preventDefault"]=!0))}}),xt(c.absUrl())!=xt(p)&&o.url(c.absUrl(),!0);var m=!0;return o.onUrlChange(function(e,t){v(wt(h,e))?i.location.href=e:(n.$evalAsync(function(){var o,r=c.absUrl(),a=c.$$state;e=xt(e),c.$$parse(e),c.$$state=t,o=n.$broadcast("$locationChangeStart",e,r,t,a).defaultPrevented,c.absUrl()===e&&(o?(c.$$parse(r),c.$$state=a,s(r,!1,a)):(m=!1,l(r,a)))}),n.$$phase||n.$digest())}),n.$watch(function(){var e=xt(o.url()),t=xt(c.absUrl()),a=o.state(),i=c.$$replace,u=e!==t||c.$$html5&&r.history&&a!==c.$$state;(m||u)&&(m=!1,n.$evalAsync(function(){var t=c.absUrl(),o=n.$broadcast("$locationChangeStart",t,e,c.$$state,a).defaultPrevented;c.absUrl()===t&&(o?(c.$$parse(e),c.$$state=a):(u&&s(t,i,a===c.$$state?null:c.$$state),l(e,a)))})),c.$$replace=!1}),c}]}function At(){var e=!0,t=this;this.debugEnabled=function(t){return y(t)?(e=t,this):e},this.$get=["$window",function(n){function o(e){return e instanceof Error&&(e.stack?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function r(e){var t=n.console||{},r=t[e]||t.log||f;e=!1;try{e=!!r.apply}catch(i){}return e?function(){var e=[];return a(arguments,function(t){e.push(o(t))}),r.apply(t,e)}:function(e,t){r(e,null==t?"":t)}}return{log:r("log"),info:r("info"),warn:r("warn"),error:r("error"),debug:function(){var n=r("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function It(e,t){if("__defineGetter__"===e||"__defineSetter__"===e||"__lookupGetter__"===e||"__lookupSetter__"===e||"__proto__"===e)throw pr("isecfld",t);return e}function Dt(e){return e+""}function Pt(e,t){if(e){if(e.constructor===e)throw pr("isecfn",t);if(e.window===e)throw pr("isecwindow",t);if(e.children&&(e.nodeName||e.prop&&e.attr&&e.find))throw pr("isecdom",t);if(e===Object)throw pr("isecobj",t)}return e}function kt(e,t){if(e){if(e.constructor===e)throw pr("isecfn",t);if(e===hr||e===fr||e===mr)throw pr("isecff",t)}}function Ot(e,t){if(e&&(e===0..constructor||e===(!1).constructor||e==="".constructor||e==={}.constructor||e===[].constructor||e===Function.constructor))throw pr("isecaf",t)}function jt(e,t){return"undefined"!=typeof e?e:t}function Rt(e,t){return"undefined"==typeof e?t:"undefined"==typeof t?e:e+t}function Lt(e,t){var n,o;switch(e.type){case yr.Program:n=!0,a(e.body,function(e){Lt(e.expression,t),n=n&&e.expression.constant}),e.constant=n;break;case yr.Literal:e.constant=!0,e.toWatch=[];break;case yr.UnaryExpression:Lt(e.argument,t),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case yr.BinaryExpression:Lt(e.left,t),Lt(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case yr.LogicalExpression:Lt(e.left,t),Lt(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case yr.ConditionalExpression:Lt(e.test,t),Lt(e.alternate,t),Lt(e.consequent,t),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case yr.Identifier:e.constant=!1,e.toWatch=[e];break;case yr.MemberExpression:Lt(e.object,t),e.computed&&Lt(e.property,t),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=[e];break;case yr.CallExpression:n=e.filter?!t(e.callee.name).$stateful:!1,o=[],a(e.arguments,function(e){Lt(e,t),n=n&&e.constant,e.constant||o.push.apply(o,e.toWatch)}),e.constant=n,e.toWatch=e.filter&&!t(e.callee.name).$stateful?o:[e];break;case yr.AssignmentExpression:Lt(e.left,t),Lt(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case yr.ArrayExpression:n=!0,o=[],a(e.elements,function(e){Lt(e,t),n=n&&e.constant,e.constant||o.push.apply(o,e.toWatch)}),e.constant=n,e.toWatch=o;break;case yr.ObjectExpression:n=!0,o=[],a(e.properties,function(e){Lt(e.value,t),n=n&&e.value.constant,e.value.constant||o.push.apply(o,e.value.toWatch)}),e.constant=n,e.toWatch=o;break;case yr.ThisExpression:e.constant=!1,e.toWatch=[];break;case yr.LocalsExpression:e.constant=!1,e.toWatch=[]}}function Nt(e){if(1==e.length){e=e[0].expression;var t=e.toWatch;return 1!==t.length?t:t[0]!==e?t:n}}function Mt(e){return e.type===yr.Identifier||e.type===yr.MemberExpression}function Bt(e){return 1===e.body.length&&Mt(e.body[0].expression)?{type:yr.AssignmentExpression,left:e.body[0].expression,right:{type:yr.NGValueParameter},operator:"="}:void 0}function Ft(e){return 0===e.body.length||1===e.body.length&&(e.body[0].expression.type===yr.Literal||e.body[0].expression.type===yr.ArrayExpression||e.body[0].expression.type===yr.ObjectExpression)}function Ut(e,t){this.astBuilder=e,this.$filter=t}function Vt(e,t){this.astBuilder=e,this.$filter=t}function zt(e){return"constructor"==e}function Wt(e){return q(e.valueOf)?e.valueOf():_r.call(e)}function Ht(){var e=ce(),t=ce();this.$get=["$filter",function(o){function r(n,r,a){var s,h,v;switch(a=a||g,typeof n){case"string":v=n=n.trim();var y=a?t:e;if(s=y[v],!s){":"===n.charAt(0)&&":"===n.charAt(1)&&(h=!0,n=n.substring(2)),s=a?b:m;var w=new vr(s);s=new wr(w,o,s).parse(n),s.constant?s.$$watchDelegate=d:h?s.$$watchDelegate=s.literal?u:c:s.inputs&&(s.$$watchDelegate=l),a&&(s=i(s)),y[v]=s}return p(s,r);case"function":return p(n,r);default:return p(f,r)}}function i(e){function t(t,n,o,r){var a=g;g=!0;try{return e(t,n,o,r)}finally{g=a}}if(!e)return e;t.$$watchDelegate=e.$$watchDelegate,t.assign=i(e.assign),t.constant=e.constant,t.literal=e.literal;for(var n=0;e.inputs&&n<e.inputs.length;++n)e.inputs[n]=i(e.inputs[n]);return t.inputs=e.inputs,t}function s(e,t){return null==e||null==t?e===t:"object"==typeof e&&(e=Wt(e),"object"==typeof e)?!1:e===t||e!==e&&t!==t}function l(e,t,o,r,a){var i,l=r.inputs;if(1===l.length){var c=s,l=l[0];return e.$watch(function(e){var t=l(e);return s(t,c)||(i=r(e,n,n,[t]),c=t&&Wt(t)),i},t,o,a)}for(var u=[],d=[],p=0,h=l.length;h>p;p++)u[p]=s,d[p]=null;return e.$watch(function(e){for(var t=!1,o=0,a=l.length;a>o;o++){var c=l[o](e);(t||(t=!s(c,u[o])))&&(d[o]=c,u[o]=c&&Wt(c))}return t&&(i=r(e,n,n,d)),i},t,o,a)}function c(e,t,n,o){var r,a;return r=e.$watch(function(e){return o(e)},function(e,n,o){a=e,q(t)&&t.apply(this,arguments),y(e)&&o.$$postDigest(function(){y(a)&&r()})},n)}function u(e,t,n,o){function r(e){var t=!0;return a(e,function(e){y(e)||(t=!1)}),t}var i,s;return i=e.$watch(function(e){return o(e)},function(e,n,o){s=e,q(t)&&t.call(this,e,n,o),r(e)&&o.$$postDigest(function(){r(s)&&i()})},n)}function d(e,t,n,o){var r;return r=e.$watch(function(e){return r(),o(e)},t,n)}function p(e,t){if(!t)return e;var n=e.$$watchDelegate,o=!1,n=n!==u&&n!==c?function(n,r,a,i){return a=o&&i?i[0]:e(n,r,a,i),t(a,n,r)}:function(n,o,r,a){return r=e(n,o,r,a),n=t(r,n,o),y(r)?n:r};return e.$$watchDelegate&&e.$$watchDelegate!==l?n.$$watchDelegate=e.$$watchDelegate:t.$stateful||(n.$$watchDelegate=l,o=!e.inputs,n.inputs=e.inputs?e.inputs:[e]),n}var h=uo().noUnsafeEval,m={csp:h,expensiveChecks:!1},b={csp:h,expensiveChecks:!0},g=!1;return r.$$runningExpensiveChecks=function(){return g},r}]}function Kt(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return Yt(function(t){e.$evalAsync(t)},t)}]}function Gt(){this.$get=["$browser","$exceptionHandler",function(e,t){return Yt(function(t){e.defer(t)},t)}]}function Yt(e,t){function r(){this.$$state={status:0}}function i(e,t){return function(n){t.call(e,n)}}function s(o){!o.processScheduled&&o.pending&&(o.processScheduled=!0,e(function(){var e,r,a;a=o.pending,o.processScheduled=!1,o.pending=n;for(var i=0,s=a.length;s>i;++i){r=a[i][0],e=a[i][o.status];try{q(e)?r.resolve(e(o.value)):1===o.status?r.resolve(o.value):r.reject(o.value)}catch(l){r.reject(l),t(l)}}}))}function l(){this.promise=new r}var c=o("$q",TypeError);u(r.prototype,{then:function(e,t,n){if(v(e)&&v(t)&&v(n))return this;var o=new l;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([o,e,t,n]),0<this.$$state.status&&s(this.$$state),o.promise},"catch":function(e){return this.then(null,e)},"finally":function(e,t){return this.then(function(t){return p(t,!0,e)},function(t){return p(t,!1,e)},t)}}),u(l.prototype,{resolve:function(e){this.promise.$$state.status||(e===this.promise?this.$$reject(c("qcycle",e)):this.$$resolve(e))},$$resolve:function(e){function n(e){l||(l=!0,a.$$resolve(e))}function o(e){l||(l=!0,a.$$reject(e))}var r,a=this,l=!1;try{(w(e)||q(e))&&(r=e&&e.then),q(r)?(this.promise.$$state.status=-1,r.call(e,n,o,i(this,this.notify))):(this.promise.$$state.value=e,this.promise.$$state.status=1,s(this.promise.$$state))}catch(c){o(c),t(c)}},reject:function(e){this.promise.$$state.status||this.$$reject(e)},$$reject:function(e){this.promise.$$state.value=e,this.promise.$$state.status=2,s(this.promise.$$state)},notify:function(n){var o=this.promise.$$state.pending;0>=this.promise.$$state.status&&o&&o.length&&e(function(){for(var e,r,a=0,i=o.length;i>a;a++){r=o[a][0],e=o[a][3];try{r.notify(q(e)?e(n):n)}catch(s){t(s)}}})}});var d=function(e,t){var n=new l;return t?n.resolve(e):n.reject(e),n.promise},p=function(e,t,n){var o=null;try{q(n)&&(o=n())}catch(r){return d(r,!1)}return o&&q(o.then)?o.then(function(){return d(e,t)},function(e){return d(e,!1)}):d(e,t)},h=function(e,t,n,o){var r=new l;return r.resolve(e),r.promise.then(t,n,o)},f=function(e){if(!q(e))throw c("norslvr",e);var t=new l;return e(function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise};return f.prototype=r.prototype,f.defer=function(){var e=new l;return e.resolve=i(e,e.resolve),e.reject=i(e,e.reject),e.notify=i(e,e.notify),e},f.reject=function(e){var t=new l;return t.reject(e),t.promise},f.when=h,f.resolve=h,f.all=function(e){var t=new l,n=0,o=io(e)?[]:{};return a(e,function(e,r){n++,h(e).then(function(e){o.hasOwnProperty(r)||(o[r]=e,--n||t.resolve(o))},function(e){o.hasOwnProperty(r)||t.reject(e)})}),0===n&&t.resolve(o),t.promise},f}function Xt(){this.$get=["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame,o=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,r=!!n,a=r?function(e){var t=n(e);return function(){o(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};return a.supported=r,a}]}function Zt(){function e(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=++ao,this.$$ChildScope=null}return t.prototype=e,t}var t=10,n=o("$rootScope"),i=null,s=null;this.digestTtl=function(e){return arguments.length&&(t=e),t},this.$get=["$exceptionHandler","$parse","$browser",function(o,l,c){function u(e){e.currentScope.$$destroyed=!0}function d(e){9===zn&&(e.$$childHead&&d(e.$$childHead),e.$$nextSibling&&d(e.$$nextSibling)),e.$parent=e.$$nextSibling=e.$$prevSibling=e.$$childHead=e.$$childTail=e.$root=e.$$watchers=null}function p(){this.$id=++ao,this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function h(e){if(x.$$phase)throw n("inprog",x.$$phase);x.$$phase=e}function m(e,t){do e.$$watchersCount+=t;while(e=e.$parent)}function b(e,t,n){do e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n];while(e=e.$parent)}function g(){}function y(){for(;E.length;)try{E.shift()()}catch(e){o(e)}s=null}function _(){null===s&&(s=c.defer(function(){x.$apply(y)}))}p.prototype={constructor:p,$new:function(t,n){var o;return n=n||this,t?(o=new p,o.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=e(this)),o=new this.$$ChildScope),o.$parent=n,o.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=o,n.$$childTail=o):n.$$childHead=n.$$childTail=o,(t||n!=this)&&o.$on("$destroy",u),o},$watch:function(e,t,n,o){var r=l(e);if(r.$$watchDelegate)return r.$$watchDelegate(this,t,n,r,e);var a=this,s=a.$$watchers,c={fn:t,last:g,get:r,exp:o||e,eq:!!n};return i=null,q(t)||(c.fn=f),s||(s=a.$$watchers=[]),s.unshift(c),m(this,1),function(){0<=O(s,c)&&m(a,-1),i=null}},$watchGroup:function(e,t){function n(){l=!1,c?(c=!1,t(r,r,s)):t(r,o,s)}var o=Array(e.length),r=Array(e.length),i=[],s=this,l=!1,c=!0;if(!e.length){var u=!0;return s.$evalAsync(function(){u&&t(r,r,s)}),function(){u=!1}}return 1===e.length?this.$watch(e[0],function(e,n,a){r[0]=e,o[0]=n,t(r,e===n?r:o,a)}):(a(e,function(e,t){var a=s.$watch(e,function(e,a){r[t]=e,o[t]=a,l||(l=!0,s.$evalAsync(n))});i.push(a)}),function(){for(;i.length;)i.shift()()})},$watchCollection:function(e,t){function n(e){o=e;var t,n,i,s;if(!v(o)){if(w(o))if(r(o))for(a!==p&&(a=p,m=a.length=0,u++),e=o.length,m!==e&&(u++,a.length=m=e),t=0;e>t;t++)s=a[t],i=o[t],n=s!==s&&i!==i,n||s===i||(u++,a[t]=i);else{a!==h&&(a=h={},m=0,u++),e=0;for(t in o)Yn.call(o,t)&&(e++,i=o[t],s=a[t],t in a?(n=s!==s&&i!==i,n||s===i||(u++,a[t]=i)):(m++,a[t]=i,u++));if(m>e)for(t in u++,a)Yn.call(o,t)||(m--,delete a[t])}else a!==o&&(a=o,u++);return u}}n.$stateful=!0;var o,a,i,s=this,c=1<t.length,u=0,d=l(e,n),p=[],h={},f=!0,m=0;return this.$watch(d,function(){if(f?(f=!1,t(o,o,s)):t(o,i,s),c)if(w(o))if(r(o)){i=Array(o.length);for(var e=0;e<o.length;e++)i[e]=o[e]}else for(e in i={},o)Yn.call(o,e)&&(i[e]=o[e]);else i=o})},$digest:function(){var e,r,a,l,u,d,p,f,m,b,v,w=t,_=[];h("$digest"),c.$$checkUrlChange(),this===x&&null!==s&&(c.defer.cancel(s),y()),i=null;do{for(f=!1,m=this;C.length;){try{v=C.shift(),v.scope.$eval(v.expression,v.locals)}catch(E){o(E)}i=null}e:do{if(d=m.$$watchers)for(p=d.length;p--;)try{if(e=d[p])if(u=e.get,(r=u(m))===(a=e.last)||(e.eq?L(r,a):"number"==typeof r&&"number"==typeof a&&isNaN(r)&&isNaN(a))){if(e===i){f=!1;break e}}else f=!0,i=e,e.last=e.eq?j(r,null):r,l=e.fn,l(r,a===g?r:a,m),5>w&&(b=4-w,_[b]||(_[b]=[]),_[b].push({msg:q(e.exp)?"fn: "+(e.exp.name||e.exp.toString()):e.exp,newVal:r,oldVal:a}))}catch(T){o(T)}if(!(d=m.$$watchersCount&&m.$$childHead||m!==this&&m.$$nextSibling))for(;m!==this&&!(d=m.$$nextSibling);)m=m.$parent}while(m=d);if((f||C.length)&&!w--)throw x.$$phase=null,n("infdig",t,_)}while(f||C.length);for(x.$$phase=null;$.length;)try{$.shift()()}catch(S){o(S)}},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===x&&c.$$applicationDestroyed(),m(this,-this.$$watchersCount);for(var t in this.$$listenerCount)b(this,this.$$listenerCount[t],t);e&&e.$$childHead==this&&(e.$$childHead=this.$$nextSibling),e&&e.$$childTail==this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=f,this.$on=this.$watch=this.$watchGroup=function(){return f},this.$$listeners={},this.$$nextSibling=null,d(this)}},$eval:function(e,t){return l(e)(this,t)},$evalAsync:function(e,t){x.$$phase||C.length||c.defer(function(){C.length&&x.$digest()}),C.push({scope:this,expression:l(e),locals:t})},$$postDigest:function(e){$.push(e)},$apply:function(e){try{h("$apply");try{return this.$eval(e)}finally{x.$$phase=null}}catch(t){o(t)}finally{try{x.$digest()}catch(n){throw o(n),n}}},$applyAsync:function(e){function t(){n.$eval(e)}var n=this;e&&E.push(t),e=l(e),_()},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var o=this;do o.$$listenerCount[e]||(o.$$listenerCount[e]=0),o.$$listenerCount[e]++;while(o=o.$parent);var r=this;return function(){var o=n.indexOf(t);-1!==o&&(n[o]=null,b(r,1,e))}},$emit:function(e,t){var n,r,a,i=[],s=this,l=!1,c={name:e,targetScope:s,stopPropagation:function(){l=!0},preventDefault:function(){c.defaultPrevented=!0},defaultPrevented:!1},u=N([c],arguments,1);do{for(n=s.$$listeners[e]||i,c.currentScope=s,r=0,a=n.length;a>r;r++)if(n[r])try{n[r].apply(null,u)}catch(d){o(d)}else n.splice(r,1),r--,a--;if(l)return c.currentScope=null,c;s=s.$parent}while(s);return c.currentScope=null,c},$broadcast:function(e,t){var n=this,r=this,a={name:e,targetScope:this,preventDefault:function(){a.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[e])return a;for(var i,s,l=N([a],arguments,1);n=r;){for(a.currentScope=n,r=n.$$listeners[e]||[],i=0,s=r.length;s>i;i++)if(r[i])try{r[i].apply(null,l)}catch(c){o(c)}else r.splice(i,1),i--,s--;if(!(r=n.$$listenerCount[e]&&n.$$childHead||n!==this&&n.$$nextSibling))for(;n!==this&&!(r=n.$$nextSibling);)n=n.$parent}return a.currentScope=null,a}};var x=new p,C=x.$$asyncQueue=[],$=x.$$postDigestQueue=[],E=x.$$applyAsyncQueue=[];return x}]}function Jt(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return y(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return y(e)?(t=e,this):t},this.$get=function(){return function(n,o){var r,a=o?t:e;return r=ln(n).href,""===r||r.match(a)?n:"unsafe:"+r}}}function Qt(e){if("self"===e)return e;if(x(e)){if(-1<e.indexOf("***"))throw xr("iwcard",e);return e=co(e).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+e+"$")}if(E(e))return new RegExp("^"+e.source+"$");throw xr("imatcher")}function en(e){var t=[];return y(e)&&a(e,function(e){t.push(Qt(e))}),t}function tn(){this.SCE_CONTEXTS=Cr;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=en(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=en(e)),t},this.$get=["$injector",function(n){function o(e,t){return"self"===e?cn(t):!!e.exec(t.href)}function r(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}var a=function(e){throw xr("unsafe")};n.has("$sanitize")&&(a=n.get("$sanitize"));var i=r(),s={};return s[Cr.HTML]=r(i),s[Cr.CSS]=r(i),s[Cr.URL]=r(i),s[Cr.JS]=r(i),s[Cr.RESOURCE_URL]=r(s[Cr.URL]),{trustAs:function(e,t){var n=s.hasOwnProperty(e)?s[e]:null;if(!n)throw xr("icontext",e,t);if(null===t||v(t)||""===t)return t;if("string"!=typeof t)throw xr("itype",e);return new n(t)},getTrusted:function(n,r){if(null===r||v(r)||""===r)return r;var i=s.hasOwnProperty(n)?s[n]:null;if(i&&r instanceof i)return r.$$unwrapTrustedValue();if(n===Cr.RESOURCE_URL){var l,c,i=ln(r.toString()),u=!1;for(l=0,c=e.length;c>l;l++)if(o(e[l],i)){u=!0;break}if(u)for(l=0,c=t.length;c>l;l++)if(o(t[l],i)){u=!1;break}if(u)return r;throw xr("insecurl",r.toString())}if(n===Cr.HTML)return a(r);throw xr("unsafe")},valueOf:function(e){return e instanceof i?e.$$unwrapTrustedValue():e}}}]}function nn(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,n){if(e&&8>zn)throw xr("iequirks");var o=R(Cr);o.isEnabled=function(){return e},o.trustAs=n.trustAs,o.getTrusted=n.getTrusted,o.valueOf=n.valueOf,e||(o.trustAs=o.getTrusted=function(e,t){return t},o.valueOf=m),o.parseAs=function(e,n){var r=t(n);return r.literal&&r.constant?r:t(n,function(t){return o.getTrusted(e,t)})};var r=o.parseAs,i=o.getTrusted,s=o.trustAs;return a(Cr,function(e,t){var n=Xn(t);o[pe("parse_as_"+n)]=function(t){return r(e,t)},o[pe("get_trusted_"+n)]=function(t){return i(e,t)},o[pe("trust_as_"+n)]=function(t){return s(e,t)}}),o}]}function on(){this.$get=["$window","$document",function(e,t){var n,o={},r=p((/android (\d+)/.exec(Xn((e.navigator||{}).userAgent))||[])[1]),a=/Boxee/i.test((e.navigator||{}).userAgent),i=t[0]||{},s=/^(Moz|webkit|ms)(?=[A-Z])/,l=i.body&&i.body.style,c=!1,u=!1;if(l){for(var d in l)if(c=s.exec(d)){n=c[0],n=n.substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in l&&"webkit"),c=!!("transition"in l||n+"Transition"in l),u=!!("animation"in l||n+"Animation"in l),!r||c&&u||(c=x(l.webkitTransition),u=x(l.webkitAnimation))}return{history:!(!e.history||!e.history.pushState||4>r||a),hasEvent:function(e){if("input"===e&&11>=zn)return!1;if(v(o[e])){var t=i.createElement("div");o[e]="on"+e in t}return o[e]},csp:uo(),vendorPrefix:n,transitions:c,animations:u,android:r}}]}function rn(){var e;this.httpOptions=function(t){return t?(e=t,this):e},this.$get=["$templateCache","$http","$q","$sce",function(t,n,o,r){function a(i,s){a.totalPendingRequests++,x(i)&&t.get(i)||(i=r.getTrustedResourceUrl(i));var l=n.defaults&&n.defaults.transformResponse;return io(l)?l=l.filter(function(e){return e!==st}):l===st&&(l=null),n.get(i,u({cache:t,transformResponse:l},e))["finally"](function(){a.totalPendingRequests--}).then(function(e){return t.put(i,e.data),e.data},function(e){if(!s)throw Yo("tpload",i,e.status,e.statusText);return o.reject(e)})}return a.totalPendingRequests=0,a}]}function an(){this.$get=["$rootScope","$browser","$location",function(e,t,n){return{findBindings:function(e,t,n){e=e.getElementsByClassName("ng-binding");var o=[];return a(e,function(e){var r=ro.element(e).data("$binding");r&&a(r,function(r){n?new RegExp("(^|\\s)"+co(t)+"(\\s|\\||$)").test(r)&&o.push(e):-1!=r.indexOf(t)&&o.push(e)})}),o},findModels:function(e,t,n){for(var o=["ng-","data-ng-","ng\\:"],r=0;r<o.length;++r){var a=e.querySelectorAll("["+o[r]+"model"+(n?"=":"*=")+'"'+t+'"]');if(a.length)return a}},getLocation:function(){return n.url()},setLocation:function(t){t!==n.url()&&(n.url(t),e.$digest())},whenStable:function(e){t.notifyWhenNoOutstandingRequests(e)}}}]}function sn(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,n,o,r){function a(a,s,l){q(a)||(l=s,s=a,a=f);var c,u=Jn.call(arguments,3),d=y(l)&&!l,p=(d?o:n).defer(),h=p.promise;return c=t.defer(function(){try{p.resolve(a.apply(null,u))}catch(t){p.reject(t),r(t)}finally{delete i[h.$$timeoutId]}d||e.$apply()},s),h.$$timeoutId=c,i[c]=p,h}var i={};return a.cancel=function(e){return e&&e.$$timeoutId in i?(i[e.$$timeoutId].reject("canceled"),delete i[e.$$timeoutId],t.defer.cancel(e.$$timeoutId)):!1},a}]}function ln(e){return zn&&($r.setAttribute("href",e),e=$r.href),$r.setAttribute("href",e),{href:$r.href,protocol:$r.protocol?$r.protocol.replace(/:$/,""):"",host:$r.host,search:$r.search?$r.search.replace(/^\?/,""):"",hash:$r.hash?$r.hash.replace(/^#/,""):"",hostname:$r.hostname,port:$r.port,pathname:"/"===$r.pathname.charAt(0)?$r.pathname:"/"+$r.pathname}}function cn(e){return e=x(e)?ln(e):e,e.protocol===qr.protocol&&e.host===qr.host}function un(){this.$get=b(e)}function dn(e){function t(e){try{return decodeURIComponent(e)}catch(t){return e}}var n=e[0]||{},o={},r="";return function(){var e,a,i,s,l;if(e=n.cookie||"",e!==r)for(r=e,e=r.split("; "),o={},i=0;i<e.length;i++)a=e[i],s=a.indexOf("="),s>0&&(l=t(a.substring(0,s)),v(o[l])&&(o[l]=t(a.substring(s+1))));return o}}function pn(){this.$get=dn}function hn(e){function t(n,o){if(w(n)){var r={};return a(n,function(e,n){r[n]=t(n,e)}),r}return e.factory(n+"Filter",o)}this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+"Filter")}}],t("currency",vn),t("date",An),t("filter",fn),t("json",In),t("limitTo",Dn),t("lowercase",Pr),t("number",yn),t("orderBy",Pn),t("uppercase",kr)}function fn(){return function(e,t,n){if(!r(e)){if(null==e)return e;throw o("filter")("notarray",e)}var a;switch(gn(t)){case"function":break;case"boolean":case"null":case"number":case"string":a=!0;case"object":t=mn(t,n,a);break;default:return e}return Array.prototype.filter.call(e,t)}}function mn(e,t,n){var o=w(e)&&"$"in e;return!0===t?t=L:q(t)||(t=function(e,t){return v(e)?!1:null===e||null===t?e===t:w(t)||w(e)&&!g(e)?!1:(e=Xn(""+e),t=Xn(""+t),-1!==e.indexOf(t))}),function(r){return o&&!w(r)?bn(r,e.$,t,!1):bn(r,e,t,n)}}function bn(e,t,n,o,r){var a=gn(e),i=gn(t);if("string"===i&&"!"===t.charAt(0))return!bn(e,t.substring(1),n,o);if(io(e))return e.some(function(e){return bn(e,t,n,o)});switch(a){case"object":var s;if(o){for(s in e)if("$"!==s.charAt(0)&&bn(e[s],t,n,!0))return!0;return r?!1:bn(e,t,n,!1)}if("object"===i){for(s in t)if(r=t[s],!q(r)&&!v(r)&&(a="$"===s,!bn(a?e:e[s],r,n,a,a)))return!1;return!0}return n(e,t);case"function":return!1;default:return n(e,t)}}function gn(e){return null===e?"null":typeof e}function vn(e){var t=e.NUMBER_FORMATS;return function(e,n,o){return v(n)&&(n=t.CURRENCY_SYM),v(o)&&(o=t.PATTERNS[1].maxFrac),null==e?e:xn(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,o).replace(/\u00A4/g,n)}}function yn(e){var t=e.NUMBER_FORMATS;return function(e,n){return null==e?e:xn(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function wn(e){var t,n,o,r,a,i=0;for(-1<(n=e.indexOf(Tr))&&(e=e.replace(Tr,"")),0<(o=e.search(/e/i))?(0>n&&(n=o),n+=+e.slice(o+1),e=e.substring(0,o)):0>n&&(n=e.length),o=0;e.charAt(o)==Sr;o++);if(o==(a=e.length))t=[0],n=1;else{for(a--;e.charAt(a)==Sr;)a--;for(n-=o,t=[],r=0;a>=o;o++,r++)t[r]=+e.charAt(o)}return n>Er&&(t=t.splice(0,Er-1),i=n-1,n=1),{d:t,e:i,i:n}}function _n(e,t,n,o){var r=e.d,a=r.length-e.i;if(t=v(t)?Math.min(Math.max(n,a),o):+t,n=t+e.i,o=r[n],n>0)r.splice(n);else{e.i=1,r.length=n=t+1;for(var i=0;n>i;i++)r[i]=0}for(o>=5&&r[n-1]++;t>a;a++)r.push(0);(t=r.reduceRight(function(e,t,n,o){return t+=e,o[n]=t%10,Math.floor(t/10)},0))&&(r.unshift(t),e.i++)}function xn(e,t,n,o,r){if(!x(e)&&!C(e)||isNaN(e))return"";var a=!isFinite(e),i=!1,s=Math.abs(e)+"",l="";if(a)l="∞";else{for(i=wn(s),_n(i,r,t.minFrac,t.maxFrac),l=i.d,s=i.i,r=i.e,a=[],i=l.reduce(function(e,t){return e&&!t},!0);0>s;)l.unshift(0),s++;for(s>0?a=l.splice(s):(a=l,l=[0]),s=[],l.length>t.lgSize&&s.unshift(l.splice(-t.lgSize).join(""));l.length>t.gSize;)s.unshift(l.splice(-t.gSize).join(""));l.length&&s.unshift(l.join("")),l=s.join(n),a.length&&(l+=o+a.join("")),r&&(l+="e+"+r)}return 0>e&&!i?t.negPre+l+t.negSuf:t.posPre+l+t.posSuf}function Cn(e,t,n){var o="";for(0>e&&(o="-",e=-e),e=""+e;e.length<t;)e=Sr+e;return n&&(e=e.substr(e.length-t)),o+e}function $n(e,t,n,o){return n=n||0,function(r){return r=r["get"+e](),(n>0||r>-n)&&(r+=n),0===r&&-12==n&&(r=12),Cn(r,t,o)}}function qn(e,t){return function(n,o){var r=n["get"+e](),a=Zn(t?"SHORT"+e:e);return o[a][r]}}function En(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(4>=t?5:12)-t)}function Tn(e){return function(t){var n=En(t.getFullYear());return t=+new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))-+n,t=1+Math.round(t/6048e5),Cn(t,e)}}function Sn(e,t){return 0>=e.getFullYear()?t.ERAS[0]:t.ERAS[1]}function An(e){function t(e){var t;if(t=e.match(n)){e=new Date(0);var o=0,r=0,a=t[8]?e.setUTCFullYear:e.setFullYear,i=t[8]?e.setUTCHours:e.setHours;t[9]&&(o=p(t[9]+t[10]),r=p(t[9]+t[11])),a.call(e,p(t[1]),p(t[2])-1,p(t[3])),o=p(t[4]||0)-o,r=p(t[5]||0)-r,a=p(t[6]||0),t=Math.round(1e3*parseFloat("0."+(t[7]||0))),i.call(e,o,r,a,t)}return e}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,o,r){var i,s,l="",c=[];if(o=o||"mediumDate",
o=e.DATETIME_FORMATS[o]||o,x(n)&&(n=Dr.test(n)?p(n):t(n)),C(n)&&(n=new Date(n)),!$(n)||!isFinite(n.getTime()))return n;for(;o;)(s=Ir.exec(o))?(c=N(c,s,1),o=c.pop()):(c.push(o),o=null);var u=n.getTimezoneOffset();return r&&(u=V(r,u),n=z(n,r,!0)),a(c,function(t){i=Ar[t],l+=i?i(n,e.DATETIME_FORMATS,u):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}}function In(){return function(e,t){return v(t)&&(t=2),F(e,t)}}function Dn(){return function(e,t,n){return t=1/0===Math.abs(Number(t))?Number(t):p(t),isNaN(t)?e:(C(e)&&(e=e.toString()),io(e)||x(e)?(n=!n||isNaN(n)?0:p(n),n=0>n?Math.max(0,e.length+n):n,t>=0?e.slice(n,n+t):0===n?e.slice(t,e.length):e.slice(Math.max(0,n+t),n)):e)}}function Pn(e){function t(t,n){return n=n?-1:1,t.map(function(t){var o=1,r=m;if(q(t))r=t;else if(x(t)&&("+"!=t.charAt(0)&&"-"!=t.charAt(0)||(o="-"==t.charAt(0)?-1:1,t=t.substring(1)),""!==t&&(r=e(t),r.constant)))var a=r(),r=function(e){return e[a]};return{get:r,descending:o*n}})}function n(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}return function(e,a,i){if(null==e)return e;if(!r(e))throw o("orderBy")("notarray",e);io(a)||(a=[a]),0===a.length&&(a=["+"]);var s=t(a,i);return s.push({get:function(){return{}},descending:i?-1:1}),e=Array.prototype.map.call(e,function(e,t){return{value:e,predicateValues:s.map(function(o){var r=o.get(e);return o=typeof r,null===r?(o="string",r="null"):"string"===o?r=r.toLowerCase():"object"===o&&("function"==typeof r.valueOf&&(r=r.valueOf(),n(r))||g(r)&&(r=r.toString(),n(r))||(r=t)),{value:r,type:o}})}}),e.sort(function(e,t){for(var n=0,o=0,r=s.length;r>o;++o){var n=e.predicateValues[o],a=t.predicateValues[o],i=0;if(n.type===a.type?n.value!==a.value&&(i=n.value<a.value?-1:1):i=n.type<a.type?-1:1,n=i*s[o].descending)break}return n}),e=e.map(function(e){return e.value})}}function kn(e){return q(e)&&(e={link:e}),e.restrict=e.restrict||"AC",b(e)}function On(e,t,o,r,i){var s=this,l=[];s.$error={},s.$$success={},s.$pending=n,s.$name=i(t.name||t.ngForm||"")(o),s.$dirty=!1,s.$pristine=!0,s.$valid=!0,s.$invalid=!1,s.$submitted=!1,s.$$parentForm=Rr,s.$rollbackViewValue=function(){a(l,function(e){e.$rollbackViewValue()})},s.$commitViewValue=function(){a(l,function(e){e.$commitViewValue()})},s.$addControl=function(e){ie(e.$name,"input"),l.push(e),e.$name&&(s[e.$name]=e),e.$$parentForm=s},s.$$renameControl=function(e,t){var n=e.$name;s[n]===e&&delete s[n],s[t]=e,e.$name=t},s.$removeControl=function(e){e.$name&&s[e.$name]===e&&delete s[e.$name],a(s.$pending,function(t,n){s.$setValidity(n,null,e)}),a(s.$error,function(t,n){s.$setValidity(n,null,e)}),a(s.$$success,function(t,n){s.$setValidity(n,null,e)}),O(l,e),e.$$parentForm=Rr},Un({ctrl:this,$element:e,set:function(e,t,n){var o=e[t];o?-1===o.indexOf(n)&&o.push(n):e[t]=[n]},unset:function(e,t,n){var o=e[t];o&&(O(o,n),0===o.length&&delete e[t])},$animate:r}),s.$setDirty=function(){r.removeClass(e,ga),r.addClass(e,va),s.$dirty=!0,s.$pristine=!1,s.$$parentForm.$setDirty()},s.$setPristine=function(){r.setClass(e,ga,va+" ng-submitted"),s.$dirty=!1,s.$pristine=!0,s.$submitted=!1,a(l,function(e){e.$setPristine()})},s.$setUntouched=function(){a(l,function(e){e.$setUntouched()})},s.$setSubmitted=function(){r.addClass(e,"ng-submitted"),s.$submitted=!0,s.$$parentForm.$setSubmitted()}}function jn(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function Rn(e,t,n,o,r,a){var i=Xn(t[0].type);if(!r.android){var s=!1;t.on("compositionstart",function(e){s=!0}),t.on("compositionend",function(){s=!1,l()})}var l=function(e){if(c&&(a.defer.cancel(c),c=null),!s){var r=t.val();e=e&&e.type,"password"===i||n.ngTrim&&"false"===n.ngTrim||(r=lo(r)),(o.$viewValue!==r||""===r&&o.$$hasNativeValidators)&&o.$setViewValue(r,e)}};if(r.hasEvent("input"))t.on("input",l);else{var c,u=function(e,t,n){c||(c=a.defer(function(){c=null,t&&t.value===n||l(e)}))};t.on("keydown",function(e){var t=e.keyCode;91===t||t>15&&19>t||t>=37&&40>=t||u(e,this,this.value)}),r.hasEvent("paste")&&t.on("paste cut",u)}t.on("change",l),o.$render=function(){var e=o.$isEmpty(o.$viewValue)?"":o.$viewValue;t.val()!==e&&t.val(e)}}function Ln(e,t){return function(n,o){var r,i;if($(n))return n;if(x(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),Br.test(n))return new Date(n);if(e.lastIndex=0,r=e.exec(n))return r.shift(),i=o?{yyyy:o.getFullYear(),MM:o.getMonth()+1,dd:o.getDate(),HH:o.getHours(),mm:o.getMinutes(),ss:o.getSeconds(),sss:o.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},a(r,function(e,n){n<t.length&&(i[t[n]]=+e)}),new Date(i.yyyy,i.MM-1,i.dd,i.HH,i.mm,i.ss||0,1e3*i.sss||0)}return NaN}}function Nn(e,t,o,r){return function(a,i,s,l,c,u,d){function p(e){return e&&!(e.getTime&&e.getTime()!==e.getTime())}function h(e){return y(e)&&!$(e)?o(e)||n:e}Mn(a,i,s,l),Rn(a,i,s,l,c,u);var f,m=l&&l.$options&&l.$options.timezone;if(l.$$parserName=e,l.$parsers.push(function(e){return l.$isEmpty(e)?null:t.test(e)?(e=o(e,f),m&&(e=z(e,m)),e):n}),l.$formatters.push(function(e){if(e&&!$(e))throw wa("datefmt",e);return p(e)?((f=e)&&m&&(f=z(f,m,!0)),d("date")(e,r,m)):(f=null,"")}),y(s.min)||s.ngMin){var b;l.$validators.min=function(e){return!p(e)||v(b)||o(e)>=b},s.$observe("min",function(e){b=h(e),l.$validate()})}if(y(s.max)||s.ngMax){var g;l.$validators.max=function(e){return!p(e)||v(g)||o(e)<=g},s.$observe("max",function(e){g=h(e),l.$validate()})}}}function Mn(e,t,o,r){(r.$$hasNativeValidators=w(t[0].validity))&&r.$parsers.push(function(e){var o=t.prop("validity")||{};return o.badInput||o.typeMismatch?n:e})}function Bn(e,t,n,o,r){if(y(o)){if(e=e(o),!e.constant)throw wa("constexpr",n,o);return e(t)}return r}function Fn(e,t){return e="ngClass"+e,["$animate",function(n){function o(e,t){var n=[],o=0;e:for(;o<e.length;o++){for(var r=e[o],a=0;a<t.length;a++)if(r==t[a])continue e;n.push(r)}return n}function r(e){var t=[];return io(e)?(a(e,function(e){t=t.concat(r(e))}),t):x(e)?e.split(" "):w(e)?(a(e,function(e,n){e&&(t=t.concat(n.split(" ")))}),t):e}return{restrict:"AC",link:function(i,s,l){function c(e,t){var n=s.data("$classCounts")||ce(),o=[];return a(e,function(e){(t>0||n[e])&&(n[e]=(n[e]||0)+t,n[e]===+(t>0)&&o.push(e))}),s.data("$classCounts",n),o.join(" ")}function u(e){if(!0===t||i.$index%2===t){var a=r(e||[]);if(d){if(!L(e,d)){var u=r(d),p=o(a,u),a=o(u,a),p=c(p,1),a=c(a,-1);p&&p.length&&n.addClass(s,p),a&&a.length&&n.removeClass(s,a)}}else{var p=c(a,1);l.$addClass(p)}}d=R(e)}var d;i.$watch(l[e],u,!0),l.$observe("class",function(t){u(i.$eval(l[e]))}),"ngClass"!==e&&i.$watch("$index",function(n,o){var a=1&n;if(a!==(1&o)){var s=r(i.$eval(l[e]));a===t?(a=c(s,1),l.$addClass(a)):(a=c(s,-1),l.$removeClass(a))}})}}}]}function Un(e){function t(e,t){t&&!i[e]?(c.addClass(a,e),i[e]=!0):!t&&i[e]&&(c.removeClass(a,e),i[e]=!1)}function o(e,n){e=e?"-"+ne(e,"-"):"",t(ma+e,!0===n),t(ba+e,!1===n)}var r=e.ctrl,a=e.$element,i={},s=e.set,l=e.unset,c=e.$animate;i[ba]=!(i[ma]=a.hasClass(ma)),r.$setValidity=function(e,a,i){v(a)?(r.$pending||(r.$pending={}),s(r.$pending,e,i)):(r.$pending&&l(r.$pending,e,i),Vn(r.$pending)&&(r.$pending=n)),A(a)?a?(l(r.$error,e,i),s(r.$$success,e,i)):(s(r.$error,e,i),l(r.$$success,e,i)):(l(r.$error,e,i),l(r.$$success,e,i)),r.$pending?(t(ya,!0),r.$valid=r.$invalid=n,o("",null)):(t(ya,!1),r.$valid=Vn(r.$error),r.$invalid=!r.$valid,o("",r.$valid)),a=r.$pending&&r.$pending[e]?n:r.$error[e]?!1:r.$$success[e]?!0:null,o(e,a),r.$$parentForm.$setValidity(e,a,r)}}function Vn(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}var zn,Wn,Hn,Kn,Gn=/^\/(.+)\/([a-z]*)$/,Yn=Object.prototype.hasOwnProperty,Xn=function(e){return x(e)?e.toLowerCase():e},Zn=function(e){return x(e)?e.toUpperCase():e},Jn=[].slice,Qn=[].splice,eo=[].push,to=Object.prototype.toString,no=Object.getPrototypeOf,oo=o("ng"),ro=e.angular||(e.angular={}),ao=0;zn=t.documentMode,f.$inject=[],m.$inject=[];var io=Array.isArray,so=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/,lo=function(e){return x(e)?e.trim():e},co=function(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},uo=function(){if(!y(uo.rules)){var e=t.querySelector("[ng-csp]")||t.querySelector("[data-ng-csp]");if(e){var n=e.getAttribute("ng-csp")||e.getAttribute("data-ng-csp");uo.rules={noUnsafeEval:!n||-1!==n.indexOf("no-unsafe-eval"),noInlineStyle:!n||-1!==n.indexOf("no-inline-style")}}else{e=uo;try{new Function(""),n=!1}catch(o){n=!0}e.rules={noUnsafeEval:n,noInlineStyle:!1}}}return uo.rules},po=function(){if(y(po.name_))return po.name_;var e,n,o,r,a=fo.length;for(n=0;a>n;++n)if(o=fo[n],e=t.querySelector("["+o.replace(":","\\:")+"jq]")){r=e.getAttribute(o+"jq");break}return po.name_=r},ho=/:/g,fo=["ng-","data-ng-","ng:","x-ng-"],mo=/[A-Z]/g,bo=!1,go=3,vo={full:"1.5.0",major:1,minor:5,dot:0,codeName:"ennoblement-facilitation"};be.expando="ng339";var yo=be.cache={},wo=1;be._data=function(e){return this.cache[e[this.expando]]||{}};var _o=/([\:\-\_]+(.))/g,xo=/^moz([A-Z])/,Co={mouseleave:"mouseout",mouseenter:"mouseover"},$o=o("jqLite"),qo=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Eo=/<|&#?\w+;/,To=/<([\w:-]+)/,So=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Ao={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ao.optgroup=Ao.option,Ao.tbody=Ao.tfoot=Ao.colgroup=Ao.caption=Ao.thead,Ao.th=Ao.td;var Io=Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))},Do=be.prototype={ready:function(n){function o(){r||(r=!0,n())}var r=!1;"complete"===t.readyState?setTimeout(o):(this.on("DOMContentLoaded",o),be(e).on("load",o))},toString:function(){var e=[];return a(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return Wn(e>=0?this[e]:this[this.length+e])},length:0,push:eo,sort:[].sort,splice:[].splice},Po={};a("multiple selected checked disabled readOnly required open".split(" "),function(e){Po[Xn(e)]=e});var ko={};a("input select option textarea button form details".split(" "),function(e){ko[e]=!0});var Oo={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};a({data:xe,removeData:we,hasData:function(e){for(var t in yo[e.ng339])return!0;return!1},cleanData:function(e){for(var t=0,n=e.length;n>t;t++)we(e[t])}},function(e,t){be[t]=e}),a({data:xe,inheritedData:Se,scope:function(e){return Wn.data(e,"$scope")||Se(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return Wn.data(e,"$isolateScope")||Wn.data(e,"$isolateScopeNoTemplate")},controller:Te,injector:function(e){return Se(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:Ce,css:function(e,t,n){return t=pe(t),y(n)?void(e.style[t]=n):e.style[t]},attr:function(e,t,o){var r=e.nodeType;if(r!==go&&2!==r&&8!==r)if(r=Xn(t),Po[r]){if(!y(o))return e[t]||(e.attributes.getNamedItem(t)||f).specified?r:n;o?(e[t]=!0,e.setAttribute(t,r)):(e[t]=!1,e.removeAttribute(r))}else if(y(o))e.setAttribute(t,o);else if(e.getAttribute)return e=e.getAttribute(t,2),null===e?n:e},prop:function(e,t,n){return y(n)?void(e[t]=n):e[t]},text:function(){function e(e,t){if(v(t)){var n=e.nodeType;return 1===n||n===go?e.textContent:""}e.textContent=t}return e.$dv="",e}(),val:function(e,t){if(v(t)){if(e.multiple&&"select"===k(e)){var n=[];return a(e.options,function(e){e.selected&&n.push(e.value||e.text)}),0===n.length?null:n}return e.value}e.value=t},html:function(e,t){return v(t)?e.innerHTML:(ve(e,!0),void(e.innerHTML=t))},empty:Ae},function(e,t){be.prototype[t]=function(t,n){var o,r,a=this.length;if(e!==Ae&&v(2==e.length&&e!==Ce&&e!==Te?t:n)){if(w(t)){for(o=0;a>o;o++)if(e===xe)e(this[o],t);else for(r in t)e(this[o],r,t[r]);return this}for(o=e.$dv,a=v(o)?Math.min(a,1):a,r=0;a>r;r++){var i=e(this[r],t,n);o=o?o+i:i}return o}for(o=0;a>o;o++)e(this[o],t,n);return this}}),a({removeData:we,on:function(e,t,o,r){if(y(r))throw $o("onargs");if(he(e)){r=_e(e,!0);var a=r.events,i=r.handle;i||(i=r.handle=ke(e,a)),r=0<=t.indexOf(" ")?t.split(" "):[t];for(var s=r.length,l=function(t,n,r){var s=a[t];s||(s=a[t]=[],s.specialHandlerWrapper=n,"$destroy"===t||r||e.addEventListener(t,i,!1)),s.push(o)};s--;)t=r[s],Co[t]?(l(Co[t],je),l(t,n,!0)):l(t)}},off:ye,one:function(e,t,n){e=Wn(e),e.on(t,function o(){e.off(t,n),e.off(t,o)}),e.on(t,n)},replaceWith:function(e,t){var n,o=e.parentNode;ve(e),a(new be(t),function(t){n?o.insertBefore(t,n.nextSibling):o.replaceChild(t,e),n=t})},children:function(e){var t=[];return a(e.childNodes,function(e){1===e.nodeType&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(1===n||11===n){t=new be(t);for(var n=0,o=t.length;o>n;n++)e.appendChild(t[n])}},prepend:function(e,t){if(1===e.nodeType){var n=e.firstChild;a(new be(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){me(e,Wn(t).eq(0).clone()[0])},remove:Ie,detach:function(e){Ie(e,!0)},after:function(e,t){var n=e,o=e.parentNode;t=new be(t);for(var r=0,a=t.length;a>r;r++){var i=t[r];o.insertBefore(i,n.nextSibling),n=i}},addClass:qe,removeClass:$e,toggleClass:function(e,t,n){t&&a(t.split(" "),function(t){var o=n;v(o)&&(o=!Ce(e,t)),(o?qe:$e)(e,t)})},parent:function(e){return(e=e.parentNode)&&11!==e.nodeType?e:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:ge,triggerHandler:function(e,t,n){var o,r,i=t.type||t,s=_e(e);(s=(s=s&&s.events)&&s[i])&&(o={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:f,type:i,target:e},t.type&&(o=u(o,t)),t=R(s),r=n?[o].concat(n):[o],a(t,function(t){o.isImmediatePropagationStopped()||t.apply(e,r)}))}},function(e,t){be.prototype[t]=function(t,n,o){for(var r,a=0,i=this.length;i>a;a++)v(r)?(r=e(this[a],t,n,o),y(r)&&(r=Wn(r))):Ee(r,e(this[a],t,n,o));return y(r)?r:this},be.prototype.bind=be.prototype.on,be.prototype.unbind=be.prototype.off}),Ne.prototype={put:function(e,t){this[Le(e,this.nextUid)]=t},get:function(e){return this[Le(e,this.nextUid)]},remove:function(e){var t=this[e=Le(e,this.nextUid)];return delete this[e],t}};var jo=[function(){this.$get=[function(){return Ne}]}],Ro=/^([^\(]+?)=>/,Lo=/^[^\(]*\(\s*([^\)]*)\)/m,No=/,/,Mo=/^\s*(_?)(\S+?)\1\s*$/,Bo=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Fo=o("$injector");Fe.$$annotate=function(e,t,n){var o;if("function"==typeof e){if(!(o=e.$inject)){if(o=[],e.length){if(t)throw x(n)&&n||(n=e.name||Be(e)),Fo("strictdi",n);t=Me(e),a(t[1].split(No),function(e){e.replace(Mo,function(e,t,n){o.push(n)})})}e.$inject=o}}else io(e)?(t=e.length-1,ae(e[t],"fn"),o=e.slice(0,t)):ae(e,"fn",!0);return o};var Uo=o("$animate"),Vo=function(){this.$get=function(){}},zo=function(){var e=new Ne,t=[];this.$get=["$$AnimateRunner","$rootScope",function(n,o){function r(e,t,n){var o=!1;return t&&(t=x(t)?t.split(" "):io(t)?t:[],a(t,function(t){t&&(o=!0,e[t]=n)})),o}function i(){a(t,function(t){var n=e.get(t);if(n){var o=ze(t.attr("class")),r="",i="";a(n,function(e,t){e!==!!o[t]&&(e?r+=(r.length?" ":"")+t:i+=(i.length?" ":"")+t)}),a(t,function(e){r&&qe(e,r),i&&$e(e,i)}),e.remove(t)}}),t.length=0}return{enabled:f,on:f,off:f,pin:f,push:function(a,s,l,c){return c&&c(),l=l||{},l.from&&a.css(l.from),l.to&&a.css(l.to),(l.addClass||l.removeClass)&&(s=l.addClass,c=l.removeClass,l=e.get(a)||{},s=r(l,s,!0),c=r(l,c,!1),(s||c)&&(e.put(a,l),t.push(a),1===t.length&&o.$$postDigest(i))),a=new n,a.complete(),a}}}]},Wo=["$provide",function(e){var t=this;this.$$registeredAnimations=Object.create(null),this.register=function(n,o){if(n&&"."!==n.charAt(0))throw Uo("notcsel",n);var r=n+"-animation";t.$$registeredAnimations[n.substr(1)]=r,e.factory(r,o)},this.classNameFilter=function(e){if(1===arguments.length&&(this.$$classNameFilter=e instanceof RegExp?e:null)&&/(\s+|\/)ng-animate(\s+|\/)/.test(this.$$classNameFilter.toString()))throw Uo("nongcls","ng-animate");return this.$$classNameFilter},this.$get=["$$animateQueue",function(e){function t(e,t,n){if(n){var o;e:{for(o=0;o<n.length;o++){var r=n[o];if(1===r.nodeType){o=r;break e}}o=void 0}!o||o.parentNode||o.previousElementSibling||(n=null)}n?n.after(e):t.prepend(e)}return{on:e.on,off:e.off,pin:e.pin,enabled:e.enabled,cancel:function(e){e.end&&e.end()},enter:function(n,o,r,a){return o=o&&Wn(o),r=r&&Wn(r),o=o||r.parent(),t(n,o,r),e.push(n,"enter",We(a))},move:function(n,o,r,a){return o=o&&Wn(o),r=r&&Wn(r),o=o||r.parent(),t(n,o,r),e.push(n,"move",We(a))},leave:function(t,n){return e.push(t,"leave",We(n),function(){t.remove()})},addClass:function(t,n,o){return o=We(o),o.addClass=Ve(o.addclass,n),e.push(t,"addClass",o)},removeClass:function(t,n,o){return o=We(o),o.removeClass=Ve(o.removeClass,n),e.push(t,"removeClass",o)},setClass:function(t,n,o,r){return r=We(r),r.addClass=Ve(r.addClass,n),r.removeClass=Ve(r.removeClass,o),e.push(t,"setClass",r)},animate:function(t,n,o,r,a){return a=We(a),a.from=a.from?u(a.from,n):n,a.to=a.to?u(a.to,o):o,a.tempClasses=Ve(a.tempClasses,r||"ng-inline-animate"),e.push(t,"animate",a)}}}]}],Ho=function(){this.$get=["$$rAF",function(e){function t(t){n.push(t),1<n.length||e(function(){for(var e=0;e<n.length;e++)n[e]();n=[]})}var n=[];return function(){var e=!1;return t(function(){e=!0}),function(n){e?n():t(n)}}}]},Ko=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$document","$timeout",function(e,t,n,o,r){function i(e){this.setHost(e);var t=n();this._doneCallbacks=[],this._tick=function(e){var n=o[0];n&&n.hidden?r(e,0,!1):t(e)},this._state=0}return i.chain=function(e,t){function n(){o===e.length?t(!0):e[o](function(e){!1===e?t(!1):(o++,n())})}var o=0;n()},i.all=function(e,t){function n(n){r=r&&n,++o===e.length&&t(r)}var o=0,r=!0;a(e,function(e){e.done(n)})},i.prototype={setHost:function(e){this.host=e||{}},done:function(e){2===this._state?e():this._doneCallbacks.push(e)},progress:f,getPromise:function(){if(!this.promise){var t=this;this.promise=e(function(e,n){t.done(function(t){!1===t?n():e()})})}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},"catch":function(e){return this.getPromise()["catch"](e)},"finally":function(e){return this.getPromise()["finally"](e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;0===t._state&&(t._state=1,t._tick(function(){t._resolve(e)}))},_resolve:function(e){2!==this._state&&(a(this._doneCallbacks,function(t){t(e)}),this._doneCallbacks.length=0,this._state=2)}},i}]},Go=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(e,t,n){return function(t,o){function r(){return e(function(){a.addClass&&(t.addClass(a.addClass),a.addClass=null),a.removeClass&&(t.removeClass(a.removeClass),a.removeClass=null),a.to&&(t.css(a.to),a.to=null),i||s.complete(),i=!0}),s}var a=o||{};a.$$prepared||(a=j(a)),a.cleanupStyles&&(a.from=a.to=null),a.from&&(t.css(a.from),a.from=null);var i,s=new n;return{start:r,end:r}}}]},Yo=o("$compile");Xe.$inject=["$provide","$$sanitizeUriProvider"];var Xo=/^((?:x|data)[\:\-_])/i,Zo=o("$controller"),Jo=/^(\S+)(\s+as\s+([\w$]+))?$/,Qo=function(){this.$get=["$document",function(e){return function(t){return t?!t.nodeType&&t instanceof Wn&&(t=t[0]):t=e[0].body,t.offsetWidth+1}}]},er="application/json",tr={"Content-Type":er+";charset=utf-8"},nr=/^\[|^\{(?!\{)/,or={"[":/]$/,"{":/}$/},rr=/^\)\]\}',?\n/,ar=o("$http"),ir=function(e){return function(){throw ar("legacy",e)}},sr=ro.$interpolateMinErr=o("$interpolate");sr.throwNoconcat=function(e){throw sr("noconcat",e)},sr.interr=function(e,t){return sr("interr",e,t.toString())};var lr=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,cr={http:80,https:443,ftp:21},ur=o("$location"),dr={$$html5:!1,$$replace:!1,absUrl:Et("$$absUrl"),url:function(e){if(v(e))return this.$$url;var t=lr.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:Et("$$protocol"),host:Et("$$host"),port:Et("$$port"),path:Tt("$$path",function(e){return e=null!==e?e.toString():"","/"==e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(x(e)||C(e))e=e.toString(),this.$$search=K(e);else{if(!w(e))throw ur("isrcharg");e=j(e,{}),a(e,function(t,n){null==t&&delete e[n]}),this.$$search=e}break;default:v(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:Tt("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};a([qt,$t,Ct],function(e){e.prototype=Object.create(dr),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==Ct||!this.$$html5)throw ur("nostate");return this.$$state=v(t)?null:t,this}});var pr=o("$parse"),hr=Function.prototype.call,fr=Function.prototype.apply,mr=Function.prototype.bind,br=ce();a("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(e){br[e]=!0});var gr={n:"\n",f:"\f",r:"\r",t:"	",v:"\x0B","'":"'",'"':'"'},vr=function(e){this.options=e};vr.prototype={constructor:vr,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;)if(e=this.text.charAt(this.index),'"'===e||"'"===e)this.readString(e);else if(this.isNumber(e)||"."===e&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(e))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var t=e+this.peek(),n=t+this.peek(2),o=br[t],r=br[n];br[e]||o||r?(e=r?n:o?t:e,this.tokens.push({index:this.index,text:e,operator:!0}),this.index+=e.length):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(e,t){return-1!==t.indexOf(e)},peek:function(e){return e=e||1,this.index+e<this.text.length?this.text.charAt(this.index+e):!1},isNumber:function(e){return e>="0"&&"9">=e&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"	"===e||"\n"===e||"\x0B"===e||" "===e},isIdent:function(e){return e>="a"&&"z">=e||e>="A"&&"Z">=e||"_"===e||"$"===e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){throw n=n||this.index,t=y(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n,pr("lexerr",e,t,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=Xn(this.text.charAt(this.index));if("."==n||this.isNumber(n))e+=n;else{var o=this.peek();if("e"==n&&this.isExpOperator(o))e+=n;else if(this.isExpOperator(n)&&o&&this.isNumber(o)&&"e"==e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||o&&this.isNumber(o)||"e"!=e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){for(var e=this.index;this.index<this.text.length;){var t=this.text.charAt(this.index);if(!this.isIdent(t)&&!this.isNumber(t))break;this.index++}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",o=e,r=!1;this.index<this.text.length;){var a=this.text.charAt(this.index),o=o+a;if(r)"u"===a?(r=this.text.substring(this.index+1,this.index+5),r.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+r+"]"),this.index+=4,n+=String.fromCharCode(parseInt(r,16))):n+=gr[a]||a,r=!1;else if("\\"===a)r=!0;else{if(a===e)return this.index++,void this.tokens.push({index:t,text:o,constant:!0,value:n});n+=a}this.index++}this.throwError("Unterminated quote",t)}};var yr=function(e,t){this.lexer=e,this.options=t};yr.Program="Program",yr.ExpressionStatement="ExpressionStatement",yr.AssignmentExpression="AssignmentExpression",yr.ConditionalExpression="ConditionalExpression",yr.LogicalExpression="LogicalExpression",yr.BinaryExpression="BinaryExpression",yr.UnaryExpression="UnaryExpression",yr.CallExpression="CallExpression",yr.MemberExpression="MemberExpression",yr.Identifier="Identifier",yr.Literal="Literal",yr.ArrayExpression="ArrayExpression",yr.Property="Property",yr.ObjectExpression="ObjectExpression",yr.ThisExpression="ThisExpression",yr.LocalsExpression="LocalsExpression",yr.NGValueParameter="NGValueParameter",yr.prototype={ast:function(e){return this.text=e,this.tokens=this.lexer.lex(e),e=this.program(),0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e},program:function(){for(var e=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:yr.Program,body:e}},expressionStatement:function(){return{type:yr.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e=this.expression();this.expect("|");)e=this.filter(e);return e},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();return this.expect("=")&&(e={type:yr.AssignmentExpression,left:e,right:this.assignment(),operator:"="}),e},ternary:function(){var e,t,n=this.logicalOR();return this.expect("?")&&(e=this.expression(),this.consume(":"))?(t=this.expression(),{type:yr.ConditionalExpression,test:n,alternate:e,consequent:t}):n},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:yr.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:yr.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t={type:yr.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t={type:yr.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t={type:yr.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t={type:yr.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:yr.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e;this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.constants.hasOwnProperty(this.peek().text)?e=j(this.constants[this.consume().text]):this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());for(var t;t=this.expect("(","[",".");)"("===t.text?(e={type:yr.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(e={type:yr.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?e={type:yr.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){e=[e];for(var t={type:yr.CallExpression,callee:this.identifier(),arguments:e,filter:!0};this.expect(":");)e.push(this.expression());return t},parseArguments:function(){var e=[];if(")"!==this.peekToken().text)do e.push(this.expression());while(this.expect(","));return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:yr.Identifier,name:e.text}},constant:function(){return{type:yr.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:yr.ArrayExpression,elements:e}},object:function(){var e,t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;e={type:yr.Property,kind:"init"},this.peek().constant?e.key=this.constant():this.peek().identifier?e.key=this.identifier():this.throwError("invalid key",this.peek()),this.consume(":"),e.value=this.expression(),t.push(e)}while(this.expect(","));return this.consume("}"),{type:yr.ObjectExpression,properties:t}},throwError:function(e,t){throw pr("syntax",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw pr("ueoe",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw pr("ueoe",this.text);return this.tokens[0]},peek:function(e,t,n,o){return this.peekAhead(0,e,t,n,o)},peekAhead:function(e,t,n,o,r){if(this.tokens.length>e){e=this.tokens[e];var a=e.text;if(a===t||a===n||a===o||a===r||!(t||n||o||r))return e}return!1},expect:function(e,t,n,o){return(e=this.peek(e,t,n,o))?(this.tokens.shift(),e):!1},constants:{"true":{type:yr.Literal,value:!0},"false":{type:yr.Literal,value:!1},"null":{type:yr.Literal,value:null},undefined:{type:yr.Literal,value:n},"this":{type:yr.ThisExpression},$locals:{type:yr.LocalsExpression}}},Ut.prototype={compile:function(e,t){var o=this,r=this.astBuilder.ast(e);this.state={nextId:0,filters:{},expensiveChecks:t,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},Lt(r,o.$filter);var i,s="";return this.stage="assign",(i=Bt(r))&&(this.state.computing="assign",s=this.nextId(),this.recurse(i,s),this.return_(s),s="fn.assign="+this.generateFunction("assign","s,v,l")),i=Nt(r.body),o.stage="inputs",a(i,function(e,t){var n="fn"+t;o.state[n]={vars:[],body:[],own:{}},o.state.computing=n;var r=o.nextId();o.recurse(e,r),o.return_(r),o.state.inputs.push(n),e.watchId=t}),this.state.computing="fn",this.stage="main",this.recurse(r),s='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+s+this.watchFns()+"return fn;",s=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",s)(this.$filter,It,Pt,kt,Dt,Ot,jt,Rt,e),this.state=this.stage=n,s.literal=Ft(r),s.constant=r.constant,s},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,n=this;return a(t,function(t){e.push("var "+t+"="+n.generateFunction(t,"s"))}),t.length&&e.push("fn.inputs=["+t.join(",")+"];"),e.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var e=[],t=this;return a(this.state.filters,function(n,o){e.push(n+"=$filter("+t.escape(o)+")")}),e.length?"var "+e.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(e,t,o,r,i,s){var l,c,u,d,p=this;if(r=r||f,!s&&y(e.watchId))t=t||this.nextId(),this.if_("i",this.lazyAssign(t,this.computedMember("i",e.watchId)),this.lazyRecurse(e,t,o,r,i,!0));else switch(e.type){case yr.Program:a(e.body,function(t,o){p.recurse(t.expression,n,n,function(e){c=e}),o!==e.body.length-1?p.current().body.push(c,";"):p.return_(c)});break;case yr.Literal:d=this.escape(e.value),this.assign(t,d),r(d);break;case yr.UnaryExpression:this.recurse(e.argument,n,n,function(e){c=e}),d=e.operator+"("+this.ifDefined(c,0)+")",this.assign(t,d),r(d);break;case yr.BinaryExpression:this.recurse(e.left,n,n,function(e){l=e}),this.recurse(e.right,n,n,function(e){c=e}),d="+"===e.operator?this.plus(l,c):"-"===e.operator?this.ifDefined(l,0)+e.operator+this.ifDefined(c,0):"("+l+")"+e.operator+"("+c+")",
this.assign(t,d),r(d);break;case yr.LogicalExpression:t=t||this.nextId(),p.recurse(e.left,t),p.if_("&&"===e.operator?t:p.not(t),p.lazyRecurse(e.right,t)),r(t);break;case yr.ConditionalExpression:t=t||this.nextId(),p.recurse(e.test,t),p.if_(t,p.lazyRecurse(e.alternate,t),p.lazyRecurse(e.consequent,t)),r(t);break;case yr.Identifier:t=t||this.nextId(),o&&(o.context="inputs"===p.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",e.name)+"?l:s"),o.computed=!1,o.name=e.name),It(e.name),p.if_("inputs"===p.stage||p.not(p.getHasOwnProperty("l",e.name)),function(){p.if_("inputs"===p.stage||"s",function(){i&&1!==i&&p.if_(p.not(p.nonComputedMember("s",e.name)),p.lazyAssign(p.nonComputedMember("s",e.name),"{}")),p.assign(t,p.nonComputedMember("s",e.name))})},t&&p.lazyAssign(t,p.nonComputedMember("l",e.name))),(p.state.expensiveChecks||zt(e.name))&&p.addEnsureSafeObject(t),r(t);break;case yr.MemberExpression:l=o&&(o.context=this.nextId())||this.nextId(),t=t||this.nextId(),p.recurse(e.object,l,n,function(){p.if_(p.notNull(l),function(){i&&1!==i&&p.addEnsureSafeAssignContext(l),e.computed?(c=p.nextId(),p.recurse(e.property,c),p.getStringValue(c),p.addEnsureSafeMemberName(c),i&&1!==i&&p.if_(p.not(p.computedMember(l,c)),p.lazyAssign(p.computedMember(l,c),"{}")),d=p.ensureSafeObject(p.computedMember(l,c)),p.assign(t,d),o&&(o.computed=!0,o.name=c)):(It(e.property.name),i&&1!==i&&p.if_(p.not(p.nonComputedMember(l,e.property.name)),p.lazyAssign(p.nonComputedMember(l,e.property.name),"{}")),d=p.nonComputedMember(l,e.property.name),(p.state.expensiveChecks||zt(e.property.name))&&(d=p.ensureSafeObject(d)),p.assign(t,d),o&&(o.computed=!1,o.name=e.property.name))},function(){p.assign(t,"undefined")}),r(t)},!!i);break;case yr.CallExpression:t=t||this.nextId(),e.filter?(c=p.filter(e.callee.name),u=[],a(e.arguments,function(e){var t=p.nextId();p.recurse(e,t),u.push(t)}),d=c+"("+u.join(",")+")",p.assign(t,d),r(t)):(c=p.nextId(),l={},u=[],p.recurse(e.callee,c,l,function(){p.if_(p.notNull(c),function(){p.addEnsureSafeFunction(c),a(e.arguments,function(e){p.recurse(e,p.nextId(),n,function(e){u.push(p.ensureSafeObject(e))})}),l.name?(p.state.expensiveChecks||p.addEnsureSafeObject(l.context),d=p.member(l.context,l.name,l.computed)+"("+u.join(",")+")"):d=c+"("+u.join(",")+")",d=p.ensureSafeObject(d),p.assign(t,d)},function(){p.assign(t,"undefined")}),r(t)}));break;case yr.AssignmentExpression:if(c=this.nextId(),l={},!Mt(e.left))throw pr("lval");this.recurse(e.left,n,l,function(){p.if_(p.notNull(l.context),function(){p.recurse(e.right,c),p.addEnsureSafeObject(p.member(l.context,l.name,l.computed)),p.addEnsureSafeAssignContext(l.context),d=p.member(l.context,l.name,l.computed)+e.operator+c,p.assign(t,d),r(t||d)})},1);break;case yr.ArrayExpression:u=[],a(e.elements,function(e){p.recurse(e,p.nextId(),n,function(e){u.push(e)})}),d="["+u.join(",")+"]",this.assign(t,d),r(d);break;case yr.ObjectExpression:u=[],a(e.properties,function(e){p.recurse(e.value,p.nextId(),n,function(t){u.push(p.escape(e.key.type===yr.Identifier?e.key.name:""+e.key.value)+":"+t)})}),d="{"+u.join(",")+"}",this.assign(t,d),r(d);break;case yr.ThisExpression:this.assign(t,"s"),r("s");break;case yr.LocalsExpression:this.assign(t,"l"),r("l");break;case yr.NGValueParameter:this.assign(t,"v"),r("v")}},getHasOwnProperty:function(e,t){var n=e+"."+t,o=this.current().own;return o.hasOwnProperty(n)||(o[n]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),o[n]},assign:function(e,t){return e?(this.current().body.push(e,"=",t,";"),e):void 0},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,n){if(!0===e)t();else{var o=this.current().body;o.push("if(",e,"){"),t(),o.push("}"),n&&(o.push("else{"),n(),o.push("}"))}},not:function(e){return"!("+e+")"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){return e+"."+t},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,n){return n?this.computedMember(e,t):this.nonComputedMember(e,t)},addEnsureSafeObject:function(e){this.current().body.push(this.ensureSafeObject(e),";")},addEnsureSafeMemberName:function(e){this.current().body.push(this.ensureSafeMemberName(e),";")},addEnsureSafeFunction:function(e){this.current().body.push(this.ensureSafeFunction(e),";")},addEnsureSafeAssignContext:function(e){this.current().body.push(this.ensureSafeAssignContext(e),";")},ensureSafeObject:function(e){return"ensureSafeObject("+e+",text)"},ensureSafeMemberName:function(e){return"ensureSafeMemberName("+e+",text)"},ensureSafeFunction:function(e){return"ensureSafeFunction("+e+",text)"},getStringValue:function(e){this.assign(e,"getStringValue("+e+")")},ensureSafeAssignContext:function(e){return"ensureSafeAssignContext("+e+",text)"},lazyRecurse:function(e,t,n,o,r,a){var i=this;return function(){i.recurse(e,t,n,o,r,a)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(x(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(C(e))return e.toString();if(!0===e)return"true";if(!1===e)return"false";if(null===e)return"null";if("undefined"==typeof e)return"undefined";throw pr("esc")},nextId:function(e,t){var n="v"+this.state.nextId++;return e||this.current().vars.push(n+(t?"="+t:"")),n},current:function(){return this.state[this.state.computing]}},Vt.prototype={compile:function(e,t){var n=this,o=this.astBuilder.ast(e);this.expression=e,this.expensiveChecks=t,Lt(o,n.$filter);var r,i;(r=Bt(o))&&(i=this.recurse(r)),r=Nt(o.body);var s;r&&(s=[],a(r,function(e,t){var o=n.recurse(e);e.input=o,s.push(o),e.watchId=t}));var l=[];return a(o.body,function(e){l.push(n.recurse(e.expression))}),r=0===o.body.length?function(){}:1===o.body.length?l[0]:function(e,t){var n;return a(l,function(o){n=o(e,t)}),n},i&&(r.assign=function(e,t,n){return i(e,n,t)}),s&&(r.inputs=s),r.literal=Ft(o),r.constant=o.constant,r},recurse:function(e,t,o){var r,i,s,l=this;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case yr.Literal:return this.value(e.value,t);case yr.UnaryExpression:return i=this.recurse(e.argument),this["unary"+e.operator](i,t);case yr.BinaryExpression:return r=this.recurse(e.left),i=this.recurse(e.right),this["binary"+e.operator](r,i,t);case yr.LogicalExpression:return r=this.recurse(e.left),i=this.recurse(e.right),this["binary"+e.operator](r,i,t);case yr.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),t);case yr.Identifier:return It(e.name,l.expression),l.identifier(e.name,l.expensiveChecks||zt(e.name),t,o,l.expression);case yr.MemberExpression:return r=this.recurse(e.object,!1,!!o),e.computed||(It(e.property.name,l.expression),i=e.property.name),e.computed&&(i=this.recurse(e.property)),e.computed?this.computedMember(r,i,t,o,l.expression):this.nonComputedMember(r,i,l.expensiveChecks,t,o,l.expression);case yr.CallExpression:return s=[],a(e.arguments,function(e){s.push(l.recurse(e))}),e.filter&&(i=this.$filter(e.callee.name)),e.filter||(i=this.recurse(e.callee,!0)),e.filter?function(e,o,r,a){for(var l=[],c=0;c<s.length;++c)l.push(s[c](e,o,r,a));return e=i.apply(n,l,a),t?{context:n,name:n,value:e}:e}:function(e,n,o,r){var a,c=i(e,n,o,r);if(null!=c.value){Pt(c.context,l.expression),kt(c.value,l.expression),a=[];for(var u=0;u<s.length;++u)a.push(Pt(s[u](e,n,o,r),l.expression));a=Pt(c.value.apply(c.context,a),l.expression)}return t?{value:a}:a};case yr.AssignmentExpression:return r=this.recurse(e.left,!0,1),i=this.recurse(e.right),function(e,n,o,a){var s=r(e,n,o,a);return e=i(e,n,o,a),Pt(s.value,l.expression),Ot(s.context),s.context[s.name]=e,t?{value:e}:e};case yr.ArrayExpression:return s=[],a(e.elements,function(e){s.push(l.recurse(e))}),function(e,n,o,r){for(var a=[],i=0;i<s.length;++i)a.push(s[i](e,n,o,r));return t?{value:a}:a};case yr.ObjectExpression:return s=[],a(e.properties,function(e){s.push({key:e.key.type===yr.Identifier?e.key.name:""+e.key.value,value:l.recurse(e.value)})}),function(e,n,o,r){for(var a={},i=0;i<s.length;++i)a[s[i].key]=s[i].value(e,n,o,r);return t?{value:a}:a};case yr.ThisExpression:return function(e){return t?{value:e}:e};case yr.LocalsExpression:return function(e,n){return t?{value:n}:n};case yr.NGValueParameter:return function(e,n,o,r){return t?{value:o}:o}}},"unary+":function(e,t){return function(n,o,r,a){return n=e(n,o,r,a),n=y(n)?+n:0,t?{value:n}:n}},"unary-":function(e,t){return function(n,o,r,a){return n=e(n,o,r,a),n=y(n)?-n:0,t?{value:n}:n}},"unary!":function(e,t){return function(n,o,r,a){return n=!e(n,o,r,a),t?{value:n}:n}},"binary+":function(e,t,n){return function(o,r,a,i){var s=e(o,r,a,i);return o=t(o,r,a,i),s=Rt(s,o),n?{value:s}:s}},"binary-":function(e,t,n){return function(o,r,a,i){var s=e(o,r,a,i);return o=t(o,r,a,i),s=(y(s)?s:0)-(y(o)?o:0),n?{value:s}:s}},"binary*":function(e,t,n){return function(o,r,a,i){return o=e(o,r,a,i)*t(o,r,a,i),n?{value:o}:o}},"binary/":function(e,t,n){return function(o,r,a,i){return o=e(o,r,a,i)/t(o,r,a,i),n?{value:o}:o}},"binary%":function(e,t,n){return function(o,r,a,i){return o=e(o,r,a,i)%t(o,r,a,i),n?{value:o}:o}},"binary===":function(e,t,n){return function(o,r,a,i){return o=e(o,r,a,i)===t(o,r,a,i),n?{value:o}:o}},"binary!==":function(e,t,n){return function(o,r,a,i){return o=e(o,r,a,i)!==t(o,r,a,i),n?{value:o}:o}},"binary==":function(e,t,n){return function(o,r,a,i){return o=e(o,r,a,i)==t(o,r,a,i),n?{value:o}:o}},"binary!=":function(e,t,n){return function(o,r,a,i){return o=e(o,r,a,i)!=t(o,r,a,i),n?{value:o}:o}},"binary<":function(e,t,n){return function(o,r,a,i){return o=e(o,r,a,i)<t(o,r,a,i),n?{value:o}:o}},"binary>":function(e,t,n){return function(o,r,a,i){return o=e(o,r,a,i)>t(o,r,a,i),n?{value:o}:o}},"binary<=":function(e,t,n){return function(o,r,a,i){return o=e(o,r,a,i)<=t(o,r,a,i),n?{value:o}:o}},"binary>=":function(e,t,n){return function(o,r,a,i){return o=e(o,r,a,i)>=t(o,r,a,i),n?{value:o}:o}},"binary&&":function(e,t,n){return function(o,r,a,i){return o=e(o,r,a,i)&&t(o,r,a,i),n?{value:o}:o}},"binary||":function(e,t,n){return function(o,r,a,i){return o=e(o,r,a,i)||t(o,r,a,i),n?{value:o}:o}},"ternary?:":function(e,t,n,o){return function(r,a,i,s){return r=e(r,a,i,s)?t(r,a,i,s):n(r,a,i,s),o?{value:r}:r}},value:function(e,t){return function(){return t?{context:n,name:n,value:e}:e}},identifier:function(e,t,o,r,a){return function(i,s,l,c){return i=s&&e in s?s:i,r&&1!==r&&i&&!i[e]&&(i[e]={}),s=i?i[e]:n,t&&Pt(s,a),o?{context:i,name:e,value:s}:s}},computedMember:function(e,t,n,o,r){return function(a,i,s,l){var c,u,d=e(a,i,s,l);return null!=d&&(c=t(a,i,s,l),c+="",It(c,r),o&&1!==o&&(Ot(d),d&&!d[c]&&(d[c]={})),u=d[c],Pt(u,r)),n?{context:d,name:c,value:u}:u}},nonComputedMember:function(e,t,o,r,a,i){return function(s,l,c,u){return s=e(s,l,c,u),a&&1!==a&&(Ot(s),s&&!s[t]&&(s[t]={})),l=null!=s?s[t]:n,(o||zt(t))&&Pt(l,i),r?{context:s,name:t,value:l}:l}},inputs:function(e,t){return function(n,o,r,a){return a?a[t]:e(n,o,r)}}};var wr=function(e,t,n){this.lexer=e,this.$filter=t,this.options=n,this.ast=new yr(this.lexer),this.astCompiler=n.csp?new Vt(this.ast,t):new Ut(this.ast,t)};wr.prototype={constructor:wr,parse:function(e){return this.astCompiler.compile(e,this.options.expensiveChecks)}};var _r=Object.prototype.valueOf,xr=o("$sce"),Cr={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Yo=o("$compile"),$r=t.createElement("a"),qr=ln(e.location.href);dn.$inject=["$document"],hn.$inject=["$provide"];var Er=22,Tr=".",Sr="0";vn.$inject=["$locale"],yn.$inject=["$locale"];var Ar={yyyy:$n("FullYear",4),yy:$n("FullYear",2,0,!0),y:$n("FullYear",1),MMMM:qn("Month"),MMM:qn("Month",!0),MM:$n("Month",2,1),M:$n("Month",1,1),dd:$n("Date",2),d:$n("Date",1),HH:$n("Hours",2),H:$n("Hours",1),hh:$n("Hours",2,-12),h:$n("Hours",1,-12),mm:$n("Minutes",2),m:$n("Minutes",1),ss:$n("Seconds",2),s:$n("Seconds",1),sss:$n("Milliseconds",3),EEEE:qn("Day"),EEE:qn("Day",!0),a:function(e,t){return 12>e.getHours()?t.AMPMS[0]:t.AMPMS[1]},Z:function(e,t,n){return e=-1*n,e=(e>=0?"+":"")+(Cn(Math[e>0?"floor":"ceil"](e/60),2)+Cn(Math.abs(e%60),2))},ww:Tn(2),w:Tn(1),G:Sn,GG:Sn,GGG:Sn,GGGG:function(e,t){return 0>=e.getFullYear()?t.ERANAMES[0]:t.ERANAMES[1]}},Ir=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,Dr=/^\-?\d+$/;An.$inject=["$locale"];var Pr=b(Xn),kr=b(Zn);Pn.$inject=["$parse"];var Or=b({restrict:"E",compile:function(e,t){return t.href||t.xlinkHref?void 0:function(e,t){if("a"===t[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===to.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}}),jr={};a(Po,function(e,t){function n(e,n,r){e.$watch(r[o],function(e){r.$set(t,!!e)})}if("multiple"!=e){var o=Ze("ng-"+t),r=n;"checked"===e&&(r=function(e,t,r){r.ngModel!==r[o]&&n(e,t,r)}),jr[o]=function(){return{restrict:"A",priority:100,link:r}}}}),a(Oo,function(e,t){jr[t]=function(){return{priority:100,link:function(e,n,o){return"ngPattern"===t&&"/"==o.ngPattern.charAt(0)&&(n=o.ngPattern.match(Gn))?void o.$set("ngPattern",new RegExp(n[1],n[2])):void e.$watch(o[t],function(e){o.$set(t,e)})}}}}),a(["src","srcset","href"],function(e){var t=Ze("ng-"+e);jr[t]=function(){return{priority:99,link:function(n,o,r){var a=e,i=e;"href"===e&&"[object SVGAnimatedString]"===to.call(o.prop("href"))&&(i="xlinkHref",r.$attr[i]="xlink:href",a=null),r.$observe(t,function(t){t?(r.$set(i,t),zn&&a&&o.prop(a,r[i])):"href"===e&&r.$set(i,null)})}}}});var Rr={$addControl:f,$$renameControl:function(e,t){e.$name=t},$removeControl:f,$setValidity:f,$setDirty:f,$setPristine:f,$setSubmitted:f};On.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var Lr=function(e){return["$timeout","$parse",function(t,o){function r(e){return""===e?o('this[""]').assign:o(e).assign||f}return{name:"form",restrict:e?"EAC":"E",require:["form","^^?form"],controller:On,compile:function(o,a){o.addClass(ga).addClass(ma);var i=a.name?"name":e&&a.ngForm?"ngForm":!1;return{pre:function(e,o,a,s){var l=s[0];if(!("action"in a)){var c=function(t){e.$apply(function(){l.$commitViewValue(),l.$setSubmitted()}),t.preventDefault()};o[0].addEventListener("submit",c,!1),o.on("$destroy",function(){t(function(){o[0].removeEventListener("submit",c,!1)},0,!1)})}(s[1]||l.$$parentForm).$addControl(l);var d=i?r(l.$name):f;i&&(d(e,l),a.$observe(i,function(t){l.$name!==t&&(d(e,n),l.$$parentForm.$$renameControl(l,t),(d=r(l.$name))(e,l))})),o.on("$destroy",function(){l.$$parentForm.$removeControl(l),d(e,n),u(l,Rr)})}}}}}]},Nr=Lr(),Mr=Lr(!0),Br=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,Fr=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:\/?#]+|\[[a-f\d:]+\])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,Ur=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,Vr=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,zr=/^(\d{4})-(\d{2})-(\d{2})$/,Wr=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Hr=/^(\d{4})-W(\d\d)$/,Kr=/^(\d{4})-(\d\d)$/,Gr=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Yr={text:function(e,t,n,o,r,a){Rn(e,t,n,o,r,a),jn(o)},date:Nn("date",zr,Ln(zr,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":Nn("datetimelocal",Wr,Ln(Wr,"yyyy MM dd HH mm ss sss".split(" ")),"yyyy-MM-ddTHH:mm:ss.sss"),time:Nn("time",Gr,Ln(Gr,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:Nn("week",Hr,function(e,t){if($(e))return e;if(x(e)){Hr.lastIndex=0;var n=Hr.exec(e);if(n){var o=+n[1],r=+n[2],a=n=0,i=0,s=0,l=En(o),r=7*(r-1);return t&&(n=t.getHours(),a=t.getMinutes(),i=t.getSeconds(),s=t.getMilliseconds()),new Date(o,0,l.getDate()+r,n,a,i,s)}}return NaN},"yyyy-Www"),month:Nn("month",Kr,Ln(Kr,["yyyy","MM"]),"yyyy-MM"),number:function(e,t,o,r,a,i){if(Mn(e,t,o,r),Rn(e,t,o,r,a,i),r.$$parserName="number",r.$parsers.push(function(e){return r.$isEmpty(e)?null:Vr.test(e)?parseFloat(e):n}),r.$formatters.push(function(e){if(!r.$isEmpty(e)){if(!C(e))throw wa("numfmt",e);e=e.toString()}return e}),y(o.min)||o.ngMin){var s;r.$validators.min=function(e){return r.$isEmpty(e)||v(s)||e>=s},o.$observe("min",function(e){y(e)&&!C(e)&&(e=parseFloat(e,10)),s=C(e)&&!isNaN(e)?e:n,r.$validate()})}if(y(o.max)||o.ngMax){var l;r.$validators.max=function(e){return r.$isEmpty(e)||v(l)||l>=e},o.$observe("max",function(e){y(e)&&!C(e)&&(e=parseFloat(e,10)),l=C(e)&&!isNaN(e)?e:n,r.$validate()})}},url:function(e,t,n,o,r,a){Rn(e,t,n,o,r,a),jn(o),o.$$parserName="url",o.$validators.url=function(e,t){var n=e||t;return o.$isEmpty(n)||Fr.test(n)}},email:function(e,t,n,o,r,a){Rn(e,t,n,o,r,a),jn(o),o.$$parserName="email",o.$validators.email=function(e,t){var n=e||t;return o.$isEmpty(n)||Ur.test(n)}},radio:function(e,t,n,o){v(n.name)&&t.attr("name",++ao),t.on("click",function(e){t[0].checked&&o.$setViewValue(n.value,e&&e.type)}),o.$render=function(){t[0].checked=n.value==o.$viewValue},n.$observe("value",o.$render)},checkbox:function(e,t,n,o,r,a,i,s){var l=Bn(s,e,"ngTrueValue",n.ngTrueValue,!0),c=Bn(s,e,"ngFalseValue",n.ngFalseValue,!1);t.on("click",function(e){o.$setViewValue(t[0].checked,e&&e.type)}),o.$render=function(){t[0].checked=o.$viewValue},o.$isEmpty=function(e){return!1===e},o.$formatters.push(function(e){return L(e,l)}),o.$parsers.push(function(e){return e?l:c})},hidden:f,button:f,submit:f,reset:f,file:f},Xr=["$browser","$sniffer","$filter","$parse",function(e,t,n,o){return{restrict:"E",require:["?ngModel"],link:{pre:function(r,a,i,s){s[0]&&(Yr[Xn(i.type)]||Yr.text)(r,a,i,s[0],t,e,n,o)}}}}],Zr=/^(true|false|\d+)$/,Jr=function(){return{restrict:"A",priority:100,compile:function(e,t){return Zr.test(t.ngValue)?function(e,t,n){n.$set("value",e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,function(e){n.$set("value",e)})}}}},Qr=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,n,o){e.$$addBindingInfo(n,o.ngBind),n=n[0],t.$watch(o.ngBind,function(e){n.textContent=v(e)?"":e})}}}}],ea=["$interpolate","$compile",function(e,t){return{compile:function(n){return t.$$addBindingClass(n),function(n,o,r){n=e(o.attr(r.$attr.ngBindTemplate)),t.$$addBindingInfo(o,n.expressions),o=o[0],r.$observe("ngBindTemplate",function(e){o.textContent=v(e)?"":e})}}}}],ta=["$sce","$parse","$compile",function(e,t,n){return{restrict:"A",compile:function(o,r){var a=t(r.ngBindHtml),i=t(r.ngBindHtml,function(e){return(e||"").toString()});return n.$$addBindingClass(o),function(t,o,r){n.$$addBindingInfo(o,r.ngBindHtml),t.$watch(i,function(){o.html(e.getTrustedHtml(a(t))||"")})}}}}],na=b({restrict:"A",require:"ngModel",link:function(e,t,n,o){o.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),oa=Fn("",!0),ra=Fn("Odd",0),aa=Fn("Even",1),ia=kn({compile:function(e,t){t.$set("ngCloak",n),e.removeClass("ng-cloak")}}),sa=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],la={},ca={blur:!0,focus:!0};a("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=Ze("ng-"+e);la[t]=["$parse","$rootScope",function(n,o){return{restrict:"A",compile:function(r,a){var i=n(a[t],null,!0);return function(t,n){n.on(e,function(n){var r=function(){i(t,{$event:n})};ca[e]&&o.$$phase?t.$evalAsync(r):t.$apply(r)})}}}}]});var ua=["$animate",function(e){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,o,r,a,i){var s,l,c;n.$watch(r.ngIf,function(n){n?l||i(function(n,a){l=a,n[n.length++]=t.createComment(" end ngIf: "+r.ngIf+" "),s={clone:n},e.enter(n,o.parent(),o)}):(c&&(c.remove(),c=null),l&&(l.$destroy(),l=null),s&&(c=le(s.clone),e.leave(c).then(function(){c=null}),s=null))})}}}],da=["$templateRequest","$anchorScroll","$animate",function(e,t,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:ro.noop,compile:function(o,r){var a=r.ngInclude||r.src,i=r.onload||"",s=r.autoscroll;return function(o,r,l,c,u){var d,p,h,f=0,m=function(){p&&(p.remove(),p=null),d&&(d.$destroy(),d=null),h&&(n.leave(h).then(function(){p=null}),p=h,h=null)};o.$watch(a,function(a){var l=function(){!y(s)||s&&!o.$eval(s)||t()},p=++f;a?(e(a,!0).then(function(e){if(!o.$$destroyed&&p===f){var t=o.$new();c.template=e,e=u(t,function(e){m(),n.enter(e,null,r).then(l)}),d=t,h=e,d.$emit("$includeContentLoaded",a),o.$eval(i)}},function(){o.$$destroyed||p!==f||(m(),o.$emit("$includeContentError",a))}),o.$emit("$includeContentRequested",a)):(m(),c.template=null)})}}}}],pa=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,o,r,a){to.call(o[0]).match(/SVG/)?(o.empty(),e(fe(a.template,t).childNodes)(n,function(e){o.append(e)},{futureParentElement:o})):(o.html(a.template),e(o.contents())(n))}}}],ha=kn({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),fa=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,o,r){var i=t.attr(o.$attr.ngList)||", ",s="false"!==o.ngTrim,l=s?lo(i):i;r.$parsers.push(function(e){if(!v(e)){var t=[];return e&&a(e.split(l),function(e){e&&t.push(s?lo(e):e)}),t}}),r.$formatters.push(function(e){return io(e)?e.join(i):n}),r.$isEmpty=function(e){return!e||!e.length}}}},ma="ng-valid",ba="ng-invalid",ga="ng-pristine",va="ng-dirty",ya="ng-pending",wa=o("ngModel"),_a=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(e,t,o,r,i,s,l,c,u,d){this.$modelValue=this.$viewValue=Number.NaN,this.$$rawModelValue=n,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=n,this.$name=d(o.name||"",!1)(e),this.$$parentForm=Rr;var p,h=i(o.ngModel),m=h.assign,b=h,g=m,w=null,_=this;this.$$setOptions=function(e){if((_.$options=e)&&e.getterSetter){var t=i(o.ngModel+"()"),n=i(o.ngModel+"($$$p)");b=function(e){var n=h(e);return q(n)&&(n=t(e)),n},g=function(e,t){q(h(e))?n(e,{$$$p:_.$modelValue}):m(e,_.$modelValue)}}else if(!h.assign)throw wa("nonassign",o.ngModel,W(r))},this.$render=f,this.$isEmpty=function(e){return v(e)||""===e||null===e||e!==e},this.$$updateEmptyClasses=function(e){_.$isEmpty(e)?(s.removeClass(r,"ng-not-empty"),s.addClass(r,"ng-empty")):(s.removeClass(r,"ng-empty"),s.addClass(r,"ng-not-empty"))};var x=0;Un({ctrl:this,$element:r,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]},$animate:s}),this.$setPristine=function(){_.$dirty=!1,_.$pristine=!0,s.removeClass(r,va),s.addClass(r,ga)},this.$setDirty=function(){_.$dirty=!0,_.$pristine=!1,s.removeClass(r,ga),s.addClass(r,va),_.$$parentForm.$setDirty()},this.$setUntouched=function(){_.$touched=!1,_.$untouched=!0,s.setClass(r,"ng-untouched","ng-touched")},this.$setTouched=function(){_.$touched=!0,_.$untouched=!1,s.setClass(r,"ng-touched","ng-untouched")},this.$rollbackViewValue=function(){l.cancel(w),_.$viewValue=_.$$lastCommittedViewValue,_.$render()},this.$validate=function(){if(!C(_.$modelValue)||!isNaN(_.$modelValue)){var e=_.$$rawModelValue,t=_.$valid,o=_.$modelValue,r=_.$options&&_.$options.allowInvalid;_.$$runValidators(e,_.$$lastCommittedViewValue,function(a){r||t===a||(_.$modelValue=a?e:n,_.$modelValue!==o&&_.$$writeModelToScope())})}},this.$$runValidators=function(e,t,o){function r(){var n=!0;return a(_.$validators,function(o,r){var a=o(e,t);n=n&&a,s(r,a)}),n?!0:(a(_.$asyncValidators,function(e,t){s(t,null)}),!1)}function i(){var o=[],r=!0;a(_.$asyncValidators,function(a,i){var l=a(e,t);if(!l||!q(l.then))throw wa("nopromise",l);s(i,n),o.push(l.then(function(){s(i,!0)},function(e){r=!1,s(i,!1)}))}),o.length?u.all(o).then(function(){l(r)},f):l(!0)}function s(e,t){c===x&&_.$setValidity(e,t)}function l(e){c===x&&o(e)}x++;var c=x;(function(){var e=_.$$parserName||"parse";return v(p)?(s(e,null),!0):(p||(a(_.$validators,function(e,t){s(t,null)}),a(_.$asyncValidators,function(e,t){s(t,null)})),s(e,p),p)})()&&r()?i():l(!1)},this.$commitViewValue=function(){var e=_.$viewValue;l.cancel(w),(_.$$lastCommittedViewValue!==e||""===e&&_.$$hasNativeValidators)&&(_.$$updateEmptyClasses(e),_.$$lastCommittedViewValue=e,_.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){var t=_.$$lastCommittedViewValue;if(p=v(t)?n:!0)for(var o=0;o<_.$parsers.length;o++)if(t=_.$parsers[o](t),v(t)){p=!1;break}C(_.$modelValue)&&isNaN(_.$modelValue)&&(_.$modelValue=b(e));var r=_.$modelValue,a=_.$options&&_.$options.allowInvalid;_.$$rawModelValue=t,a&&(_.$modelValue=t,_.$modelValue!==r&&_.$$writeModelToScope()),_.$$runValidators(t,_.$$lastCommittedViewValue,function(e){a||(_.$modelValue=e?t:n,_.$modelValue!==r&&_.$$writeModelToScope())})},this.$$writeModelToScope=function(){g(e,_.$modelValue),a(_.$viewChangeListeners,function(e){try{e()}catch(n){t(n)}})},this.$setViewValue=function(e,t){_.$viewValue=e,_.$options&&!_.$options.updateOnDefault||_.$$debounceViewValueCommit(t)},this.$$debounceViewValueCommit=function(t){var n=0,o=_.$options;o&&y(o.debounce)&&(o=o.debounce,C(o)?n=o:C(o[t])?n=o[t]:C(o["default"])&&(n=o["default"])),l.cancel(w),n?w=l(function(){_.$commitViewValue()},n):c.$$phase?_.$commitViewValue():e.$apply(function(){_.$commitViewValue()})},e.$watch(function(){var t=b(e);if(t!==_.$modelValue&&(_.$modelValue===_.$modelValue||t===t)){_.$modelValue=_.$$rawModelValue=t,p=n;for(var o=_.$formatters,r=o.length,a=t;r--;)a=o[r](a);_.$viewValue!==a&&(_.$$updateEmptyClasses(a),_.$viewValue=_.$$lastCommittedViewValue=a,_.$render(),_.$$runValidators(t,a,f))}return t})}],xa=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:_a,priority:1,compile:function(t){return t.addClass(ga).addClass("ng-untouched").addClass(ma),{pre:function(e,t,n,o){var r=o[0];t=o[1]||r.$$parentForm,r.$$setOptions(o[2]&&o[2].$options),t.$addControl(r),n.$observe("name",function(e){r.$name!==e&&r.$$parentForm.$$renameControl(r,e)}),e.$on("$destroy",function(){r.$$parentForm.$removeControl(r)})},post:function(t,n,o,r){var a=r[0];a.$options&&a.$options.updateOn&&n.on(a.$options.updateOn,function(e){a.$$debounceViewValueCommit(e&&e.type)}),n.on("blur",function(n){a.$touched||(e.$$phase?t.$evalAsync(a.$setTouched):t.$apply(a.$setTouched))})}}}}}],Ca=/(\s+|^)default(\s+|$)/,$a=function(){return{restrict:"A",controller:["$scope","$attrs",function(e,t){var n=this;this.$options=j(e.$eval(t.ngModelOptions)),y(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=lo(this.$options.updateOn.replace(Ca,function(){return n.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},qa=kn({terminal:!0,priority:1e3}),Ea=o("ngOptions"),Ta=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,Sa=["$compile","$parse",function(e,n){function o(e,t,o){function a(e,t,n,o,r){this.selectValue=e,this.viewValue=t,this.label=n,this.group=o,this.disabled=r}function i(e){var t;if(!c&&r(e))t=e;else{t=[];for(var n in e)e.hasOwnProperty(n)&&"$"!==n.charAt(0)&&t.push(n)}return t}var s=e.match(Ta);if(!s)throw Ea("iexp",e,W(t));var l=s[5]||s[7],c=s[6];e=/ as /.test(s[0])&&s[1];var u=s[9];t=n(s[2]?s[1]:l);var d=e&&n(e)||t,p=u&&n(u),h=u?function(e,t){return p(o,t)}:function(e){return Le(e)},f=function(e,t){return h(e,w(e,t))},m=n(s[2]||s[1]),b=n(s[3]||""),g=n(s[4]||""),v=n(s[8]),y={},w=c?function(e,t){return y[c]=t,y[l]=e,y}:function(e){return y[l]=e,y};return{trackBy:u,getTrackByValue:f,getWatchables:n(v,function(e){var t=[];e=e||[];for(var n=i(e),r=n.length,a=0;r>a;a++){var l=e===n?a:n[a],c=w(e[l],l),l=h(e[l],c);t.push(l),(s[2]||s[1])&&(l=m(o,c),t.push(l)),s[4]&&(c=g(o,c),t.push(c))}return t}),getOptions:function(){for(var e=[],t={},n=v(o)||[],r=i(n),s=r.length,l=0;s>l;l++){var c=n===r?l:r[l],p=w(n[c],c),y=d(o,p),c=h(y,p),_=m(o,p),x=b(o,p),p=g(o,p),y=new a(c,y,_,x,p);e.push(y),t[c]=y}return{items:e,selectValueMap:t,getOptionFromViewValue:function(e){return t[f(e)]},getViewValueFromOption:function(e){return u?ro.copy(e.viewValue):e.viewValue}}}}}var i=t.createElement("option"),s=t.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(e,t,n,o){o[0].registerOption=f},post:function(t,n,r,l){function c(e,t){e.element=t,t.disabled=e.disabled,e.label!==t.label&&(t.label=e.label,t.textContent=e.label),e.value!==t.value&&(t.value=e.selectValue)}function u(e,t,n,o){return t&&Xn(t.nodeName)===n?n=t:(n=o.cloneNode(!1),t?e.insertBefore(n,t):e.appendChild(n)),n}function d(e){for(var t;e;)t=e.nextSibling,Ie(e),e=t}function p(e){var t=f&&f[0],n=x&&x[0];if(t||n)for(;e&&(e===t||e===n||8===e.nodeType||"option"===k(e)&&""===e.value);)e=e.nextSibling;return e}function h(){var e=C&&m.readValue();C=$.getOptions();var t={},o=n[0].firstChild;if(_&&n.prepend(f),o=p(o),C.items.forEach(function(e){var r,a;y(e.group)?(r=t[e.group],r||(r=u(n[0],o,"optgroup",s),o=r.nextSibling,r.label=e.group,r=t[e.group]={groupElement:r,currentOptionElement:r.firstChild}),a=u(r.groupElement,r.currentOptionElement,"option",i),c(e,a),r.currentOptionElement=a.nextSibling):(a=u(n[0],o,"option",i),c(e,a),o=a.nextSibling)}),Object.keys(t).forEach(function(e){d(t[e].currentOptionElement)}),d(o),b.$render(),!b.$isEmpty(e)){var r=m.readValue();($.trackBy||g?L(e,r):e===r)||(b.$setViewValue(r),b.$render())}}var f,m=l[0],b=l[1],g=r.multiple;l=0;for(var v=n.children(),w=v.length;w>l;l++)if(""===v[l].value){f=v.eq(l);break}var _=!!f,x=Wn(i.cloneNode(!1));x.val("?");var C,$=o(r.ngOptions,n,t);g?(b.$isEmpty=function(e){return!e||0===e.length},m.writeValue=function(e){C.items.forEach(function(e){e.element.selected=!1}),e&&e.forEach(function(e){(e=C.getOptionFromViewValue(e))&&!e.disabled&&(e.element.selected=!0)})},m.readValue=function(){var e=n.val()||[],t=[];return a(e,function(e){(e=C.selectValueMap[e])&&!e.disabled&&t.push(C.getViewValueFromOption(e))}),t},$.trackBy&&t.$watchCollection(function(){return io(b.$viewValue)?b.$viewValue.map(function(e){return $.getTrackByValue(e)}):void 0},function(){b.$render()})):(m.writeValue=function(e){var t=C.getOptionFromViewValue(e);t&&!t.disabled?n[0].value!==t.selectValue&&(x.remove(),_||f.remove(),n[0].value=t.selectValue,t.element.selected=!0,t.element.setAttribute("selected","selected")):null===e||_?(x.remove(),_||n.prepend(f),n.val(""),f.prop("selected",!0),f.attr("selected",!0)):(_||f.remove(),n.prepend(x),n.val("?"),x.prop("selected",!0),x.attr("selected",!0))},m.readValue=function(){var e=C.selectValueMap[n.val()];return e&&!e.disabled?(_||f.remove(),x.remove(),C.getViewValueFromOption(e)):null},$.trackBy&&t.$watch(function(){return $.getTrackByValue(b.$viewValue)},function(){b.$render()})),_?(f.remove(),e(f)(t),f.removeClass("ng-scope")):f=Wn(i.cloneNode(!1)),h(),t.$watchCollection($.getWatchables,h)}}}}],Aa=["$locale","$interpolate","$log",function(e,t,n){var o=/{}/g,r=/^when(Minus)?(.+)$/;return{link:function(i,s,l){function c(e){s.text(e||"")}var u,d=l.count,p=l.$attr.when&&s.attr(l.$attr.when),h=l.offset||0,m=i.$eval(p)||{},b={},g=t.startSymbol(),y=t.endSymbol(),w=g+d+"-"+h+y,_=ro.noop;a(l,function(e,t){var n=r.exec(t);n&&(n=(n[1]?"-":"")+Xn(n[2]),m[n]=s.attr(l.$attr[t]))}),a(m,function(e,n){b[n]=t(e.replace(o,w))}),i.$watch(d,function(t){var o=parseFloat(t),r=isNaN(o);r||o in m||(o=e.pluralCat(o-h)),o===u||r&&C(u)&&isNaN(u)||(_(),r=b[o],v(r)?(null!=t&&n.debug("ngPluralize: no rule defined for '"+o+"' in "+p),_=f,c()):_=i.$watch(r,c),
u=o)})}}}],Ia=["$parse","$animate",function(e,i){var s=o("ngRepeat"),l=function(e,t,n,o,r,a,i){e[n]=o,r&&(e[r]=a),e.$index=t,e.$first=0===t,e.$last=t===i-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0===(1&t))};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(o,c){var u=c.ngRepeat,d=t.createComment(" end ngRepeat: "+u+" "),p=u.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!p)throw s("iexp",u);var h=p[1],f=p[2],m=p[3],b=p[4],p=h.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/);if(!p)throw s("iidexp",h);var g=p[3]||p[1],v=p[2];if(m&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(m)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(m)))throw s("badident",m);var y,w,_,x,C={$id:Le};return b?y=e(b):(_=function(e,t){return Le(t)},x=function(e){return e}),function(e,t,o,c,p){y&&(w=function(t,n,o){return v&&(C[v]=t),C[g]=n,C.$index=o,y(e,C)});var h=ce();e.$watchCollection(f,function(o){var c,f,b,y,C,$,q,E,T,S,A=t[0],I=ce();if(m&&(e[m]=o),r(o))E=o,f=w||_;else for(S in f=w||x,E=[],o)Yn.call(o,S)&&"$"!==S.charAt(0)&&E.push(S);for(y=E.length,S=Array(y),c=0;y>c;c++)if(C=o===E?c:E[c],$=o[C],q=f(C,$,c),h[q])T=h[q],delete h[q],I[q]=T,S[c]=T;else{if(I[q])throw a(S,function(e){e&&e.scope&&(h[e.id]=e)}),s("dupes",u,q,$);S[c]={id:q,scope:n,clone:n},I[q]=!0}for(b in h){if(T=h[b],q=le(T.clone),i.leave(q),q[0].parentNode)for(c=0,f=q.length;f>c;c++)q[c].$$NG_REMOVED=!0;T.scope.$destroy()}for(c=0;y>c;c++)if(C=o===E?c:E[c],$=o[C],T=S[c],T.scope){b=A;do b=b.nextSibling;while(b&&b.$$NG_REMOVED);T.clone[0]!=b&&i.move(le(T.clone),null,Wn(A)),A=T.clone[T.clone.length-1],l(T.scope,c,g,$,v,C,y)}else p(function(e,t){T.scope=t;var n=d.cloneNode(!1);e[e.length++]=n,i.enter(e,null,Wn(A)),A=n,T.clone=e,I[T.id]=T,l(T.scope,c,g,$,v,C,y)});h=I})}}}}],Da=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,o){t.$watch(o.ngShow,function(t){e[t?"removeClass":"addClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],Pa=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,o){t.$watch(o.ngHide,function(t){e[t?"addClass":"removeClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],ka=kn(function(e,t,n){e.$watch(n.ngStyle,function(e,n){n&&e!==n&&a(n,function(e,n){t.css(n,"")}),e&&t.css(e)},!0)}),Oa=["$animate",function(e){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,o,r,i){var s=[],l=[],c=[],u=[],d=function(e,t){return function(){e.splice(t,1)}};n.$watch(r.ngSwitch||r.on,function(n){var o,r;for(o=0,r=c.length;r>o;++o)e.cancel(c[o]);for(o=c.length=0,r=u.length;r>o;++o){var p=le(l[o].clone);u[o].$destroy(),(c[o]=e.leave(p)).then(d(c,o))}l.length=0,u.length=0,(s=i.cases["!"+n]||i.cases["?"])&&a(s,function(n){n.transclude(function(o,r){u.push(r);var a=n.element;o[o.length++]=t.createComment(" end ngSwitchWhen: "),l.push({clone:o}),e.enter(o,a.parent(),a)})})})}}}],ja=kn({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,o,r){o.cases["!"+n.ngSwitchWhen]=o.cases["!"+n.ngSwitchWhen]||[],o.cases["!"+n.ngSwitchWhen].push({transclude:r,element:t})}}),Ra=kn({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,o,r){o.cases["?"]=o.cases["?"]||[],o.cases["?"].push({transclude:r,element:t})}}),La=o("ngTransclude"),Na=kn({restrict:"EAC",link:function(e,t,n,o,r){if(n.ngTransclude===n.$attr.ngTransclude&&(n.ngTransclude=""),!r)throw La("orphan",W(t));r(function(e){e.length&&(t.empty(),t.append(e))},null,n.ngTransclude||n.ngTranscludeSlot)}}),Ma=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){"text/ng-template"==n.type&&e.put(n.id,t[0].text)}}}],Ba={$setViewValue:f,$render:f},Fa=["$element","$scope","$attrs",function(e,o,r){var a=this,i=new Ne;a.ngModelCtrl=Ba,a.unknownOption=Wn(t.createElement("option")),a.renderUnknownOption=function(t){t="? "+Le(t)+" ?",a.unknownOption.val(t),e.prepend(a.unknownOption),e.val(t)},o.$on("$destroy",function(){a.renderUnknownOption=f}),a.removeUnknownOption=function(){a.unknownOption.parent()&&a.unknownOption.remove()},a.readValue=function(){return a.removeUnknownOption(),e.val()},a.writeValue=function(t){a.hasOption(t)?(a.removeUnknownOption(),e.val(t),""===t&&a.emptyOption.prop("selected",!0)):null==t&&a.emptyOption?(a.removeUnknownOption(),e.val("")):a.renderUnknownOption(t)},a.addOption=function(e,t){if(8!==t[0].nodeType){ie(e,'"option value"'),""===e&&(a.emptyOption=t);var n=i.get(e)||0;i.put(e,n+1),a.ngModelCtrl.$render(),t[0].hasAttribute("selected")&&(t[0].selected=!0)}},a.removeOption=function(e){var t=i.get(e);t&&(1===t?(i.remove(e),""===e&&(a.emptyOption=n)):i.put(e,t-1))},a.hasOption=function(e){return!!i.get(e)},a.registerOption=function(e,t,n,o,r){if(o){var i;n.$observe("value",function(e){y(i)&&a.removeOption(i),i=e,a.addOption(e,t)})}else r?e.$watch(r,function(e,o){n.$set("value",e),o!==e&&a.removeOption(o),a.addOption(e,t)}):a.addOption(n.value,t);t.on("$destroy",function(){a.removeOption(n.value),a.ngModelCtrl.$render()})}}],Ua=function(){return{restrict:"E",require:["select","?ngModel"],controller:Fa,priority:1,link:{pre:function(e,t,n,o){var r=o[1];if(r){var i=o[0];if(i.ngModelCtrl=r,t.on("change",function(){e.$apply(function(){r.$setViewValue(i.readValue())})}),n.multiple){i.readValue=function(){var e=[];return a(t.find("option"),function(t){t.selected&&e.push(t.value)}),e},i.writeValue=function(e){var n=new Ne(e);a(t.find("option"),function(e){e.selected=y(n.get(e.value))})};var s,l=NaN;e.$watch(function(){l!==r.$viewValue||L(s,r.$viewValue)||(s=R(r.$viewValue),r.$render()),l=r.$viewValue}),r.$isEmpty=function(e){return!e||0===e.length}}}},post:function(e,t,n,o){var r=o[1];if(r){var a=o[0];r.$render=function(){a.writeValue(r.$viewValue)}}}}}},Va=["$interpolate",function(e){return{restrict:"E",priority:100,compile:function(t,n){if(y(n.value))var o=e(n.value,!0);else{var r=e(t.text(),!0);r||n.$set("value",t.text())}return function(e,t,n){var a=t.parent();(a=a.data("$selectController")||a.parent().data("$selectController"))&&a.registerOption(e,t,n,o,r)}}}}],za=b({restrict:"E",terminal:!1}),Wa=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,o){o&&(n.required=!0,o.$validators.required=function(e,t){return!n.required||!o.$isEmpty(t)},n.$observe("required",function(){o.$validate()}))}}},Ha=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,r,a){if(a){var i,s=r.ngPattern||r.pattern;r.$observe("pattern",function(e){if(x(e)&&0<e.length&&(e=new RegExp("^"+e+"$")),e&&!e.test)throw o("ngPattern")("noregexp",s,e,W(t));i=e||n,a.$validate()}),a.$validators.pattern=function(e,t){return a.$isEmpty(t)||v(i)||i.test(t)}}}}},Ka=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,o){if(o){var r=-1;n.$observe("maxlength",function(e){e=p(e),r=isNaN(e)?-1:e,o.$validate()}),o.$validators.maxlength=function(e,t){return 0>r||o.$isEmpty(t)||t.length<=r}}}}},Ga=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,o){if(o){var r=0;n.$observe("minlength",function(e){r=p(e)||0,o.$validate()}),o.$validators.minlength=function(e,t){return o.$isEmpty(t)||t.length>=r}}}}};e.angular.bootstrap?console.log("WARNING: Tried to load angular more than once."):(oe(),de(ro),ro.module("ngLocale",[],["$provide",function(e){function t(e){e+="";var t=e.indexOf(".");return-1==t?0:e.length-t-1}e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:"January February March April May June July August September October November December".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONEMONTH:"January February March April May June July August September October November December".split(" "),WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(e,o){var r=0|e,a=o;return n===a&&(a=Math.min(t(e),3)),Math.pow(10,a),1==r&&0==a?"one":"other"}})}]),Wn(t).ready(function(){J(t,Q)}))}(window,document),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),function(e,t,n){"use strict";function o(e,n,o){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(r,a,i,s,l){function c(){h&&(o.cancel(h),h=null),d&&(d.$destroy(),d=null),p&&(h=o.leave(p),h.then(function(){h=null}),p=null)}function u(){var i=e.current&&e.current.locals;if(t.isDefined(i&&i.$template)){var i=r.$new(),s=e.current;p=l(i,function(e){o.enter(e,null,p||a).then(function(){!t.isDefined(f)||f&&!r.$eval(f)||n()}),c()}),d=s.scope=i,d.$emit("$viewContentLoaded"),d.$eval(m)}else c()}var d,p,h,f=i.autoscroll,m=i.onload||"";r.$on("$routeChangeSuccess",u),u()}}}function r(e,t,n){return{restrict:"ECA",priority:-400,link:function(o,r){var a=n.current,i=a.locals;r.html(i.$template);var s=e(r.contents());if(a.controller){i.$scope=o;var l=t(a.controller,i);a.controllerAs&&(o[a.controllerAs]=l),r.data("$ngControllerController",l),r.children().data("$ngControllerController",l)}o[a.resolveAs||"$resolve"]=i,s(o)}}}e=t.module("ngRoute",["ng"]).provider("$route",function(){function e(e,n){return t.extend(Object.create(e),n)}function n(e,t){var n=t.caseInsensitiveMatch,o={originalPath:e,regexp:e},r=o.keys=[];return e=e.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?\*])?/g,function(e,t,n,o){return e="?"===o?o:null,o="*"===o?o:null,r.push({name:n,optional:!!e}),t=t||"",""+(e?"":t)+"(?:"+(e?t:"")+(o&&"(.+?)"||"([^/]+)")+(e||"")+")"+(e||"")}).replace(/([\/$\*])/g,"\\$1"),o.regexp=new RegExp("^"+e+"$",n?"i":""),o}var o={};this.when=function(e,r){var a=t.copy(r);if(t.isUndefined(a.reloadOnSearch)&&(a.reloadOnSearch=!0),t.isUndefined(a.caseInsensitiveMatch)&&(a.caseInsensitiveMatch=this.caseInsensitiveMatch),o[e]=t.extend(a,e&&n(e,a)),e){var i="/"==e[e.length-1]?e.substr(0,e.length-1):e+"/";o[i]=t.extend({redirectTo:e},n(i,a))}return this},this.caseInsensitiveMatch=!1,this.otherwise=function(e){return"string"==typeof e&&(e={redirectTo:e}),this.when(null,e),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce",function(n,r,i,s,l,c,u){function d(e){var o=v.current;(b=(m=h())&&o&&m.$$route===o.$$route&&t.equals(m.pathParams,o.pathParams)&&!m.reloadOnSearch&&!g)||!o&&!m||n.$broadcast("$routeChangeStart",m,o).defaultPrevented&&e&&e.preventDefault()}function p(){var e=v.current,o=m;b?(e.params=o.params,t.copy(e.params,i),n.$broadcast("$routeUpdate",e)):(o||e)&&(g=!1,(v.current=o)&&o.redirectTo&&(t.isString(o.redirectTo)?r.path(f(o.redirectTo,o.params)).search(o.params).replace():r.url(o.redirectTo(o.pathParams,r.path(),r.search())).replace()),s.when(o).then(function(){if(o){var e,n,r=t.extend({},o.resolve);return t.forEach(r,function(e,n){r[n]=t.isString(e)?l.get(e):l.invoke(e,null,null,n)}),t.isDefined(e=o.template)?t.isFunction(e)&&(e=e(o.params)):t.isDefined(n=o.templateUrl)&&(t.isFunction(n)&&(n=n(o.params)),t.isDefined(n)&&(o.loadedTemplateUrl=u.valueOf(n),e=c(n))),t.isDefined(e)&&(r.$template=e),s.all(r)}}).then(function(r){o==v.current&&(o&&(o.locals=r,t.copy(o.params,i)),n.$broadcast("$routeChangeSuccess",o,e))},function(t){o==v.current&&n.$broadcast("$routeChangeError",o,e,t)}))}function h(){var n,a;return t.forEach(o,function(o,i){var s;if(s=!a){var l=r.path();s=o.keys;var c={};if(o.regexp)if(l=o.regexp.exec(l)){for(var u=1,d=l.length;d>u;++u){var p=s[u-1],h=l[u];p&&h&&(c[p.name]=h)}s=c}else s=null;else s=null;s=n=s}s&&(a=e(o,{params:t.extend({},r.search(),n),pathParams:n}),a.$$route=o)}),a||o[null]&&e(o[null],{params:{},pathParams:{}})}function f(e,n){var o=[];return t.forEach((e||"").split(":"),function(e,t){if(0===t)o.push(e);else{var r=e.match(/(\w+)(?:[?*])?(.*)/),a=r[1];o.push(n[a]),o.push(r[2]||""),delete n[a]}}),o.join("")}var m,b,g=!1,v={routes:o,reload:function(){g=!0;var e={defaultPrevented:!1,preventDefault:function(){this.defaultPrevented=!0,g=!1}};n.$evalAsync(function(){d(e),e.defaultPrevented||p()})},updateParams:function(e){if(!this.current||!this.current.$$route)throw a("norout");e=t.extend({},this.current.params,e),r.path(f(this.current.$$route.originalPath,e)),r.search(e)}};return n.$on("$locationChangeStart",d),n.$on("$locationChangeSuccess",p),v}]});var a=t.$$minErr("ngRoute");e.provider("$routeParams",function(){this.$get=function(){return{}}}),e.directive("ngView",o),e.directive("ngView",r),o.$inject=["$route","$anchorScroll","$animate"],r.$inject=["$compile","$controller","$route"]}(window,window.angular),function(e,t,n){"use strict";function o(e){var n=[];return l(n,t.noop).chars(e),n.join("")}function r(e,n){var o,r={},a=e.split(",");for(o=0;o<a.length;o++)r[n?t.lowercase(a[o]):a[o]]=!0;return r}function a(e,t){null===e||e===n?e="":"string"!=typeof e&&(e=""+e),u.innerHTML=e;var o=5;do{if(0===o)throw d("uinput");o--,11>=document.documentMode&&c(u),e=u.innerHTML,u.innerHTML=e}while(e!==u.innerHTML);for(o=u.firstChild;o;){switch(o.nodeType){case 1:t.start(o.nodeName.toLowerCase(),i(o.attributes));break;case 3:t.chars(o.textContent)}var r;if(!(r=o.firstChild)&&(1==o.nodeType&&t.end(o.nodeName.toLowerCase()),r=o.nextSibling,!r))for(;null==r&&(o=o.parentNode,o!==u);)r=o.nextSibling,1==o.nodeType&&t.end(o.nodeName.toLowerCase());o=r}for(;o=u.firstChild;)u.removeChild(o)}function i(e){for(var t={},n=0,o=e.length;o>n;n++){var r=e[n];t[r.name]=r.value}return t}function s(e){return e.replace(/&/g,"&amp;").replace(p,function(e){var t=e.charCodeAt(0);return e=e.charCodeAt(1),"&#"+(1024*(t-55296)+(e-56320)+65536)+";"}).replace(h,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function l(e,n){var o=!1,r=t.bind(e,e.push);return{start:function(e,a){e=t.lowercase(e),!o&&y[e]&&(o=e),o||!0!==w[e]||(r("<"),r(e),t.forEach(a,function(o,a){var i=t.lowercase(a),l="img"===e&&"src"===i||"background"===i;!0!==x[i]||!0===_[i]&&!n(o,l)||(r(" "),r(a),r('="'),r(s(o)),r('"'))}),r(">"))},end:function(e){e=t.lowercase(e),o||!0!==w[e]||!0===f[e]||(r("</"),r(e),r(">")),e==o&&(o=!1)},chars:function(e){o||r(s(e))}}}function c(e){if(e.nodeType===Node.ELEMENT_NODE)for(var t=e.attributes,n=0,o=t.length;o>n;n++){var r=t[n],a=r.name.toLowerCase();"xmlns:ns1"!==a&&0!==a.indexOf("ns1:")||(e.removeAttributeNode(r),n--,o--)}(t=e.firstChild)&&c(t),(t=e.nextSibling)&&c(t)}var u,d=t.$$minErr("$sanitize"),p=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,h=/([^\#-~ |!])/g,f=r("area,br,col,hr,img,wbr"),m=r("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),b=r("rp,rt"),g=t.extend({},b,m),m=t.extend({},m,r("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),b=t.extend({},b,r("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),v=r("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),y=r("script,style"),w=t.extend({},f,m,b,g),_=r("background,cite,href,longdesc,src,xlink:href"),g=r("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),b=r("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),x=t.extend({},_,b,g);!function(e){if(!e.document||!e.document.implementation)throw d("noinert");e=e.document.implementation.createHTMLDocument("inert");var t=(e.documentElement||e.getDocumentElement()).getElementsByTagName("body");1===t.length?u=t[0]:(t=e.createElement("html"),u=e.createElement("body"),t.appendChild(u),e.appendChild(t))}(e),t.module("ngSanitize",[]).provider("$sanitize",function(){var e=!1;this.$get=["$$sanitizeUri",function(n){return e&&t.extend(w,v),function(e){var t=[];return a(e,l(t,function(e,t){return!/^unsafe:/.test(n(e,t))})),t.join("")}}],this.enableSvg=function(n){return t.isDefined(n)?(e=n,this):e}}),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,r=/^mailto:/i,a=t.$$minErr("linky"),i=t.isString;return function(s,l,c){function u(e){e&&m.push(o(e))}function d(e,n){var o;if(m.push("<a "),t.isFunction(c)&&(c=c(e)),t.isObject(c))for(o in c)m.push(o+'="'+c[o]+'" ');else c={};!t.isDefined(l)||"target"in c||m.push('target="',l,'" '),m.push('href="',e.replace(/"/g,"&quot;"),'">'),u(n),m.push("</a>")}if(null==s||""===s)return s;if(!i(s))throw a("notstring",s);for(var p,h,f=s,m=[];s=f.match(n);)p=s[0],s[2]||s[4]||(p=(s[3]?"http://":"mailto:")+p),h=s.index,u(f.substr(0,h)),d(p,s[0].replace(r,"")),f=f.substring(h+s[0].length);return u(f),e(m.join(""))}}])}(window,window.angular),!function(e,t){"function"==typeof define&&define.amd?define([],function(){return t()}):"object"==typeof exports?module.exports=t():t()}(this,function(){function e(e){"use strict";var t=e.storageKey(),n=e.storage(),o=function(){var o=e.preferredLanguage();angular.isString(o)?e.use(o):n.put(t,e.use())};o.displayName="fallbackFromIncorrectStorageValue",n?n.get(t)?e.use(n.get(t))["catch"](o):o():angular.isString(e.preferredLanguage())&&e.use(e.preferredLanguage())}function t(){"use strict";var e,t,n=null,o=!1,r=!1;t={sanitize:function(e,t){return"text"===t&&(e=i(e)),e},escape:function(e,t){return"text"===t&&(e=a(e)),e},sanitizeParameters:function(e,t){return"params"===t&&(e=s(e,i)),e},escapeParameters:function(e,t){return"params"===t&&(e=s(e,a)),e}},t.escaped=t.escapeParameters,this.addStrategy=function(e,n){return t[e]=n,this},this.removeStrategy=function(e){return delete t[e],this},this.useStrategy=function(e){return o=!0,n=e,this},this.$get=["$injector","$log",function(a,i){var s={},l=function(e,n,o){return angular.forEach(o,function(o){if(angular.isFunction(o))e=o(e,n);else if(angular.isFunction(t[o]))e=t[o](e,n);else{if(!angular.isString(t[o]))throw new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+o+"'");if(!s[t[o]])try{s[t[o]]=a.get(t[o])}catch(r){throw s[t[o]]=function(){},new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+o+"'")}e=s[t[o]](e,n)}}),e},c=function(){o||r||(i.warn("pascalprecht.translate.$translateSanitization: No sanitization strategy has been configured. This can have serious security implications. See http://angular-translate.github.io/docs/#/guide/19_security for details."),r=!0)};return a.has("$sanitize")&&(e=a.get("$sanitize")),{useStrategy:function(e){return function(t){e.useStrategy(t)}}(this),sanitize:function(e,t,o){if(n||c(),arguments.length<3&&(o=n),!o)return e;var r=angular.isArray(o)?o:[o];return l(e,t,r)}}}];var a=function(e){var t=angular.element("<div></div>");return t.text(e),t.html()},i=function(t){if(!e)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sanitize service. Either include the ngSanitize module (https://docs.angularjs.org/api/ngSanitize) or use a sanitization strategy which does not depend on $sanitize, such as 'escape'.");return e(t)},s=function(e,t,n){if(angular.isObject(e)){var o=angular.isArray(e)?[]:{};if(n){if(n.indexOf(e)>-1)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot interpolate parameter due recursive object")}else n=[];return n.push(e),angular.forEach(e,function(e,r){o[r]=s(e,t,n)}),n.splice(-1,1),o}return angular.isNumber(e)?e:t(e)}}function n(e,t,n,o){"use strict";var r,a,i,s,l,c,u,d,p,h,f,m,b,g,v,y={},w=[],_=e,x=[],C="translate-cloak",$=!1,q=!1,E=".",T=!1,S=0,A=!0,I="default",D={"default":function(e){return(e||"").split("-").join("_")},java:function(e){var t=(e||"").split("-").join("_"),n=t.split("_");return n.length>1?n[0].toLowerCase()+"_"+n[1].toUpperCase():t},bcp47:function(e){var t=(e||"").split("_").join("-"),n=t.split("-");return n.length>1?n[0].toLowerCase()+"-"+n[1].toUpperCase():t}},P="2.10.0",k=function(){if(angular.isFunction(o.getLocale))return o.getLocale();var e,n,r=t.$get().navigator,a=["language","browserLanguage","systemLanguage","userLanguage"];if(angular.isArray(r.languages))for(e=0;e<r.languages.length;e++)if(n=r.languages[e],n&&n.length)return n;for(e=0;e<a.length;e++)if(n=r[a[e]],n&&n.length)return n;return null};k.displayName="angular-translate/service: getFirstBrowserLanguage";var O=function(){var e=k()||"";return D[I]&&(e=D[I](e)),e};O.displayName="angular-translate/service: getLocale";var j=function(e,t){for(var n=0,o=e.length;o>n;n++)if(e[n]===t)return n;return-1},R=function(){return this.toString().replace(/^\s+|\s+$/g,"")},L=function(e){if(e){for(var t=[],n=angular.lowercase(e),o=0,r=w.length;r>o;o++)t.push(angular.lowercase(w[o]));if(j(t,n)>-1)return e;if(a){var i;for(var s in a){var l=!1,c=Object.prototype.hasOwnProperty.call(a,s)&&angular.lowercase(s)===angular.lowercase(e);if("*"===s.slice(-1)&&(l=s.slice(0,-1)===e.slice(0,s.length-1)),(c||l)&&(i=a[s],j(t,angular.lowercase(i))>-1))return i}}var u=e.split("_");return u.length>1&&j(t,angular.lowercase(u[0]))>-1?u[0]:void 0}},N=function(e,t){if(!e&&!t)return y;if(e&&!t){if(angular.isString(e))return y[e]}else angular.isObject(y[e])||(y[e]={}),angular.extend(y[e],M(t));return this};this.translations=N,this.cloakClassName=function(e){return e?(C=e,this):C},this.nestedObjectDelimeter=function(e){return e?(E=e,this):E};var M=function(e,t,n,o){var r,a,i,s;t||(t=[]),n||(n={});for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&(s=e[r],angular.isObject(s)?M(s,t.concat(r),n,r):(a=t.length?""+t.join(E)+E+r:r,t.length&&r===o&&(i=""+t.join(E),n[i]="@:"+a),n[a]=s));return n};M.displayName="flatObject",this.addInterpolation=function(e){return x.push(e),this},this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")},this.useInterpolation=function(e){return h=e,this},this.useSanitizeValueStrategy=function(e){return n.useStrategy(e),this},this.preferredLanguage=function(e){return e?(B(e),this):r};var B=function(e){return e&&(r=e),r};this.translationNotFoundIndicator=function(e){return this.translationNotFoundIndicatorLeft(e),this.translationNotFoundIndicatorRight(e),this},this.translationNotFoundIndicatorLeft=function(e){return e?(b=e,this):b},this.translationNotFoundIndicatorRight=function(e){return e?(g=e,this):g},this.fallbackLanguage=function(e){return F(e),this};var F=function(e){return e?(angular.isString(e)?(s=!0,i=[e]):angular.isArray(e)&&(s=!1,i=e),angular.isString(r)&&j(i,r)<0&&i.push(r),this):s?i[0]:i};this.use=function(e){if(e){if(!y[e]&&!f)throw new Error("$translateProvider couldn't find translationTable for langKey: '"+e+"'");return l=e,this}return l};var U=function(e){return e?(_=e,this):d?d+_:_};this.storageKey=U,this.useUrlLoader=function(e,t){return this.useLoader("$translateUrlLoader",angular.extend({url:e},t))},this.useStaticFilesLoader=function(e){return this.useLoader("$translateStaticFilesLoader",e)},this.useLoader=function(e,t){return f=e,m=t||{},this},this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")},this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")},this.useStorage=function(e){return u=e,this},this.storagePrefix=function(e){return e?(d=e,this):e},this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")},this.useMissingTranslationHandler=function(e){return p=e,this},this.usePostCompiling=function(e){return $=!!e,this},this.forceAsyncReload=function(e){return q=!!e,this},this.uniformLanguageTag=function(e){return e?angular.isString(e)&&(e={standard:e}):e={},I=e.standard,this},this.determinePreferredLanguage=function(e){var t=e&&angular.isFunction(e)?e():O();return r=w.length?L(t)||t:t,this},this.registerAvailableLanguageKeys=function(e,t){return e?(w=e,t&&(a=t),this):w},this.useLoaderCache=function(e){return e===!1?v=void 0:e===!0?v=!0:"undefined"==typeof e?v="$translationCache":e&&(v=e),this},this.directivePriority=function(e){return void 0===e?S:(S=e,this)},this.statefulFilter=function(e){return void 0===e?A:(A=e,this)},this.$get=["$log","$injector","$rootScope","$q",function(e,t,n,o){var a,d,w,I=t.get(h||"$translateDefaultInterpolation"),D=!1,k={},O={},V=function(e,t,n,s,c){var p=c&&c!==l?L(c)||c:l;if(angular.isArray(e)){var h=function(e){for(var r={},a=[],i=function(e){var a=o.defer(),i=function(t){r[e]=t,a.resolve([e,t])};return V(e,t,n,s,c).then(i,i),a.promise},l=0,u=e.length;u>l;l++)a.push(i(e[l]));return o.all(a).then(function(){return r})};return h(e)}var f=o.defer();e&&(e=R.apply(e));var m=function(){var e=r?O[r]:O[p];if(d=0,u&&!e){var t=a.get(_);if(e=O[t],i&&i.length){var n=j(i,t);d=0===n?1:0,j(i,r)<0&&i.push(r)}}return e}();if(m){var b=function(){c||(p=l),ne(e,t,n,s,p).then(f.resolve,f.reject)};b.displayName="promiseResolved",m["finally"](b)}else ne(e,t,n,s,p).then(f.resolve,f.reject);return f.promise},z=function(e){return b&&(e=[b,e].join(" ")),g&&(e=[e,g].join(" ")),e},W=function(e){l=e,u&&a.put(V.storageKey(),l),n.$emit("$translateChangeSuccess",{language:e}),I.setLocale(l);var t=function(e,t){k[t].setLocale(l)};t.displayName="eachInterpolatorLocaleSetter",angular.forEach(k,t),n.$emit("$translateChangeEnd",{language:e})},H=function(e){if(!e)throw"No language key specified for loading.";var r=o.defer();n.$emit("$translateLoadingStart",{language:e}),D=!0;var a=v;"string"==typeof a&&(a=t.get(a));var i=angular.extend({},m,{key:e,$http:angular.extend({},{cache:a},m.$http)}),s=function(t){var o={};n.$emit("$translateLoadingSuccess",{language:e}),angular.isArray(t)?angular.forEach(t,function(e){angular.extend(o,M(e))}):angular.extend(o,M(t)),D=!1,r.resolve({key:e,table:o}),n.$emit("$translateLoadingEnd",{language:e})};s.displayName="onLoaderSuccess";var l=function(e){n.$emit("$translateLoadingError",{language:e}),r.reject(e),n.$emit("$translateLoadingEnd",{language:e})};return l.displayName="onLoaderError",t.get(f)(i).then(s,l),r.promise};if(u&&(a=t.get(u),!a.get||!a.put))throw new Error("Couldn't use storage '"+u+"', missing get() or put() method!");if(x.length){var K=function(e){var n=t.get(e);n.setLocale(r||l),k[n.getInterpolationIdentifier()]=n};K.displayName="interpolationFactoryAdder",angular.forEach(x,K)}var G=function(e){var t=o.defer();if(Object.prototype.hasOwnProperty.call(y,e))t.resolve(y[e]);else if(O[e]){var n=function(e){N(e.key,e.table),t.resolve(e.table)};n.displayName="translationTableResolver",O[e].then(n,t.reject)}else t.reject();return t.promise},Y=function(e,t,n,r){var a=o.defer(),i=function(o){if(Object.prototype.hasOwnProperty.call(o,t)){r.setLocale(e);var i=o[t];"@:"===i.substr(0,2)?Y(e,i.substr(2),n,r).then(a.resolve,a.reject):a.resolve(r.interpolate(o[t],n)),r.setLocale(l)}else a.reject()};return i.displayName="fallbackTranslationResolver",G(e).then(i,a.reject),a.promise},X=function(e,t,n,o){var r,a=y[e];if(a&&Object.prototype.hasOwnProperty.call(a,t)){if(o.setLocale(e),r=o.interpolate(a[t],n),"@:"===r.substr(0,2))return X(e,r.substr(2),n,o);o.setLocale(l)}return r},Z=function(e,n){if(p){var o=t.get(p)(e,l,n);return void 0!==o?o:e}return e},J=function(e,t,n,r,a){var s=o.defer();if(e<i.length){var l=i[e];Y(l,t,n,r).then(s.resolve,function(){J(e+1,t,n,r,a).then(s.resolve)})}else a?s.resolve(a):s.resolve(Z(t,n));return s.promise},Q=function(e,t,n,o){var r;if(e<i.length){var a=i[e];r=X(a,t,n,o),r||(r=Q(e+1,t,n,o))}return r},ee=function(e,t,n,o){return J(w>0?w:d,e,t,n,o)},te=function(e,t,n){return Q(w>0?w:d,e,t,n)},ne=function(e,t,n,r,a){var s=o.defer(),l=a?y[a]:y,c=n?k[n]:I;if(l&&Object.prototype.hasOwnProperty.call(l,e)){var u=l[e];"@:"===u.substr(0,2)?V(u.substr(2),t,n,r,a).then(s.resolve,s.reject):s.resolve(c.interpolate(u,t))}else{var d;p&&!D&&(d=Z(e,t)),a&&i&&i.length?ee(e,t,c,r).then(function(e){s.resolve(e)},function(e){s.reject(z(e))}):p&&!D&&d?r?s.resolve(r):s.resolve(d):r?s.resolve(r):s.reject(z(e))}return s.promise},oe=function(e,t,n,o){var r,a=o?y[o]:y,s=I;if(k&&Object.prototype.hasOwnProperty.call(k,n)&&(s=k[n]),a&&Object.prototype.hasOwnProperty.call(a,e)){var l=a[e];r="@:"===l.substr(0,2)?oe(l.substr(2),t,n,o):s.interpolate(l,t)}else{var c;p&&!D&&(c=Z(e,t)),o&&i&&i.length?(d=0,r=te(e,t,s)):r=p&&!D&&c?c:z(e)}return r},re=function(e){c===e&&(c=void 0),O[e]=void 0};V.preferredLanguage=function(e){return e&&B(e),r},V.cloakClassName=function(){return C},V.nestedObjectDelimeter=function(){return E},V.fallbackLanguage=function(e){if(void 0!==e&&null!==e){if(F(e),f&&i&&i.length)for(var t=0,n=i.length;n>t;t++)O[i[t]]||(O[i[t]]=H(i[t]));V.use(V.use())}return s?i[0]:i},V.useFallbackLanguage=function(e){if(void 0!==e&&null!==e)if(e){var t=j(i,e);t>-1&&(w=t)}else w=0},V.proposedLanguage=function(){return c},V.storage=function(){return a},V.negotiateLocale=L,V.use=function(e){if(!e)return l;var t=o.defer();n.$emit("$translateChangeStart",{language:e});var r=L(e);return r&&(e=r),c=e,!q&&y[e]||!f||O[e]?O[e]?O[e].then(function(e){return c===e.key&&W(e.key),t.resolve(e.key),e},function(e){return!l&&i&&i.length>0?V.use(i[0]).then(t.resolve,t.reject):t.reject(e)}):(t.resolve(e),W(e)):(O[e]=H(e).then(function(n){return N(n.key,n.table),t.resolve(n.key),c===e&&W(n.key),n},function(e){return n.$emit("$translateChangeError",{language:e}),t.reject(e),n.$emit("$translateChangeEnd",{language:e}),o.reject(e)}),O[e]["finally"](function(){re(e)})),t.promise},V.storageKey=function(){return U()},V.isPostCompilingEnabled=function(){return $},V.isForceAsyncReloadEnabled=function(){return q},V.refresh=function(e){function t(){a.resolve(),n.$emit("$translateRefreshEnd",{language:e})}function r(){a.reject(),n.$emit("$translateRefreshEnd",{
language:e})}if(!f)throw new Error("Couldn't refresh translation table, no loader registered!");var a=o.defer();if(n.$emit("$translateRefreshStart",{language:e}),e)if(y[e]){var s=function(n){N(n.key,n.table),e===l&&W(l),t()};s.displayName="refreshPostProcessor",H(e).then(s,r)}else r();else{var c=[],u={};if(i&&i.length)for(var d=0,p=i.length;p>d;d++)c.push(H(i[d])),u[i[d]]=!0;l&&!u[l]&&c.push(H(l));var h=function(e){y={},angular.forEach(e,function(e){N(e.key,e.table)}),l&&W(l),t()};h.displayName="refreshPostProcessor",o.all(c).then(h,r)}return a.promise},V.instant=function(e,t,n,o){var a=o&&o!==l?L(o)||o:l;if(null===e||angular.isUndefined(e))return e;if(angular.isArray(e)){for(var s={},c=0,u=e.length;u>c;c++)s[e[c]]=V.instant(e[c],t,n,o);return s}if(angular.isString(e)&&e.length<1)return e;e&&(e=R.apply(e));var d,h=[];r&&h.push(r),a&&h.push(a),i&&i.length&&(h=h.concat(i));for(var f=0,m=h.length;m>f;f++){var v=h[f];if(y[v]&&"undefined"!=typeof y[v][e]&&(d=oe(e,t,n,a)),"undefined"!=typeof d)break}return d||""===d||(b||g?d=z(e):(d=I.interpolate(e,t),p&&!D&&(d=Z(e,t)))),d},V.versionInfo=function(){return P},V.loaderCache=function(){return v},V.directivePriority=function(){return S},V.statefulFilter=function(){return A},V.isReady=function(){return T};var ae=o.defer();ae.promise.then(function(){T=!0}),V.onReady=function(e){var t=o.defer();return angular.isFunction(e)&&t.promise.then(e),T?t.resolve():ae.promise.then(t.resolve),t.promise};var ie=n.$on("$translateReady",function(){ae.resolve(),ie(),ie=null}),se=n.$on("$translateChangeEnd",function(){ae.resolve(),se(),se=null});if(f){if(angular.equals(y,{})&&V.use()&&V.use(V.use()),i&&i.length)for(var le=function(e){return N(e.key,e.table),n.$emit("$translateChangeEnd",{language:e.key}),e},ce=0,ue=i.length;ue>ce;ce++){var de=i[ce];(q||!y[de])&&(O[de]=H(de).then(le))}}else n.$emit("$translateReady",{language:V.use()});return V}]}function o(e,t){"use strict";var n,o={},r="default";return o.setLocale=function(e){n=e},o.getInterpolationIdentifier=function(){return r},o.useSanitizeValueStrategy=function(e){return t.useStrategy(e),this},o.interpolate=function(n,o){o=o||{},o=t.sanitize(o,"params");var r=e(n)(o);return r=t.sanitize(r,"text")},o}function r(e,t,n,o,r,i){"use strict";var s=function(){return this.toString().replace(/^\s+|\s+$/g,"")};return{restrict:"AE",scope:!0,priority:e.directivePriority(),compile:function(t,l){var c=l.translateValues?l.translateValues:void 0,u=l.translateInterpolation?l.translateInterpolation:void 0,d=t[0].outerHTML.match(/translate-value-+/i),p="^(.*)("+n.startSymbol()+".*"+n.endSymbol()+")(.*)",h="^(.*)"+n.startSymbol()+"(.*)"+n.endSymbol()+"(.*)";return function(t,f,m){t.interpolateParams={},t.preText="",t.postText="",t.translateNamespace=a(t);var b={},g=function(e,n,o){if(n.translateValues&&angular.extend(e,r(n.translateValues)(t.$parent)),d)for(var a in o)if(Object.prototype.hasOwnProperty.call(n,a)&&"translateValue"===a.substr(0,14)&&"translateValues"!==a){var i=angular.lowercase(a.substr(14,1))+a.substr(15);e[i]=o[a]}},v=function(e){if(angular.isFunction(v._unwatchOld)&&(v._unwatchOld(),v._unwatchOld=void 0),angular.equals(e,"")||!angular.isDefined(e)){var o=s.apply(f.text()),r=o.match(p);if(angular.isArray(r)){t.preText=r[1],t.postText=r[3],b.translate=n(r[2])(t.$parent);var a=o.match(h);angular.isArray(a)&&a[2]&&a[2].length&&(v._unwatchOld=t.$watch(a[2],function(e){b.translate=e,$()}))}else b.translate=o?o:void 0}else b.translate=e;$()},y=function(e){m.$observe(e,function(t){b[e]=t,$()})};g(t.interpolateParams,m,l);var w=!0;m.$observe("translate",function(e){"undefined"==typeof e?v(""):""===e&&w||(b.translate=e,$()),w=!1});for(var _ in m)m.hasOwnProperty(_)&&"translateAttr"===_.substr(0,13)&&y(_);if(m.$observe("translateDefault",function(e){t.defaultText=e,$()}),c&&m.$observe("translateValues",function(e){e&&t.$parent.$watch(function(){angular.extend(t.interpolateParams,r(e)(t.$parent))})}),d){var x=function(e){m.$observe(e,function(n){var o=angular.lowercase(e.substr(14,1))+e.substr(15);t.interpolateParams[o]=n})};for(var C in m)Object.prototype.hasOwnProperty.call(m,C)&&"translateValue"===C.substr(0,14)&&"translateValues"!==C&&x(C)}var $=function(){for(var e in b)b.hasOwnProperty(e)&&void 0!==b[e]&&q(e,b[e],t,t.interpolateParams,t.defaultText,t.translateNamespace)},q=function(t,n,o,r,a,i){n?(i&&"."===n.charAt(0)&&(n=i+n),e(n,r,u,a,o.translateLanguage).then(function(e){E(e,o,!0,t)},function(e){E(e,o,!1,t)})):E(n,o,!1,t)},E=function(t,n,r,a){if("translate"===a){r||"undefined"==typeof n.defaultText||(t=n.defaultText),f.empty().append(n.preText+t+n.postText);var i=e.isPostCompilingEnabled(),s="undefined"!=typeof l.translateCompile,c=s&&"false"!==l.translateCompile;(i&&!s||c)&&o(f.contents())(n)}else{r||"undefined"==typeof n.defaultText||(t=n.defaultText);var u=m.$attr[a];"data-"===u.substr(0,5)&&(u=u.substr(5)),u=u.substr(15),f.attr(u,t)}};(c||d||m.translateDefault)&&t.$watch("interpolateParams",$,!0),t.$watch("translateLanguage",$);var T=i.$on("$translateChangeSuccess",$);f.text().length?v(m.translate?m.translate:""):m.translate&&v(m.translate),$(),t.$on("$destroy",T)}}}}function a(e){"use strict";return e.translateNamespace?e.translateNamespace:e.$parent?a(e.$parent):void 0}function i(e,t){"use strict";return{compile:function(n){var o=function(){n.addClass(e.cloakClassName())},r=function(){n.removeClass(e.cloakClassName())};return e.onReady(function(){r()}),o(),function(n,a,i){i.translateCloak&&i.translateCloak.length&&(i.$observe("translateCloak",function(t){e(t).then(r,o)}),t.$on("$translateChangeSuccess",function(){e(i.translateCloak).then(r,o)}))}}}}function s(){"use strict";return{restrict:"A",scope:!0,compile:function(){return{pre:function(e,t,n){e.translateNamespace=a(e),e.translateNamespace&&"."===n.translateNamespace.charAt(0)?e.translateNamespace+=n.translateNamespace:e.translateNamespace=n.translateNamespace}}}}}function a(e){"use strict";return e.translateNamespace?e.translateNamespace:e.$parent?a(e.$parent):void 0}function l(){"use strict";return{restrict:"A",scope:!0,compile:function(){return function(e,t,n){n.$observe("translateLanguage",function(t){e.translateLanguage=t})}}}}function c(e,t){"use strict";var n=function(n,o,r,a){return angular.isObject(o)||(o=e(o)(this)),t.instant(n,o,r,a)};return t.statefulFilter()&&(n.$stateful=!0),n}function u(e){"use strict";return e("translations")}return e.$inject=["a"],n.$inject=["a","b","c","d"],o.$inject=["a","b"],r.$inject=["a","b","c","d","e","g"],i.$inject=["a","b"],c.$inject=["a","b"],u.$inject=["a"],angular.module("pascalprecht.translate",["ng"]).run(e),e.$inject=["$translate"],e.displayName="runTranslate",angular.module("pascalprecht.translate").provider("$translateSanitization",t),angular.module("pascalprecht.translate").constant("pascalprechtTranslateOverrider",{}).provider("$translate",n),n.$inject=["$STORAGE_KEY","$windowProvider","$translateSanitizationProvider","pascalprechtTranslateOverrider"],n.displayName="displayName",angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",o),o.$inject=["$interpolate","$translateSanitization"],o.displayName="$translateDefaultInterpolation",angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",r),r.$inject=["$translate","$q","$interpolate","$compile","$parse","$rootScope"],r.displayName="translateDirective",angular.module("pascalprecht.translate").directive("translateCloak",i),i.$inject=["$translate","$rootScope"],i.displayName="translateCloakDirective",angular.module("pascalprecht.translate").directive("translateNamespace",s),s.displayName="translateNamespaceDirective",angular.module("pascalprecht.translate").directive("translateLanguage",l),l.displayName="translateLanguageDirective",angular.module("pascalprecht.translate").filter("translate",c),c.$inject=["$parse","$translate"],c.displayName="translateFilterFactory",angular.module("pascalprecht.translate").factory("$translationCache",u),u.$inject=["$cacheFactory"],u.displayName="$translationCache","pascalprecht.translate"}),!function(e,t){"undefined"!=typeof module&&module.exports?(t("undefined"==typeof angular?require("angular"):angular),module.exports="ngDialog"):"function"==typeof define&&define.amd?define(["angular"],t):t(e.angular)}(this,function(e){"use strict";var t=e.module("ngDialog",[]),n=e.element,o=e.isDefined,r=(document.body||document.documentElement).style,a=o(r.animation)||o(r.WebkitAnimation)||o(r.MozAnimation)||o(r.MsAnimation)||o(r.OAnimation),i="animationend webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend",s="a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]",l="ngdialog-disabled-animation",c={html:!1,body:!1},u={},d=[],p=!1,h=!1;return t.provider("ngDialog",function(){var t=this.defaults={className:"ngdialog-theme-default",disableAnimation:!1,plain:!1,showClose:!0,closeByDocument:!0,closeByEscape:!0,closeByNavigation:!1,appendTo:!1,preCloseCallback:!1,overlay:!0,cache:!0,trapFocus:!0,preserveFocus:!0,ariaAuto:!0,ariaRole:null,ariaLabelledById:null,ariaLabelledBySelector:null,ariaDescribedById:null,ariaDescribedBySelector:null};this.setForceHtmlReload=function(e){c.html=e||!1},this.setForceBodyReload=function(e){c.body=e||!1},this.setDefaults=function(n){e.extend(t,n)},this.setOpenOnePerName=function(e){h=e||!1};var o,r=0,f=0,m={};this.$get=["$document","$templateCache","$compile","$q","$http","$rootScope","$timeout","$window","$controller","$injector",function(b,g,v,y,w,_,x,C,$,q){var E=[],T={onDocumentKeydown:function(e){27===e.keyCode&&S.close("$escape")},activate:function(e){var t=e.data("$ngDialogOptions");t.trapFocus&&(e.on("keydown",T.onTrapFocusKeydown),E.body.on("keydown",T.onTrapFocusKeydown))},deactivate:function(e){e.off("keydown",T.onTrapFocusKeydown),E.body.off("keydown",T.onTrapFocusKeydown)},deactivateAll:function(t){e.forEach(t,function(t){var n=e.element(t);T.deactivate(n)})},setBodyPadding:function(e){var t=parseInt(E.body.css("padding-right")||0,10);E.body.css("padding-right",t+e+"px"),E.body.data("ng-dialog-original-padding",t),_.$broadcast("ngDialog.setPadding",e)},resetBodyPadding:function(){var e=E.body.data("ng-dialog-original-padding");e?E.body.css("padding-right",e+"px"):E.body.css("padding-right",""),_.$broadcast("ngDialog.setPadding",0)},performCloseDialog:function(e,t){var n=e.data("$ngDialogOptions"),r=e.attr("id"),s=u[r];if(s){if("undefined"!=typeof C.Hammer){var l=s.hammerTime;l.off("tap",o),l.destroy&&l.destroy(),delete s.hammerTime}else e.unbind("click");1===f&&E.body.unbind("keydown",T.onDocumentKeydown),e.hasClass("ngdialog-closing")||(f-=1);var c=e.data("$ngDialogPreviousFocus");c&&c.focus&&c.focus(),_.$broadcast("ngDialog.closing",e,t),f=0>f?0:f,a&&!n.disableAnimation?(s.$destroy(),e.unbind(i).bind(i,function(){T.closeDialogElement(e,t)}).addClass("ngdialog-closing")):(s.$destroy(),T.closeDialogElement(e,t)),m[r]&&(m[r].resolve({id:r,value:t,$dialog:e,remainingDialogs:f}),delete m[r]),u[r]&&delete u[r],d.splice(d.indexOf(r),1),d.length||(E.body.unbind("keydown",T.onDocumentKeydown),p=!1)}},closeDialogElement:function(e,t){e.remove(),0===f&&(E.html.removeClass("ngdialog-open"),E.body.removeClass("ngdialog-open"),T.resetBodyPadding()),_.$broadcast("ngDialog.closed",e,t)},closeDialog:function(t,n){var o=t.data("$ngDialogPreCloseCallback");if(o&&e.isFunction(o)){var r=o.call(t,n);e.isObject(r)?r.closePromise?r.closePromise.then(function(){T.performCloseDialog(t,n)}):r.then(function(){T.performCloseDialog(t,n)},function(){}):r!==!1&&T.performCloseDialog(t,n)}else T.performCloseDialog(t,n)},onTrapFocusKeydown:function(t){var n,o=e.element(t.currentTarget);if(o.hasClass("ngdialog"))n=o;else if(n=T.getActiveDialog(),null===n)return;var r=9===t.keyCode,a=t.shiftKey===!0;r&&T.handleTab(n,t,a)},handleTab:function(e,t,n){var o=T.getFocusableElements(e);if(0===o.length)return void(document.activeElement&&document.activeElement.blur());var r=document.activeElement,a=Array.prototype.indexOf.call(o,r),i=-1===a,s=0===a,l=a===o.length-1,c=!1;n?(i||s)&&(o[o.length-1].focus(),c=!0):(i||l)&&(o[0].focus(),c=!0),c&&(t.preventDefault(),t.stopPropagation())},autoFocus:function(e){var t=e[0],o=t.querySelector("*[autofocus]");if(null===o||(o.focus(),document.activeElement!==o)){var r=T.getFocusableElements(e);if(r.length>0)return void r[0].focus();var a=T.filterVisibleElements(t.querySelectorAll("h1,h2,h3,h4,h5,h6,p,span"));if(a.length>0){var i=a[0];n(i).attr("tabindex","-1").css("outline","0"),i.focus()}}},getFocusableElements:function(e){var t=e[0],n=t.querySelectorAll(s),o=T.filterTabbableElements(n);return T.filterVisibleElements(o)},filterTabbableElements:function(e){for(var t=[],o=0;o<e.length;o++){var r=e[o];"-1"!==n(r).attr("tabindex")&&t.push(r)}return t},filterVisibleElements:function(e){for(var t=[],n=0;n<e.length;n++){var o=e[n];(o.offsetWidth>0||o.offsetHeight>0)&&t.push(o)}return t},getActiveDialog:function(){var e=document.querySelectorAll(".ngdialog");return 0===e.length?null:n(e[e.length-1])},applyAriaAttributes:function(e,t){if(t.ariaAuto){if(!t.ariaRole){var n=T.getFocusableElements(e).length>0?"dialog":"alertdialog";t.ariaRole=n}t.ariaLabelledBySelector||(t.ariaLabelledBySelector="h1,h2,h3,h4,h5,h6"),t.ariaDescribedBySelector||(t.ariaDescribedBySelector="article,section,p")}t.ariaRole&&e.attr("role",t.ariaRole),T.applyAriaAttribute(e,"aria-labelledby",t.ariaLabelledById,t.ariaLabelledBySelector),T.applyAriaAttribute(e,"aria-describedby",t.ariaDescribedById,t.ariaDescribedBySelector)},applyAriaAttribute:function(e,t,o,r){if(o&&e.attr(t,o),r){var a=e.attr("id"),i=e[0].querySelector(r);if(!i)return;var s=a+"-"+t;return n(i).attr("id",s),e.attr(t,s),s}},detectUIRouter:function(){try{return e.module("ui.router"),!0}catch(t){return!1}},getRouterLocationEventName:function(){return T.detectUIRouter()?"$stateChangeSuccess":"$locationChangeSuccess"}},S={__PRIVATE__:T,open:function(a){function i(e,t){return _.$broadcast("ngDialog.templateLoading",e),w.get(e,t||{}).then(function(t){return _.$broadcast("ngDialog.templateLoaded",e),t.data||""})}function s(t){return t?e.isString(t)&&b.plain?t:"boolean"!=typeof b.cache||b.cache?i(t,{cache:g}):i(t,{cache:!1}):"Empty template"}var c=null;if(a=a||{},!(h&&a.name&&(c=a.name+" dialog",this.isOpen(c)))){var b=e.copy(t),A=++r;c=c||"ngdialog"+A,d.push(c),e.extend(b,a);var I;m[c]=I=y.defer();var D;u[c]=D=e.isObject(b.scope)?b.scope.$new():_.$new();var P,k,O=e.extend({},b.resolve);return e.forEach(O,function(t,n){O[n]=e.isString(t)?q.get(t):q.invoke(t,null,null,n)}),y.all({template:s(b.template||b.templateUrl),locals:y.all(O)}).then(function(t){var r=t.template,a=t.locals;b.showClose&&(r+='<div class="ngdialog-close"></div>');var i=b.overlay?"":" ngdialog-no-overlay";if(P=n('<div id="'+c+'" class="ngdialog'+i+'"></div>'),P.html(b.overlay?'<div class="ngdialog-overlay"></div><div class="ngdialog-content" role="document">'+r+"</div>":'<div class="ngdialog-content" role="document">'+r+"</div>"),P.data("$ngDialogOptions",b),D.ngDialogId=c,b.data&&e.isString(b.data)){var s=b.data.replace(/^\s*/,"")[0];D.ngDialogData="{"===s||"["===s?e.fromJson(b.data):new String(b.data),D.ngDialogData.ngDialogId=c}else b.data&&e.isObject(b.data)&&(D.ngDialogData=b.data,D.ngDialogData.ngDialogId=c);if(b.className&&P.addClass(b.className),b.disableAnimation&&P.addClass(l),k=b.appendTo&&e.isString(b.appendTo)?e.element(document.querySelector(b.appendTo)):E.body,T.applyAriaAttributes(P,b),b.preCloseCallback){var u;e.isFunction(b.preCloseCallback)?u=b.preCloseCallback:e.isString(b.preCloseCallback)&&D&&(e.isFunction(D[b.preCloseCallback])?u=D[b.preCloseCallback]:D.$parent&&e.isFunction(D.$parent[b.preCloseCallback])?u=D.$parent[b.preCloseCallback]:_&&e.isFunction(_[b.preCloseCallback])&&(u=_[b.preCloseCallback])),u&&P.data("$ngDialogPreCloseCallback",u)}if(D.closeThisDialog=function(e){T.closeDialog(P,e)},b.controller&&(e.isString(b.controller)||e.isArray(b.controller)||e.isFunction(b.controller))){var d;b.controllerAs&&e.isString(b.controllerAs)&&(d=b.controllerAs);var h=$(b.controller,e.extend(a,{$scope:D,$element:P}),!0,d);b.bindToController&&e.extend(h.instance,{ngDialogId:D.ngDialogId,ngDialogData:D.ngDialogData,closeThisDialog:D.closeThisDialog}),P.data("$ngDialogControllerController",h())}if(x(function(){var e=document.querySelectorAll(".ngdialog");T.deactivateAll(e),v(P)(D);var t=C.innerWidth-E.body.prop("clientWidth");E.html.addClass("ngdialog-open"),E.body.addClass("ngdialog-open");var n=t-(C.innerWidth-E.body.prop("clientWidth"));n>0&&T.setBodyPadding(n),k.append(P),T.activate(P),b.trapFocus&&T.autoFocus(P),b.name?_.$broadcast("ngDialog.opened",{dialog:P,name:b.name}):_.$broadcast("ngDialog.opened",P)}),p||(E.body.bind("keydown",T.onDocumentKeydown),p=!0),b.closeByNavigation){var m=T.getRouterLocationEventName();_.$on(m,function(){T.closeDialog(P)})}if(b.preserveFocus&&P.data("$ngDialogPreviousFocus",document.activeElement),o=function(e){var t=b.closeByDocument?n(e.target).hasClass("ngdialog-overlay"):!1,o=n(e.target).hasClass("ngdialog-close");(t||o)&&S.close(P.attr("id"),o?"$closeButton":"$document")},"undefined"!=typeof C.Hammer){var g=D.hammerTime=C.Hammer(P[0]);g.on("tap",o)}else P.bind("click",o);return f+=1,S}),{id:c,closePromise:I.promise,close:function(e){T.closeDialog(P,e)}}}},openConfirm:function(o){var r=y.defer(),a=e.copy(t);o=o||{},e.extend(a,o),a.scope=e.isObject(a.scope)?a.scope.$new():_.$new(),a.scope.confirm=function(e){r.resolve(e);var t=n(document.getElementById(i.id));T.performCloseDialog(t,e)};var i=S.open(a);return i?(i.closePromise.then(function(e){return e?r.reject(e.value):r.reject()}),r.promise):void 0},isOpen:function(e){var t=n(document.getElementById(e));return t.length>0},close:function(e,t){var o=n(document.getElementById(e));if(o.length)T.closeDialog(o,t);else if("$escape"===e){var r=d[d.length-1];o=n(document.getElementById(r)),o.data("$ngDialogOptions").closeByEscape&&T.closeDialog(o,"$escape")}else S.closeAll(t);return S},closeAll:function(e){for(var t=document.querySelectorAll(".ngdialog"),o=t.length-1;o>=0;o--){var r=t[o];T.closeDialog(n(r),e)}},getOpenDialogs:function(){return d},getDefaults:function(){return t}};return e.forEach(["html","body"],function(e){if(E[e]=b.find(e),c[e]){var t=T.getRouterLocationEventName();_.$on(t,function(){E[e]=b.find(e)})}}),S}]}),t.directive("ngDialog",["ngDialog",function(t){return{restrict:"A",scope:{ngDialogScope:"="},link:function(n,o,r){o.on("click",function(o){o.preventDefault();var a=e.isDefined(n.ngDialogScope)?n.ngDialogScope:"noScope";e.isDefined(r.ngDialogClosePrevious)&&t.close(r.ngDialogClosePrevious);var i=t.getDefaults();t.open({template:r.ngDialog,className:r.ngDialogClass||i.className,controller:r.ngDialogController,controllerAs:r.ngDialogControllerAs,bindToController:r.ngDialogBindToController,scope:a,data:r.ngDialogData,showClose:"false"===r.ngDialogShowClose?!1:"true"===r.ngDialogShowClose?!0:i.showClose,closeByDocument:"false"===r.ngDialogCloseByDocument?!1:"true"===r.ngDialogCloseByDocument?!0:i.closeByDocument,closeByEscape:"false"===r.ngDialogCloseByEscape?!1:"true"===r.ngDialogCloseByEscape?!0:i.closeByEscape,overlay:"false"===r.ngDialogOverlay?!1:"true"===r.ngDialogOverlay?!0:i.overlay,preCloseCallback:r.ngDialogPreCloseCallback||i.preCloseCallback})})}}}]),t}),angular.module("kenrobot",["ngRoute","ngSanitize","pascalprecht.translate","ngDialog"]).config(["$routeProvider","$translateProvider","langProvider",function(e,t,n){e.when("/",{templateUrl:"assets/views/main.html"}).when("/project/:hash",{templateUrl:"assets/views/main.html"}).otherwise({redirectTo:"/"});var o=n.$get();t.useSanitizeValueStrategy("escaped").translations("zh",o.zh).preferredLanguage("zh")}]).run(["_","bloqs","$rootScope","$location","$routeParams",function(e,t,n,o,r){n.$on("$locationChangeStart",function(e,t,n){var r=/project\/([0-9a-zA-Z]{6})$/.exec(t);r&&r[1]||o.path("/").replace()}),n.$on("$routeChangeSuccess",function(e){n.$emit("onRouteChange",r)}),t.setOptions({lang:"zh",forcedScrollTop:0,fieldOffsetLeft:66,fieldOffsetTopForced:66})}]),angular.module("kenrobot").controller("AlertController",["$scope","alertsService",function(e,t){e.alerts=t.getInstance(),e.generateSvgUrl=function(e){return"assets/image/sprite.svg#"+e}}]),angular.module("kenrobot").controller("ApiController",["$scope","$route","$timeout","$location","$rootScope","$window","hw2Bloqs","bloqs",function(e,t,n,o,r,a,i,s){function l(){return e.getCurrentProject()}function c(t){t=t||{};var n=!1;for(var o in t){n=!0;break}t=n?t:e.getDefaultProject(),e.setProject(t),i.repaint(),e.refreshCode(),r.$emit("refreshScroll"),r.$apply()}function u(){o.path("/").replace(),r.$apply()}var d={getProject:l,setProject:c,reload:u};e.getApi=function(){return d}}]),angular.module("kenrobot").controller("HardwareController",["$scope","$q","$timeout","$log","$window","$rootScope","$translate","$document","utils","common","hw2Bloqs","_","alertsService",function(e,t,n,o,r,a,i,s,l,c,u,d,p){function h(){e.hardware.componentList=c.hardware.components,e.hardware.boardList=c.hardware.boards,e.hardware.sortToolbox(),f(c.hardware),u.initialize(T,"boardSchema"),T.addEventListener("mousedown",m,!0),s.on("contextmenu",g),s.on("click",v),T.addEventListener("connectionEvent",I)}function f(t){e.allHwElements=[],d.each(t.boards,function(e){e.dragtype="boards"}),e.allHwElements=e.allHwElements.concat(t.boards),d.each(t.components,function(t,n){"oscillators"!==n&&(d.each(t,function(e){e.dragtype="components"}),e.allHwElements=e.allHwElements.concat(t))})}function m(t){t.target.classList.contains("component")&&(w(t.target),e.$$phase||e.$digest())}function b(){$(".hw-context-menu").css({display:"none"})}function g(t){return t.target.classList.contains("component")?(r.innerHeight-event.pageY>S.height()?S.css({display:"block",left:event.pageX+"px",top:event.pageY+"px"}):S.css({display:"block",left:event.pageX+"px",top:event.pageY-S.height()+"px"}),w(t.target)):t.target.classList.contains("board")||$(t.target).closest(".board").length?e.project.hardware.board&&A.css({display:"block",left:event.pageX+"px",top:event.pageY+"px"}):b(),t.preventDefault(),!1}function v(){b()}function y(t){var n=d.find(e.hardware.componentList[t.category],function(e){return e.id===t.id}),o=d.cloneDeep(n);e.project.hardware.components.push(o);var r={x:t.coordinates.x/T.clientWidth*100,y:t.coordinates.y/T.clientHeight*100};o.coordinates=r,o.category=t.category,o.name=_(o),o.connected=!1;var a=u.addComponent(o);w(a),e.boardSelected=!1,u.unselectAllConnections()}function w(t){$(".component").removeClass("component-selected");var n=d.find(e.project.hardware.components,function(e){return e.uid===t.dataset.uid});$(t).addClass("component-selected"),T.focus(),e.componentSelected=n,e.boardSelected=!1}function _(t){for(var n={},o=i.instant("default-var-name-"+t.id),r=d.filter(e.project.hardware.components,function(e){return e.category===t.category}),a=0;a<r.length;a++)n[r[a].name]=!0;for(var s=0,l=null;!l;)n[o+"_"+s]||(l=o+"_"+s),s++;return l}function x(){return{leds:[],rgbs:[],sensors:[],buzzers:[],servos:[],continuousServos:[],oscillators:[],lcds:[],serialElements:[],clocks:[],hts221:[]}}function C(t){t.anonymousTransient&&delete t.anonymousTransient;var n={};if(n.components=d.cloneDeep(e.project.hardware.components),n.connections=d.cloneDeep(e.project.hardware.connections),e.project.hardware.board){var o=d.find(e.hardware.boardList,function(t){return t.name===e.project.hardware.board});n.board=o}n.board&&(u.removeAllComponents(),u.loadSchema(n),u.repaint(),e.refreshComponentsArray(),e.hardware.firstLoad=!1,d.forEach(e.project.hardware.components,function(e){q(e)}))}function q(t){var n=d.find(e.hardware.componentList[t.category],{id:t.id}),o=document.querySelector('[data-uid="'+t.uid+'"]');o.style.width=n.width+"px",o.style.height=n.height+"px"}function E(e){var t="setup,loop,if,else,for,switch,case,while,do,break,continue,return,goto,define,include,HIGH,LOW,INPUT,OUTPUT,INPUT_PULLUP,true,false,interger, constants,floating,point,void,bool,char,unsigned,byte,int,word,long,float,double,string,String,array,static, volatile,const,sizeof,pinMode,digitalWrite,digitalRead,analogReference,analogRead,analogWrite,tone,noTone,shiftOut,shitIn,pulseIn,millis,micros,delay,delayMicroseconds,min,max,abs,constrain,map,pow,sqrt,sin,cos,tan,randomSeed,random,lowByte,highByte,bitRead,bitWrite,bitSet,bitClear,bit,attachInterrupt,detachInterrupt,interrupts,noInterrupts";if(t=t.split(","),e&&e.length>0){for(var n=0,o=0;n<e.length&&!isNaN(parseFloat(e[n]));)e=e.substring(1,e.length);for(e=e.replace(/([áàâä])/g,"a").replace(/([éèêë])/g,"e").replace(/([íìîï])/g,"i").replace(/([óòôö])/g,"o").replace(/([úùûü])/g,"u"),e=e.replace(/([ÁÀÂÄ])/g,"A").replace(/([ÉÈÊË])/g,"E").replace(/([ÍÌÎÏ])/g,"I").replace(/([ÓÒÔÖ])/g,"O").replace(/([ÚÙÛÜ])/g,"U"),e=e.replace(/([ ])/g,"_").replace(/([ñ])/g,"n"),e=e.replace(/([\/\,\!\\\^\$\{\}\[\]\(\)\.\*\+\?\|<>\-\&\Ç\%\=\~\{\}\¿\¡\"\@\:\;\-\"\·\|\º\ª\¨\'\·\̣\─\ç\`\´\¨\^])/g,""),n=0;n<e.length&&!isNaN(parseFloat(e[n]));)e=e.substring(1,e.length);for(o=0;o<t.length;o++)if(e===t[o]){e+="_";break}}return e}var T=l.getDOMElement(".protocanvas"),S=$("#component-context-menu"),A=$("#board-context-menu"),I=function(t){function n(e){var t=d.filter(e,function(e){return!!e});return t.length>0}var o,r;o=d.find(e.project.hardware.components,{uid:t.componentData.uid}),o&&("attach"===t.protoBoLaAction?(r=Object.keys(t.componentData.pin)[0],o.pin.hasOwnProperty(r)&&(o.pin[r]=t.componentData.pin[r]),a.$emit("component-connected")):"detach"===t.protoBoLaAction&&(r=Object.keys(t.componentData.pin)[0],o.pin.hasOwnProperty(r)&&(o.pin[r]=void 0)),n(o.pin)?o.connected=!0:o.connected=!1,e.refreshComponentsArray())},D=function(t){return e.project.hardware.board===t.name?!1:(u.addBoard(t),e.project.hardware.board=t.name,e.project.hardware.board_type=t.board_type,e.refreshComponentsArray(),void a.$broadcast("toolboxSelect","components"))};e.hardware.sortToolbox=function(){var t=d.cloneDeep(e.hardware.componentList),n=[];d.each(t,function(e,t){e.forEach(function(e){e.category=t}),n.push(e)});var o=d.each(d.flatten(n),function(e){e.name=i.instant(e.id)});c.hardware.componentSortered=d.sortBy(o,"name"),e.filterComponent()},e.filterComponent=function(){e.project.hardware.board_type?c.hardware.componentFiltered=d.filter(c.hardware.componentSortered,"board_type",e.project.hardware.board_type):c.hardware.componentFiltered=c.hardware.componentSortered},e.deleteBoard=function(){u.removeBoard(),e.boardSelected=!1,e.project.hardware.board=null,e.project.hardware.board_type=null,e.refreshComponentsArray()};var P=function(){e.componentSelected?(e.deleteComponent(),e.componentSelected=!1):e.boardSelected?e.deleteBoard():u.removeSelectedConnection()};h(),e.baudRates=["300","1200","2400","4800","9600","14400","19200","28800","38400","57600","115200"],e.componentSelected=null,e.inputFocus=!1,e.offsetTop=["header","nav--make","actions--make","tabs--title"],e.setBaudRate=function(t){e.componentSelected.baudRate=t},e.setInputFocus=function(){e.inputFocus=!0},e.unsetInputFocus=function(){e.inputFocus=!1,T.focus()},e.detectElement=function(t){if(t.target.classList.contains("component")){e.unsetInputFocus();var n=t.target,o=d.find(e.project.hardware.components,function(e){return e.uid===n.dataset.uid}),r={x:n.offsetLeft/T.offsetWidth*100,y:n.offsetTop/T.offsetHeight*100};!d.isEqual(r,o.coordinates)&&o.connected&&(o.coordinates=r)}else $(t.target).closest(".jsplumb-connector",T).length||$(t.target).closest(".board_ep",T).length||$(t.target).closest(".component_ep",T).length?(e.componentSelected=null,$(".component").removeClass("component-selected")):t.target.classList.contains("board")||$(t.target).closest(".board").length?(e.boardSelected=!0,e.componentSelected=null,$(".component").removeClass("component-selected"),u.unselectAllConnections()):t.target.classList.contains("component__container")||(t.target.classList.contains("oscillator--checkbox")?e.unsetInputFocus():$(t.target).closest(".baudrate__dropdown").length?(e.unsetInputFocus(),t.preventDefault()):t.target.classList.contains("component-name__input")?e.setInputFocus():$(t.target).closest(".component-name__container").length?e.unsetInputFocus():(e.boardSelected=e.componentSelected=!1,$(".component").removeClass("component-selected"),u.unselectAllConnections()))},e.duplicateComponent=function(t){if(!e.componentSelected)throw Error("componentSelected undefined");var n=d.cloneDeep(t);delete n.endpoints,delete n.pin,delete n.uid,n.connected=!1,e.project.hardware.components.push(n);var o={x:e.componentSelected.coordinates.x>85?88:e.componentSelected.coordinates.x+3,y:e.componentSelected.coordinates.y>85?88:e.componentSelected.coordinates.y+3};n.coordinates=o,n.name=_(n);var r=u.addComponent(n);e.$$phase||e.$digest(),w(r),u.unselectAllConnections()},e.disconnectComponent=function(t){u.disconnectComponent(t||e.componentSelected),e.refreshComponentsArray(),b()},e.disconnectAllComponents=function(){u.disconnectAllComponents(),e.refreshComponentsArray(),b()},e.deleteComponent=function(){e.disconnectComponent();var t=d.remove(e.project.hardware.components,function(t){return e.componentSelected.uid===t.uid}),n=$('[data-uid="'+t[0].uid+'"]')[0];e.componentSelected=!1,u.removeComponent(n),e.refreshComponentsArray()},e.hardware.cleanSchema=function(){u.removeAllComponents(),e.deleteBoard(),e.refreshComponentsArray()},e.anyComponent=function(){if(d.isEqual(e.componentsArray,x()))return!1;var t=d.pick(e.componentsArray,function(e){return e.length>0}),n=d.cloneDeep(t);return n.serialElements&&delete n.serialElements,n.board&&delete n.board,Object.keys(n).length>0},e.drop=function(t){if("boards"===t.type){var n=d.find(e.hardware.boardList,function(e){return e.id===t.id});D(n)}else if("components"===t.type){if(!e.project.hardware.board)return p.add("bloqs-project_alert_no-board","error_noboard","error"),!1;y(t)}},e.$watch("project.hardware",function(e,t){e&&(e!==t||e.anonymousTransient)&&C(e)}),e.$watch("project.hardware.board_type",function(t,n){e.filterComponent()}),e.checkName=function(){var t=d.filter(e.project.hardware.components,{name:e.componentSelected.name});t instanceof Array&&t.length>1&&(e.componentSelected.name+="_copy");var n=E(e.componentSelected.name);n!==e.componentSelected.name&&(e.componentSelected.name=n),e.componentSelected.connected&&e.refreshComponentsArray()},e.$watch("componentSelected.oscillator",function(t,n){t!==n&&e.refreshComponentsArray()}),e.$watch("componentSelected.name",function(t,o){""===o&&""!==t?n.cancel(e.timeoutCode):t&&o&&t!==o?e.checkName():""===t&&(n.cancel(e.timeoutCode),e.timeoutCode=n(function(){e.componentSelected.name=_(e.componentSelected)},3e3))}),e.$watch("componentSelected.baudRate",function(t,n){t!==n&&(e.refreshComponentsArray(),e.refreshCode())}),a.$on("$translateChangeEnd",function(){e.hardware.sortToolbox()});var k=function(){e.hardware.clonComponent=e.componentSelected},O=function(){e.hardware.clonComponent&&(e.duplicateComponent(e.hardware.clonComponent),e.hardware.clonComponent=e.componentSelected)};e.onHwKeyPress=function(t){switch(t.which){case 67:if(t.ctrlKey){if(e.inputFocus)return!1;k(),t.preventDefault()}break;case 86:if(t.ctrlKey){if(e.inputFocus)return!1;O(),t.preventDefault()}break;case 8:if(e.inputFocus)return!1;P(),t.preventDefault();break;case 46:if(e.inputFocus)return!1;P(),t.preventDefault()}},e.$on("$destroy",function(){T.removeEventListener("connectionEvent",I),T.removeEventListener("mousedown",m),s.off("contextmenu",g),s.off("click",v)})}]),angular.module("kenrobot").controller("ProjectController",["$scope","$rootScope","$timeout","hw2Bloqs","$window","$document","bloqsUtils","common","_","$log","bloqs",function(e,t,n,o,r,a,i,s,l,c,u){function d(e){return e.replace(/Bitbloq/g,"Kenrobot").replace(/bq/g,"ken")}e.hw2Bloqs=o,
e.commonHardware=s.hardware,e.setProject=function(t){o.removeAllComponents(),e.deleteBoard(),e.refreshComponentsArray(),e.project=t,e.refreshComponentsArray(),e.refreshSoftware()},e.refreshSoftware=function(){var t=$("#bloqs--field");e.arduinoMainBloqs.varsBloq&&(u.removeBloq(e.arduinoMainBloqs.varsBloq.uuid,!0),e.arduinoMainBloqs.varsBloq=null,u.removeBloq(e.arduinoMainBloqs.setupBloq.uuid,!0),e.arduinoMainBloqs.setupBloq=null,u.removeBloq(e.arduinoMainBloqs.loopBloq.uuid,!0),e.arduinoMainBloqs.loopBloq=null),e.arduinoMainBloqs.varsBloq=u.buildBloqWithContent(e.project.software.vars,e.componentsArray,s.bloqsSchemas,t),e.arduinoMainBloqs.setupBloq=u.buildBloqWithContent(e.project.software.setup,e.componentsArray,s.bloqsSchemas,t),e.arduinoMainBloqs.loopBloq=u.buildBloqWithContent(e.project.software.loop,e.componentsArray,s.bloqsSchemas,t),t.append(e.arduinoMainBloqs.varsBloq.$bloq,e.arduinoMainBloqs.setupBloq.$bloq,e.arduinoMainBloqs.loopBloq.$bloq),e.arduinoMainBloqs.varsBloq.enable(!0),e.arduinoMainBloqs.varsBloq.doConnectable(),e.arduinoMainBloqs.varsBloq.collapseGroupContent(),e.arduinoMainBloqs.setupBloq.enable(!0),e.arduinoMainBloqs.setupBloq.doConnectable(),e.arduinoMainBloqs.setupBloq.collapseGroupContent(),e.arduinoMainBloqs.loopBloq.enable(!0),e.arduinoMainBloqs.loopBloq.doConnectable()},e.deleteBoard=function(){o.removeBoard(),e.boardSelected=!1,e.project.hardware.board=null,e.project.hardware.board_type=null,e.refreshComponentsArray()},e.tabsClick=function(){u.componentsArray=e.componentsArray,e.refreshCode(),n(function(){t.$emit("bloqs:updated")},10)},e.refreshCode=function(){e.updateBloqs(),e.project.code=i.getCode(e.componentsArray,e.arduinoMainBloqs),e.code=d(e.project.code)},e.updateBloqs=function(){if(e.arduinoMainBloqs.varsBloq){var t=u.bloqs,n=[];for(var o in t)t[o].componentsArray=e.componentsArray;var r=function(e,t){var n,o;if(o=e.dataset.reference,n=e.dataset.value,i.drawDropdownOptions($(e),t),o&&n){var r=t.find(function(e){return e.uid===o});r&&(e.value=r.name,e.dataset.reference=r.uid,e.dataset.value=r.name)}else e.selectedIndex=0},a=document.getElementsByClassName("bloqs-tab")[0];for(var s in e.componentsArray)if(e.componentsArray[s].length){for(var l=a.querySelectorAll('select[data-dropdowncontent="'+s+'"]'),c=0,d=l.length;d>c;c++)r(l[c],e.componentsArray[s]);n=n.concat(e.componentsArray[s])}if(a)for(var p=a.querySelectorAll('select[data-dropdowncontent="varComponents"]'),h=0,f=p.length;f>h;h++)r(p[h],n,!0)}},e.showComponents=function(t){var n=["analogWrite","digitalWrite","pinReadAdvanced","pinWriteAdvanced","turnOnOffAdvanced","digitalReadAdvanced","analogReadAdvanced"];if(-1===n.indexOf(t)){var o=!1,r=l.keys(l.pick(e.componentsArray,function(e){return e.length>0}));return"hwVariable"===t&&0!==r.length?o=!0:r.forEach(function(n){t.indexOf("serial")>-1?o=e.showCommunications(t):("s"===n[n.length-1]&&(n=n.substring(0,n.length-1)),"servo"===n&&(n="servoNormal"),t=t.toUpperCase(),n=n.toUpperCase(),t.includes("RGBLED")?n.includes("RGB")&&(o=!0):!n.includes("SERVO")&&"OSCILLATOR"!==n||"SERVOATTACH"!==t&&"SERVODETACH"!==t?(t.includes(n)||n.includes(t))&&(o=!0):o=!0)}),o}return!0},e.refreshComponentsArray=function(){var t=i.getEmptyComponentsArray(),n=[],o=!1,r=[],a=[];e.project.hardware.components.forEach(function(e){e.connected&&(e.oscillator===!0||"true"===e.oscillator?t.oscillators.push(l.cloneDeep(e)):t[e.category].push(l.cloneDeep(e)),r.push({uid:e.uid,name:e.name}),n.push(e.id))}),e.project.hardwareTags=l.uniq(n),e.project.hardware.board&&e.project.hardwareTags.push(e.project.hardware.board),l.forEach(e.componentsArray,function(t,n){var o=l.map(e.componentsArray[n],function(e){return{uid:e.uid,name:e.name}});o&&o.length>0&&(a=a.concat(o))}),(r.length>0||a.length>0)&&(l.isEqual(a,r)||e.hardware.firstLoad||(o=!0)),e.componentsArray=t,u.componentsArray=e.componentsArray,e.updateBloqs()},e.showCommunications=function(t){var n=["convert"];return e.componentsArray.serialElements?!(-1===n.indexOf(t)&&0===e.componentsArray.serialElements.length):!1},e.getHardwareSchema=function(){var t=o.saveSchema();return t?(t.components=t.components.map(function(t){var n=l.find(e.project.hardware.components,{uid:t.uid});return n.connected=t.connected,n}),t.board=e.project.hardware.board,t):l.cloneDeep(e.project.hardware)},e.getCurrentProject=function(){var t=l.cloneDeep(e.project);return e.arduinoMainBloqs.varsBloq&&(t.software={vars:e.arduinoMainBloqs.varsBloq.getBloqsStructure(),setup:e.arduinoMainBloqs.setupBloq.getBloqsStructure(),loop:e.arduinoMainBloqs.loopBloq.getBloqsStructure()}),t.hardware=e.getHardwareSchema(),e.project.code=i.getCode(e.componentsArray,e.arduinoMainBloqs),t.code=e.project.code,t},a.on("keyup",function(e){return event.ctrlKey&&83===event.which?!1:void 0}),e.componentsArray=i.getEmptyComponentsArray(),e.arduinoMainBloqs={varsBloq:null,setupBloq:null,loopBloq:null},e.hardware={boardList:null,componentList:null,cleanSchema:null,firstLoad:!0,sortToolbox:null},e.getDefaultProject=function(){return{hardwareTags:[],compiled:!1,defaultTheme:"infotab_option_colorTheme",software:{vars:{enable:!0,name:"varsBloq",childs:[],content:[[]]},setup:{enable:!0,name:"setupBloq",childs:[],content:[[]]},loop:{enable:!0,name:"loopBloq",childs:[],content:[[]]}},hardware:{board:null,components:[],connections:[]}}},e.project=e.getDefaultProject()}]),angular.module("kenrobot").controller("SoftwareController",["$scope","common","bloqs","$translate","$rootScope","$document","$log","$window","$timeout",function(e,t,n,o,r,a,i,s,l){function c(t){var o=$(t.target).closest(".bloq"),r=o.attr("data-bloq-id");r&&!o.hasClass("bloq--group")&&n.bloqs[r].isConnectable()?(t.preventDefault(),e.$apply(function(){e.contextMenuBloq=n.bloqs[r]}),angular.element(s).height()-t.pageY>p.height()?p.css({display:"block",left:t.pageX+"px",top:t.pageY+"px"}):p.css({display:"block",left:t.pageX+"px",top:t.pageY-p.height()+"px"})):p.css({display:"none"})}function u(){p.css({display:"none"})}function d(o){var r=n.buildBloqWithContent(o.structure,e.componentsArray,t.bloqsSchemas);r.doConnectable(),r.disable(),r.$bloq[0].style.transform="translate("+(o.left-50)+"px,"+(o.top-100)+"px)",e.$field.append(r.$bloq)}e.commonSoftware=t.software,e.onFieldKeyUp=function(t){switch(t.keyCode){case 46:case 8:if(a[0].activeElement.attributes["data-bloq-id"]){t.preventDefault();var o=n.bloqs[a[0].activeElement.attributes["data-bloq-id"].value];"group"!==o.bloqData.type&&n.bloqs[o.uuid].isConnectable()&&(n.removeBloq(a[0].activeElement.attributes["data-bloq-id"].value,!0),e.$field.focus())}}},e.enableBloqFromContextMenu=function(e){e.enable()},e.disableBloqFromContextMenu=function(e){e.disable()},e.removeBloqFromContextMenu=function(e){n.removeBloq(e.uuid,!0)},e.duplicateBloqFromContextMenu=function(e){var t=e.$bloq[0].getBoundingClientRect();d({structure:e.getBloqsStructure(),top:t.top,left:t.left})},n.updateDropdowns();var p=$("#bloqs-context-menu");e.$field=$("#bloqs--field").last(),a.on("contextmenu",c),a.on("click",u),l(function(){e.refreshSoftware()},100)}]),angular.module("kenrobot").directive("commonDropdown",["common",function(e){return{restrict:"E",templateUrl:"assets/views/components/common-dropdown.html",scope:{options:"=",translateOptions:"=",disabled:"=",behavior:"=",headingOption:"=",preHeading:"=",preHeadingClass:"=",heading:"=",postHeading:"=",postHeadingClass:"=",optionsClick:"=",elementData:"=",selectedOption:"="},link:function(t){t.collapsed=!0,t.selectedOption&&(t.selected=e.translate(t.selectedOption),t.optionsClick(t.selectedOption)),t.triggerSelect=function(){t.collapsed=!t.collapsed},t.selectOption=function(n){t.selected=e.translate(t.options[n]),t.collapsed=!0,t.optionsClick(t.options[n])}}}}]),angular.module("kenrobot").directive("creator",["$log","bloqs","common",function(e,t,n){return{restrict:"A",name:"creator",scope:{componentsArray:"=",bloqSchema:"="},link:function(e,o){function r(){i=new t.Bloq({bloqData:n.bloqsSchemas[e.bloqSchema],componentsArray:e.componentsArray}),o.append(i.$bloq),i.$bloq[0].addEventListener("bloq:connectable",a)}function a(){i.$bloq[0].removeEventListener("bloq:connectable",a),r()}var i,s;e.bloqSchema?r():s=e.$watch("bloqSchema",function(e){e&&(s(),r())})}}}]),angular.module("kenrobot").directive("draggable",function(){return function(e,t,n){var o=t[0];o.draggable=!0,o.addEventListener("dragstart",function(e){return e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("mouseOffsetX",e.offsetX),e.dataTransfer.setData("mouseOffsetY",e.offsetY),e.dataTransfer.setData("dragtype:"+n.dragtype,""),e.dataTransfer.setData("dragtype",n.dragtype),e.dataTransfer.setData("dragcategory",n.dragcategory),e.dataTransfer.setData("dragid",n.dragid),this.classList.add("dragging"),!1},!1),o.addEventListener("dragend",function(){return this.classList.remove("dragging"),!1},!1)}}),angular.module("kenrobot").directive("dropdown",["$parse","$timeout","$filter",function(e,t,n){return{restrict:"E",templateUrl:"assets/views/components/dropdown.html",scope:{optionsClick:"=",tree:"="},controllerAs:"dropdown",controller:["$scope","$element","$attrs",function(e,n,o){var r=this;r.activeMenu=null,r.select=function(e){r.activeMenu===e?r.activeMenu=null:r.activeMenu=e},r.closeDropdown=function(){t(function(){r.activeMenu=null},0)},$(document).on("click",function(){return $(event.target).closest("dropdown").length>0?!1:void r.closeDropdown()})}]}}]),angular.module("kenrobot").directive("droppable",function(){var e=function(e){for(var t,n=-66,o=0;o<e.length;o++)t=document.getElementsByClassName(e[o]),t[0]&&(n+=t[0].clientHeight);return n};return{scope:{drop:"=",dropOffsetTop:"="},link:function(t,n,o){var r=n[0],a=0;r.addEventListener("dragover",function(e){e.dataTransfer.dropEffect="move",e.preventDefault&&e.preventDefault()},!1),r.addEventListener("dragenter",function(e){a++;var t=e.dataTransfer.types.indexOf("dragtype:board"),n=e.dataTransfer.types.indexOf("dragtype:component"),o=null;-1!==t?o="board":-1!==n&&(o="component"),this.classList.add("dragging-over"),this.classList.add("dragging-"+o)},!1),r.addEventListener("dragleave",function(){a--,0===a&&(this.classList.remove("dragging-over"),this.classList.remove("dragging-board"),this.classList.remove("dragging-component"))},!1),r.addEventListener("drop",function(n){n.preventDefault&&n.preventDefault(),n.stopPropogation&&n.stopPropogation(),a=0;var r={x:n.clientX-o.dropOffsetLeft-n.dataTransfer.getData("mouseOffsetX"),y:n.clientY-e(t.dropOffsetTop)-n.dataTransfer.getData("mouseOffsetY")},i={type:n.dataTransfer.getData("dragtype"),id:n.dataTransfer.getData("dragid"),coordinates:r,category:n.dataTransfer.getData("dragcategory")};this.classList.remove("dragging-over"),this.classList.remove("dragging-"+i.type),t.$apply(function(e){e.drop(i)})},!1)}}}),angular.module("kenrobot").directive("prism",function(){return{name:"prism",template:'<pre class="line-numbers"><code class="language-clike"></code></pre>',restrict:"E",scope:{code:"="},link:function(e,t){var n=t[0].firstChild.firstChild,o=function(e,t){function n(e){return"/* beautify ignore:start */"+e+"/* beautify ignore:end */"}var o=""+t;o=o.replace(/(#include *.*)/gm,n).replace(/(#define *.*)/gm,n),o=js_beautify(o),o=o.replace(/(\/\* (beautify)+ .*? \*\/)/gm,""),angular.element(e).text(o),Prism.highlightElement(e)};e.$watch("code",function(t,r){t!==r&&o(n,e.code)})}}}),angular.module("kenrobot").directive("scrollbar",function(){return{restrict:"E",template:'<div ng-show="showScroll" class="scrollbar"><div class="scrollbar--inner"></div></div>',scope:{type:"=",target:"@",container:"@"},controller:["$rootScope","$scope","$element","$attrs","$window","_",function(e,t,n,o,r,a){function i(){switch(b=angular.element(t.target),g=angular.element(t.container),v=angular.element(n),y=v.find(".scrollbar--inner"),t.type){case"horizontal":f=s(),m=g.width();break;case"vertical":f=l(),m=g.height();break;default:throw"Not an orientation"}f>m?(t.showScroll=!0,c(t.type)):t.showScroll=!1}function s(){return Math.max.apply(null,b.map(function(){return this.scrollWidth}))}function l(){return Math.max.apply(null,b.map(function(){return this.scrollHeight}))}function c(){"horizontal"===t.type?y.width(f+100):y.height(f)}function u(e){v.scrollLeft(e.currentTarget.scrollLeft)}function d(e){g.scrollLeft(e.currentTarget.scrollLeft)}function p(e){v.scrollTop(e.currentTarget.scrollTop)}function h(e){b.scrollTop(e.currentTarget.scrollTop)}var f,m,b=angular.element(t.target),g=angular.element(t.container),v=angular.element(n),y=v.find(".scrollbar--inner");i(),"horizontal"===t.type?(g.on("scroll",a.throttle(u,50)),n.on("scroll",a.throttle(d,50))):(b.on("scroll",a.throttle(p,50)),v.on("scroll",a.throttle(h,50))),r.addEventListener("bloqs:bloqremoved",a.throttle(i,250)),r.addEventListener("bloqs:dragend",a.throttle(i,250)),e.$on("bloqs:updated",a.throttle(i,50)),e.$on("refreshScroll",i)}]}}),angular.module("kenrobot").directive("tab",function(){return{restrict:"E",transclude:!0,template:'<div class="tab" role="tabpanel" ng-show="active" ng-transclude></div>',require:"^tabset",scope:{heading:"=",icon:"=",iconSize:"=",callback:"="},link:function(e,t,n,o){e.active=!1,e.disabled=!1,n.disable&&n.$observe("disable",function(t){e.disabled="false"!==t}),o.addTab(e)}}}),angular.module("kenrobot").directive("tabset",function(){return{restrict:"E",transclude:!0,scope:{},templateUrl:"assets/views/components/tabset.html",bindToController:!0,controllerAs:"tabset",controller:function(){var e=this;e.tabs=[],e.addTab=function(t){e.tabs.push(t),1===e.tabs.length&&(t.active=!0)},e.select=function(t){t.disabled||(angular.forEach(e.tabs,function(e){e.active&&e!==t&&(e.active=!1)}),t.active=!0)}}}}),angular.module("kenrobot").directive("toolbox",["$parse","$timeout",function(e,t){return{restrict:"E",templateUrl:"assets/views/components/toolbox.html",scope:{tree:"=",type:"@",showComponents:"=",componentsArray:"=",showCommunications:"="},controllerAs:"toolbox",controller:["$rootScope","$scope",function(e,n){var o=this;o.activeMenu=null,o.menuLevel=0,o.select=function(e,t){return t?o.menuLevel=2:(o.menuLevel=1,void(o.activeMenu===e?(o.activeMenu=null,o.menuLevel=0):o.activeMenu=e))},o.closeDropdown=function(){t(function(){o.activeMenu=null,o.menuLevel=0},0)},e.$on("toolboxSelect",function(e,t){"hardware"===n.type&&o.select(t)}),$(document).on("click",function(e){return $(e.target).closest("toolbox").length>0?!1:void o.closeDropdown()})}]}}]),angular.module("kenrobot").factory("_",["$window",function(e){return e._}]).factory("jsPlumb",["$window",function(e){return e.jsPlumb}]),angular.module("kenrobot").provider("lang",function(){var e={zh:{"text-join":" and ",back:"< Back",enter:"Log in",send:"Send",exit:"Log out",learn:"Learn",help:"Help",make:"Make",explore:"Explore",info:"Info",name:"名字","insert-name":"Enter name",description:"Description",video:"Video","more-info":"More info",download:"Download",file:"File",edit:"Edit",see:"View","see:":"View:",share:"Share",shared:"Shared",save:"Save",undo:"Undo",redo:"Redo",faq:"FAQs","publish-project":"Publish project","share-social-networks":"Share on social networks","share-with-users":"Share with other users","do-private":"Make private",atention:"Caution!","enter-or-register":"Log in or Register","continue-as-guest":"Continue as guest",boards:"开发板",components:"模块",led:"LED",SEN001:"开关模块",SEN002:"按键模块",SEN004:"碰撞传感模块",SEN005:"电位器模块",SEN013:"光敏传感模块",ACT001:"LED模块",ACT005:"蜂鸣器模块",buzz:"蜂鸣器",us:"超声波模块",button:"按键模块",buttons:"矩阵键盘",irs:"光电对管",irs2:"循迹模块",joystick:"摇杆",ldrs:"光敏传感器",pot:"电位器",servo:"舵机",servocont:"全角度舵机",lcd:"液晶模块",bt:"蓝牙模块",sp:"串口模块",robots:"Robots","or-higher":"or later","last-change":"Last update",verify:"Check",load:"Load",hardware:"Hardware",software:"Software","project-info":"Project info","user-profile":"User profile",surname:"Surname","user-name":"Username",email:"Email",password:"Password","google+":"Google +",facebook:"Facebook","profile-avatar":"Profile avatar","upload-image":"Upload image",language:"Language",bloqs:"Blocks",code:"Code",tags:"Tags",add:"Add",or:"or",newsletter:"I´m a teacher and/or I want to receive the latest news and tips on the app",twitter:"Twitter",find:"Search...",days:"DD",months:"MM",years:"YYYY","write-us":"Contact us",tutorials:"Tutorials","tutorials-simple":"We are preparing some simple tutorials to help you start programming with the new Bitbloq 2. If you want to send us a tutorial or suggest a new feature, click here!","tutorials-preparing":"We are finishing them!",basics:"Basics","leave-without-save":"There are unsaved changes and you could lost them if you leave.","filter-by-all":"All","filter-by-not-published":"Not published","filter-by-published":"Published","filter-by-shared":"Shared","filter-by-compile":"Compiled","filter-by-not-compile":"Not compiled","new-project":"Untitled project","no-project":"This project does not exist","error-project":"Unknown error on loading project: {{value}}","create-new-project":"New project","open-project":"Open project","open-project-from-file":"Open from file","my-projects":"My projects",projects:"Projects","delete-project":"Delete project","download-project":"Download project","export-arduino-code":"Export Arduino code","more-zoom":"Zoom in","less-zoom":"Zoom out","reset-zoom":"Restore to default","show-console":"Show serial monitor","to-explore":"Publish on Explore","with-another-users":"With other users","on-social-media":"On social networks","basic-tutorials":"Basic tutorials","send-comment":"Send feedback","notify-error":"Report an error","goto-bitbloq-forum":"Go to Bitbloq forum","copy-selected-text":"Copy selected text","no-mac-support":"Available soon","change-name":"Rename","create-copy":"Make a copy","change-language":"Change language","saved-at":"Saved at:","last-session":"Last session",unsaved:"Not saved",cancel:"Cancel","no-components-connected":"No components connected","need-to-be-logged":"You need to log in to Bitbloq to perform this action.","you-are-not-the-admin-copy-it":"You are not the project owner. Make a copy!","you-are-not-the-admin":"You are not the project owner.","empty-project":"The project is empty.","landing-header-title":"Explore Bitbloq","landing-header-whatisit":"What is it?","landing-header-howitworks":"How does it work?","landing-header-ecosystem":"Ecosystem","landing-header-forwho":"Who is Bitbloq for?","landing-header-faqs":"FAQs","landing-header-blog":"Blog","landing-main-title":"Want to program the world?","landing-main-subtitle":"Learn to program through play. Create anything you can imagine: robots, electronic games or even your own inventions!","landing-main-button-start":"Start playing","landing-secondary-title":"How does Bitbloq work?","landing-secondary-subtitle":"Bitbloq enables you to program quickly and intuitively using blocks. What´s more, you can create your own projects and share them with the community. Electronics and programming have never been so much fun!","landing-secondary-section-easy":"Learn how to create technology","landing-secondary-section-easy-text":"Program from scratch with no previous knowledge of code.  An enjoyable way of learning how technology is created.","landing-secondary-section-learn":"Block programming","landing-secondary-section-learn-text":"the blocks fit together like pieces of a puzzle.","landing-secondary-section-robot":"Create your own inventions…","landing-secondary-section-robot-text":"With Bitbloq and BQ electronics, you can  create and program your inventions and bring them to life.","landing-secondary-section-share":"... and share them.","landing-secondary-section-share-text":"Join the community! Share your projects with other kids, test or modify theirs.","landing-third-title":"Imagination rules!","landing-third-subtitle":"With Bitbloq and BQ electronics, you can create anything you can think of, from robots, home automation projects to electronic games. Your imagination truly has no limits!","landing-third-discover-link":"Discover BQ electronics and PrintBots.","landing-fourth-title":"Bitbloq, for kids and grown-ups alike","landing-fourth-subtitle":"Technology surrounds us in our everyday lives, but do we actually know how works? Bitbloq shows both kids and adults how it really works, demystifying it in the process. It´s not magic, it´s technology!","landing-secondary-section-family":"Technology for the whole family","landing-secondary-section-family-text":"For parents wanting to introduce their kids to robotics, electronics or programming, Bitbloq provides them with the necessary tools to enter this exciting world.","landing-secondary-section-howisused":"This is how kids are using Bitbloq.","landing-secondary-section-little":"For youngsters","landing-secondary-section-little-text":"Can you imagine creating a robot? Or creating your own inventions and getting them to do what you want? With Bitbloq, you can create them from scratch, program them and manage them any way you want.","landing-secondary-section-allucan":"Check out everything you can do!","landing-secondary-section-classroom":"Technology in the classroom","landing-secondary-section-classroom-text":"Children experience technology merely as users but most of them don’t understand it really works. Using Bitbloq, educators will teach to them how to be create technology.","landing-secondary-section-teach":"Discover a new way of teaching.","landing-fifth-title":"FAQs","landing-fifth-text-title-first":"How is Bitbloq similar to Scratch?","landing-fifth-text-first":"Bitbloq uses the same programming paradigm as Scratch, meaning that it uses blocks to build programs which fit together like pieces of a puzzle. This makes programming accessible to kids, as they don´t have to worry about the syntax (i.e. they don´t need to learn how to write code in a literal programming language such as Processing, C++ or Java). Bitbloq uses this paradigm because it has been proven to be effective among children, and also because Scratch is already used in many schools and education centres. Our philosophy is that it´s better to join forces than to reinvent the wheel. We have developed Bitbloq using open source software libraries, primarily ","landing-fifth-text-title-first-firstlink":"Blockly","landing-fifth-text-title-first-second":", a library developed by Google for creating online applications using using blocks. That´s why tools similar to Bitbloq exist, such as","landing-fifth-text-title-first-secondlink":" BlocklyDuino","landing-fifth-text-title-first-third":". As with Bitbloq, these tools are all open source and can be freely used and modified by users and developers.","landing-fifth-text-title-fourth":"Can Bitbloq and Scratch be used for the same purpose?","landing-fifth-text-fourth":"Both serve to bring kids closer to the world of programming and to make learning how to program fun for them. In addition, they both use the same block-structured programming paradigm and most of the control blocks (If... Do, While... Do, etc.) are shared. However, they are used for different applications: Scratch is aimed at computer application programming (primarily video games) whereas Bitbloq is for controller board programming (mainly robots and home inventions). The two complement each other perfectly for teaching children how to program through a wide variety of projects, being different but compatible at the same time, and serving as excellent educative tools.","landing-fifth-text-title-second":"Can video games be made using Bitbloq?","landing-fifth-text-second":"It´s not possible to make video games on the computer, but it can be done using electronics with My First Robotics Kit, or any other electronics that use Zum or another board compatible with Arduino. Scratch has been designed to teach to kids to program by making video games, whereas Bitbloq is designed to teach to them through electronics, by creating robotics projects, domotics and home inventions, etc.","landing-fifth-text-title-third":"Can the controller board (Zum Arduino, etc.) be programmed using Scratch?","landing-fifth-text-third":"There are two versions of Scratch ","landing-fifth-text-third-firstlink":"[S4A (Scratch for Arduino)","landing-fifth-text-third-secondlink":"[S2A (Scratch to Arduino)]","landing-fifth-text-title-third-second":" which allow interaction with a Zum or Arduino board Both versions can be used to read the sensors and actuate the servos, LEDs, etc. which are connected to the computer via USB. This means that electronics can be used in the Scratch programs in the same way as the keyboard and mouse. This feature is very useful, for example, it allows a video game to be controlled using the potentiometer or by switching on the LEDs.  However, if the controller board is disconnected or the computer shuts down, it will stop working, being merely another peripheral device which can interact with the video games. Bitbloq, on the other hand, is an authentic programming language. This means that the program created using blocks is compiled and uploaded to the controller board, so that even if it gets disconnected, it will continue to function, being on the board rather than the computer.","landing-fifth-footer":"If you have any queries or questions, you can write to us at ","landing-fifth-footer-link":"support-bitbloq@bq.com","landing-main-copyright":"Copyright Â© 2010-2014 Mundo Reader, S.L. All rights reserved","landing-main-footer-link-cookies":"Cookies","landing-main-footer-link-tos":"General Conditions","policies-cookies":"Cookies Policy","policies-cookies-info":"This website uses proprietary and third-party cookies in order to provide a better service. By continuing to browse this website, you are agreeing to the use of cookies.  You can obtain more information by reading our ","ca-ES":"Català","de-DE":"Deutsch",en:"English","es-ES":"Castellano","nl-NL":"Nederlands","eu-ES":"Euskara","fr-FR":"Français","it-IT":"Italiano","pt-PT":"Português","ru-RU":"Pусский","projects-need-tobe-logged":"You need to log in to Bitbloq in order to see your projects","view-need-tobe-logged":"You need to log in to Bitbloq to see this page","make-saving-project":"Saving...","make-saved-project":"Project saved!","make-saved-project-not-changed":"There are no changes to be saved","make-save-project-error":"We were not able to save your project, please try again","make-cloning-project":"Making a copy...","make-cloned-project":"Copy made!","make-clone-project-error":"We were not able to make a copy, please try again","make-deleted-project":"You have deleted the project ","make-delete-project-not-changed":"The project has not been saved","make-delete-project-error":"We were not able to delete your project, please try again","make-actions-share-with-users":"Share with other users","make-actions-share-with-users-confirm":"Share","make-import-project-format-error":"The file format is incorrect, only .json and .txt files are allowed","make-share-with-users-ok":"The project has been shared","make-share-with-users-error":"We were not able to share your project. Please, try again","modal-share-with-users-main-1":"Share this project with other Bitbloq users. They will be able to view it but not make changes.","modal-share-with-users-main-2":"To edit who can view the project, adjust the settings via this screen.","modal-share-with-users-main-small":"They will receive an email notifying them that you have shared a project with them. If they have not registered on Bitbloq, they will not be able to view it until they register.","modal-share-with-users-main-add-message":"Add a message","modal-share-with-users-main-add-discard":"Discard message","modal-share-with-users-optional":"Optional: Include a personal message...","modal-share-with-users-placeholder":"Enter emails","modal-clone-project-title":"Create a copy of this project","modal-clone-project-intro":"Enter the name for the new project","modal-clone-project-name":"Copy of ","modal-rename-project-title":"Rename project","modal-rename-project-intro":"Enter a name for the new project:","modal-exit-title":"You have not saved the latest changes","modal-exit-text":"Are you sure you don´t want to save them?","modal-exit-exit":"Don´t save","modal-exit-save":"Save changes","modal-button-ok":"OK","modal-button-cancel":"Cancel","modal-comments-done":"Comments sent to the Bitbloq team","modal-comments-error":"We were not able to send your comments to the Bitbloq team. Please send us an email to support-bitbloq@bq.com","modal-send-error-done":"Error sent. We will fix it as soon as possible!","modal-send-error-error":"We were not able to send your comments to the Bitbloq team. Please send us an email to support-bitbloq@bq.com","modal-tour-step":"Remember to connect your LED to the pin selected under the Hardware tab.","modal-tour-text-first":"Discover the new Bitbloq","modal-tour-text-second":"Welcome to the new Bitbloq, we have introduced some improvements in order to make the programming easier and faster.","modal-tour-text-third":"Start the walkthrough","modal-tour-text-fourth":"Do not start the walkthrough","info-tab-first-image":"Main image","info-tab-others-image":"Other images","info-tab-image-requisites":"Minimum size 600x400 px in .jpg or .png format. Maximum 1 MB.","info-tab-image-read-error":"This is not an image file","info-tab-image-small-error":"The image dimensions are too small","info-tab-image-heavy-error":"The image dimensions are too big","service-terms":"General Conditions","service-terms-privacy-policy":"Privacy Policy","service-terms-privacy-policy-6-1":"The personal data that you provide will be included in a file owned and managed by Mundo Reader, S.L., pursuant to the Spanish data protections laws, for the purpose of providing this service to users, in accordance with the General Conditions currently in force. Consult our Privacy Policy at ","service-terms-privacy-policy-6-2":"By creating an account, the user acknowledges having read and accepted the terms and conditions of the Privacy Policy. If you have any doubts regarding this policy or the processing of your personal data, please write to ","service-terms-cookies":"Cookies","service-terms-cookies-7-1":"The website ","service-terms-cookies-7-2":"used to access this service uses proprietary technical cookies which are required for detecting the language of the user, as well as those of Google Analytics for the purpose of statistics and improving the user experience. The user´s personal data shall not be gathered under any circumstances. By using this service, you agree to these cookies being installed. However,  they can be blocked or deleted at any time, although doing so may result in loss of functionality of the service. For more information, please read our Cookies Policy at","explore-open-project":"Open project","explore-sortby":"Order:","explore-sortby-recent":"Most recent","explore-sortby-old":"Oldest","explore-sortby-name-az":"Name A-Z","explore-sortby-name-za":"Name Z-A","explore-sortby-views":"Views","explore-sortby-downloads":"Downloads","explore-filter-by":"Filter by","explore-filters-by-components":"Filter by components","explore-created-by":"by","tag-input-placeholder":"Enter tags...","searcher-search-form":"Search projects tool","register-read-service-term":"I have read and fully understood the ","register-read-general-conditions":"General Conditions","register-read-policies-privacy":"Privacy Policy","service-terms-intro":"Introduction","service-terms-intro-1-1":"1.1. These General Conditions govern relations between Mundo Reader, S.L, (hereinafter Mundo Reader)  and the users of Bitbloq and all of its services. By using Bitbloq, the user commits to having read, understood and accepted these conditions.","service-terms-intro-1-2":"1.2. These conditions are subject to modifications and updates. Consequently, the date of last update will always be included at the end of any such modification or update. The users are responsible for keeping up-to-date with any modifications affecting these conditions, as by continuing to use Bitbloq, they are tacitly accepting the modifications.",
"service-terms-intro-1-3":"1.3. Bitbloq is governed by Spanish law and, in the event of a judicial arbitration, the Spanish courts shall have jurisdiction. Mundo Reader cannot guarantee that the content on Bitbloq complies with the legislation of any other countries. Likewise, although these General Conditions have been translated into multiple languages, in the event of a discrepancy between the translations, the Spanish version shall prevail.","service-terms-intro-1-4":"1.4. By using Bitbloq, the user acknowledges that this free platform comes with no guarantees. The service could be subject to interruptions, failure, temporary faults, loss of data or similar, and users shall not be entitled to any compensation, financial or otherwise, under any circumstances.","service-terms-user-accounts":"User Accounts","service-terms-user-accounts-2-1":"2.1. A user account is not required to use Bitbloq. However, without an account, it will not be possible to save or publish projects, nor to leave comments. To create an account, the user must provide their registration details.  Please consult part 6 on Privacy and Cookies.","service-terms-user-accounts-2-2":"2.2. Each account must be used by a single user. It cannot be shared among various persons.","service-terms-user-accounts-2-3":"2.3. Mundo Reader shall temporarily suspend or permanently delete an account if it violates any of the points gathered in these General Conditions of Use. Mundo Reader reserves the right to determine what constitutes a violation of these conditions and what measures should be taken in response (suspension or permanent deletion of the account). Any user that have had their account deleted will not be able to create a new one. If the administrators detect that a new account has been created, it will be deleted.","service-terms-user-accounts-2-4":"2.4. If a user wishes to delete their account, they must send a request by email to ","service-terms-community-rules":"House Rules","service-terms-community-rules-3-1":"3.1. Users are free to exchange projects and comments on Bitbloq and leave their opinions. By using Bitbloq, the users undertake to respect these house rules. Consequently, the following will be removed from Bitbloq: Any rude, explicit or aggressive content;  defamatory statements regarding third parties, whether they be natural or legal persons; comments or content encouraging discrimination, attacking or inciting violence towards individuals or groups; likewise any comments that threaten, intimidate or demean third parties, whether they be Bitbloq users or not; comments that mention illegal products or incite illegal activities;  comments that request or provide personal data, contact details or passwords, with or without permission from the user; repetitively published content or comments which are deemed as spam by Mundo Reader; comments or content  of a promotional or commercial nature; links to third-party websites which contain viruses or malware or which Mundo Reader suspects that they are likely to contain.","service-terms-community-rules-3-2":"3.2. Users shall not identify themselves are Bitbloq administrators nor attempt to appear as such.","service-terms-community-rules-3-3":"3.3. Users undertake not to link any content to Bitbloq which violates any part of these General Conditions.","service-terms-community-rules-3-4":"3.4. Despite the fact that these rules are clearly stated, it is possible that some users could use Bitbloq in a way that infringes them. By using Bitbloq, the user thus accepts the possibility of inadvertently coming across offensive content. Due to the volume, Mundo Reader cannot guarantee that it will monitor all activity on Bitbloq. It therefore encourages users to report any content found to be in breach of these conditions.","service-terms-community-rules-3-5":"3.5. Any users that Mundo Reader deems to consistently report content without justification shall be sanctioned by the administrators.","service-terms-community-rules-3-6":"3.6. Mundo Reader shall not be held liable for the opinions or advice given by users on Bitbloq, which are provided in a personal capacity.","service-terms-licences":"Content and Licences","service-terms-licences-4-1":'4.1. The term "content" includes any comment, link or contribution in general, which is made in the forum.',"service-terms-licences-4-2":"4.2. Any user-generated content is done so under Creative Commons Attribution-ShareAlike 2.0 which permits others users and Mundo Reader to share, adapt and reproduce it. However, credit must always be given to the author by citing them in full, including any changes made to the original material. Any users that do not wish to release their content under this licence, should not share it on Bitbloq.","service-terms-licences-4-3":"4.3. The liability for sharing any content on Bitbloq without obtaining permission from the author lies with the user. If a natural or legal person deems that any content uploaded to Bitbloq has violated their copyright,  they should send an email to ","service-terms-licences-4-4":"4.4. All content generated by Mundo Reader and uploaded to Bitbloq is done so under Creative Commons Attribution-ShareAlike 2.0. For this reason, when using any images from Bitbloq, they must be accompanied by the phrase “Bitbloq is developed by Mundo Reader, S.L.. See website ","service-terms-licences-4-5":"4.5. The Bitbloq brand and logo are the property of Mundo Reader and the logo may only be used to refer to the Bitbloq website or programming language. Use for any other purpose is strictly prohibited (unless explicit prior consent has been granted by Mundo Reader). Under no circumstances shall the Bitbloq brand or logo be used to support or promote third-party products or services. Mundo Reader holds all rights for the code, design, features and architecture of Bitbloq, excluding user-generated content. The users hold no rights whatsoever to Bitbloq or the Bitbloq source code, which are subject to copyright.","service-terms-third-party-websites":"Third-Party Websites","service-terms-third-party-websites-content":"The content uploaded by the users may contain links to third-party websites that have no relation to Mundo Reader whatsoever. Mundo Reader shall not be held liable for any privacy, security or functionality issues that accessing these websites could entail. By accessing the website via these links, the users assume full responsibility therein.","modal__understood-button":"Got it","header-account-config":"Account configuration","header-change-language":"Change language","header-close-session":"Log out","header-previous-version":"Go to previous version","modal-change-language":"Select the language from the list","modal-send-comments":"Send us your suggestions, ideas and improvements, etc. Whatever you come up with or anything you want us to know about. We´d love to hear from you and we will get back to you as soon possible.","modal-send-comments-input-placeholder":"Your name","modal-send-comments-textarea-placeholder":"Write your message here...","modal-send-comments-title":"Send comments to Bitbloq","modal-inform-error-title":"Report an error","modal-inform-error-maintext":"If you come across any errors or malfunctioning in the application, please let us know so that we can fix it as soon as possible.","modal-inform-error-textarea-placeholder":"Description of error","modal-inform-error-os-version-placeholder":"Operating system version","modal-inform-error-browser-version-placeholder":"Browser version","modal-change-project-name-title":"Rename project","modal-change-project-name-maintext":"Enter a name for the new project","modal-change-project-name-placeholder":"Untitled project","modal-share-social-networks-maintext":"Your project will be published on Explore so that you can share it via your social networks.","modal-share-social-networks-footer":"Do you prefer to keep it private?","modal-share-social-networks-footer-link":"Share it with other users","modal-not-registered-text":"You are logging in as a guest. Your project will not be saved and you won´t be able to retrieve it unless you have logged in or registered on Bitbloq.","modal-download-web2board-title":"Download Web2Board to be able to program your board","modal-update-web2board-title":"Update Web2Board to be able to program your board","modal-download-web2board-text":"To compile and upload your programs to the board, you will need to install the Bitbloq Web2Board.","modal-download-web2board-choose-os":"Select your operating system.","make-swtoolbox-advanced":"高级","make-swtoolbox-advancedComponents":"Components > Advanced","make-swtoolbox-functions":"函数","make-swtoolbox-variables":"变量","make-swtoolbox-advancedVariables":"Variables > Advanced","make-swtoolbox-code":"代码","make-swtoolbox-mathematics":"数学函数","make-swtoolbox-advancedMathematics":"Maths > Advanced","make-swtoolbox-text":"文本","make-swtoolbox-advancedText":"Text > Advanced","make-swtoolbox-control":"控制","make-swtoolbox-advancedControls":"Control > Advanced","make-swtoolbox-logic":"逻辑运算","make-swtoolbox-communication":"Communication","make-hardware-board-container":"从右边拖一块开发板放进来","make-hardware-component-container":"拖一个模块进来吧","make-hardware-component-name":"名字","make-hardware-component-oscillator":"晶震","make-hardware-component-baudrate":"波特率","make-hardware-component-duplicate":"复制","make-hardware-component-delete":"删除","make-hardware-component-disconnect":"断开","account-avatar-requisites":"Minimum size 100 x 100px in .jpg or .png format. Maximum size 1 MB.","account-saved":"Changes saved!","account-saving":"Saving changes...","account-saved-error":"The changes could not be saved, please try again","account-image-read-error":"This is not an image file","account-image-small-error":"The image dimensions are too small","account-image-heavy-error":"The image dimensions are too big","project-addto-myprojects":"Add to my projects","project-watch":"View project","publish-project-error":"The project could not be published","publish-project-done":"The project has been published on Explore!","private-project-done":"The project has been made private!","private-project-error":"The project could not made private","social-networks-add":"Associated social network","social-networks-error-has-identity":"The account already has an associated social network of this type","social-networks-error-exist":"The social network selected has already been associated to another account","social-networks-error":"An error occurred on associating the social network to the account","account-config":"Account configuration","account-change-password":"Change your password","account-restore-password":"Reset password","account-connect-to-social-network":"Log in with social networks","account-save-changes":"Save changes","bloqstab-duplicate-bloq":"复制块","bloqstab-remove-bloq":"删除块","bloqstab-enable-bloq":"取消注释块","bloqstab-disable-bloq":"注释块","infotab-mandatory":"*Compulsory fields for publishing the project on Explore","login-profiles":"with","login-error":"The username and password you have entered do not match our records. Please check and try again.","login-error-disconnect":"Connection error. Check your internet connection and try again.","login-username-or-email":"Enter a username or email address","login-username-empty":"Enter a username","login-username-in-use":"This name is already in use","login-alphanumeric-numeric-error":"Only alphanumerical characters can be used, not numerical only","login-username-email":"Username or email","login-email-empty":"Enter an email address","login-valid-email":"Enter a valid email address","login-registered-email":"This email address has already been registered","login-forgot-password":"Have your forgotten your password?","login-enter-password":"Enter a password","login-min-length-password":"The password must have a minimum of 6 characters","login-incorrect-password":"The password is incorrect","login-username":"Username","login-incorrect-username-email":"This user or email is not registered","login-password":"Password","login-birth-day":"Date of birth","login-introduce-birth-day":"Enter your date of birth","login-14-years":"To access this service, you must be 14 years of age or older.","login-conditions":"In order to register, you must accept the terms and conditions of service and the privacy policy","login-forgot":"I forgot my password","login-username-create":"Create your username","login-username-explanation":"You are about to enter Bitbloq! But before you do, please create your username so that the community can get to know you.","login-check-username":"Check name","login-return-to-register":"Back to registration","login-return-to-login":"Go back","login-create-account":"Create an account","login-already-registered":"I´m already registered","login-email-not-exist":"This email is not registered","login-email-register":"Do you want to register it?","recovery-got-to-init":"Back to home","recovery-title":"I forgot my password","recovery-explanation":"Enter the email you used to register and we will send you an email with a link enabling you to reset your password.","recovery-success-title":"Email sent!","recovery-success-explanation":"Check your inbox. If you don´t find the email there, please check the spam folder.","recovery-success-spam":"Can´t find it in the spam folder either?","recovery-error-title":"An error occurred on sending the email","recovery-error-explanation":"We were not able to send the email to your account","recovery-error-forward":"Resend email","recovery-error-forward-error":"Still unable to reset your password? Send an email to","recovery-error-email":"support-bitbloq@bq.com","recovery-create-password-title":"Create your new password","recovery-create-password-main":"Enter your new password","recovery-create-password-main-placeholder":"New password","recovery-create-password-repeat":"Re-enter your new password","recovery-create-password-repeat-placeholder":"Re-enter your new password","recovery-create-password-ok":"Password changed!","recovery-create-password-error":"It was not possible to change your password. Please request a new link","email-recovery-password-ok":"The email has been sent correctly","session-expired":"Your session has expired. Please log in again.","reset-password-saved":"Password saved!","reset-password-saved-error":"We were not able to save your password. Please try again.","modal-reset-password-title":"Create password","modal-reset-password-button-ok":"Save password","modal-reset-password-main-password":"Enter a new password to log in:","modal-reset-password-main-password-placeholder":"New password","modal-reset-password-repeat":"Re-enter the password: ","modal-reset-password-repeat-password-placeholder":"Re-enter the password","modal-reset-password-error":"The passwords do not match","make-saving":"Saving...","make-project-saved-ok":"Project saved successfully","make-project-saved-ko":"The project could not be saved. Second attempt...","make-project-not-allow-to-save":"You cannot save changes in a project you do not own. Create a copy in order to save them.","infotab-project-name":"Enter a project name","infotab-project-description":"Project description, what is does, how it works...","infotab-videourl":"YouTube URL","validate-videourl":"Enter a valid Youtube URL","error-videourl":"The vídeo does not exist","feedback-did-you-see-an-error":"Noticed an error?","feedback-about-an-error":"Inform us of the error and we will try to fix it as soon as possible!","feedback-send-an-error":"Report an error","feedback-ideas-or-comments":"Ideas, comments, etc...","feedback-we-want-your-opinion":"Your opinion is of great interest to us! We want Bitbloq to be your favorite programming tool.","feedback-send-a-comment":"Send a comment to the team","do-you-need-help":"Need help?","project-without-description":"No description","functions-swtoolbox-advancedFunctions":"Functions > Advanced","alert-web2board-compiling":"Compiling the project...","alert-web2board-compile-verified":"Project compiled correctly.","alert-web2board-compile-error":"Error on compiling: {{value}}","alert-web2board-code-uploaded":"Project uploaded correctly.","alert-web2board-upload-error":"Error on loading program: {{value}}","alert-web2board-settingBoard":"Detecting board...","alert-web2board-uploading":"Loading project onto board...","alert-web2board-boardReady":"Board detected on port: {{value}}","alert-web2board-boardNotReady":"Board not detected. Connect a board","alert-web2board-no-port-found":"No board was detected. Check that you selected the correct board in the Hardware tab and that it is connected.","alert-web2board-no-board-serial":"No board was detected for communication via serial port. No board was detected. Check that you selected the correct board in the Hardware tab and that it is connected.","tour-step-one":"Step 1 of 7","tour-step-one-text":'Open the "Boards" menu',"tour-step-two":"Step 2 of 7","tour-step-two-text":"Select your board and drag it to the centre of the screen.","tour-step-two-text-small":"(if you don't have a physical board, select the Freaduino UNO board)","tour-step-three":"Step 3 of 7","tour-step-three-text":"Drag the LED component and connect it to the board.","tour-step-four":"Step 4 of 7","tour-step-four-text":"You can now program the LED in the Software tab.","tour-step-five":"Step 5 of 7","tour-step-five-text":"Open the Components menu","tour-step-six":"Step 6 of 7","tour-step-six-text":"Drag the LED block to Loop","tour-step-seven":"Step 7 of 7","tour-step-seven-text":"Load the program onto the board and you will see your LED light up.","notfound-title":"Whooops!","notfound-subtitle":"The page you´re looking for does not exist.","notfound-somethingsimilar":"You could find something similar under","make-swtoolbox-text-advanced":"Text > Advanced","project-username-from":"by",like:"I like it!","account-connect-to":"Connected to","make-swtoolbox-classes":"类","make-swtoolbox-advancedClasses":"Classes > Advanced","unsupported-first":"Bitbloq is only 100% compatible with the desktop Chrome browser.","unsupported-second":"If you log in via this browser, some features might not work correctly.","unsupported-link":"Continue anyway","unsupported-download-chrome-title":"Download Google Chrome","unsupported-download-chrome-text":"A free and fast browser for PCs, phones and tablets.","unsupported-download-chrome-button":"Download Google Chrome","unsupported-tablet-title":"Ooooops!","unsupported-tablet-text-first":"We can´t teach you to how to program using this device. The Bitbloq application is designed to work with a desktop browser.","unsupported-tablet-text-second":"Please, visit us via your computer in order to program.","continue":"Continue","unsupported-tablet-button-second":"Explore projects","unsupported-phone-text-second":"Please visit us via your computer in order to program.",navigation_text_file_downloadArduinoCode:"Download Arduino code","unsupported-phone-text-first":"Bitbloq is an application for desktop browsers.","welcome-male":"Hello","code-modal_text_info":"A project with edited code is not compatible with block programming. If you go ahead and edit the code, block programming won´t be possible any more and you will have to program solely with code. ","code-modal_button_confirm":"Yes, I want to edit the code anyway","code-modal_button_reject":"Cancel and go back to the blocks","code-project_alert_edit-code":"If you edit the code, you won´t be able to use the blocks in this project","bloqs-project_alert_no-board":"先拖一个开发板哦","my-project_placeholder_code-project":"Code project",infotab_title_theme:"Theme",infotab_option_grayTheme:"Grey",infotab_option_colorTheme:"Colour",bloqsTab_button_editCode:"Edit code","bloqsproject-hardwareTab-text-needBoard":"Please drag a board first","unsupported-action-goToWeb":"Go to the website",landing_text_mastheadSubtitle:"With Bitbloq, you will program using visual blocks, without needing to know code.",landing_title_program:"A new, easy and intuitive way of programming",landing_link_testItNow:"Test it now",landing_link_enterDiwo:"Get ideas on DIWO",landing_link_learningCourse:"Here you can find a course to get started",landing_text_forWho:"Children experience technology merely as users, but most of them don’t understand it really works. Using Bitbloq, educators will teach to them how to be create technology.",landing_link_learningPlan:"See the teaching plan",landing_title_schoolOrTeacher:"School or teacher?",landing_subtitle_schoolOrTeacher:"Want to know more about programming in the classroom? Write to us at ",general_button_register:"Sign me up",landing_title_explore:"Explore a free world",landing_subtitle_explore:"Take a look at a few of the projects made on Bitbloq for programming boards and robots.",landing_link_explore:"See all the projects on Explore",landing_title_mastheadInfo:"Easy, fast and intuitive programming.",landing_subtitle_mastheadInfo:"What´s more, you can create your own projects and share them with the community.",landing_text_mastheadInfo:"Electronics and programming have never been so much fun!",landing_text_featureCreate:"With Bitbloq and BQ electronics, you can create anything you can think of, from robots, home automation projects to electronic games.",landing_link_viewExplore:"See the Explore projects",landing_text_featureBloqs_first:"Bitbloq uses Bloqs, a library of visual programming blocks created to make programming robots simple.",landing_text_featureBloqs_second:"The blocks fit together to create a program, which would require advanced programming knowledge if created from code alone.",landing_link_featureBloqs:"See the Bloqs library on GitHub",landing_text_imagination:"BQ gives you access to a new world of possibilities through electronics, robotics and 3D. Imagine, program, print and create your world, just the way you want it. ",landing_link_imagination:"Discover the BQ Maker World",landing_link_featureCreate:"See the BQ robotics kit",landing_title_download:"Download Bitbloq Web2Board for ",landing_title_availableForAllOS:"Web2Board is available for all operating systems",landing_text_download:"You will need to install the Web2Board application on your computer to be able to program your board via the online Bitbloq tool. This app compiles and uploads the program to your board.",landing_link_download:"Download Web2Board for",general_download:"Download",landing_text_downloadStepFirst:"Download the program and unzip it",general_install:"Install",landing_text_downloadStepSecond:"Follow the installation process",landing_title_downloadStepInstall:"Open the app",landing_text_downloadStepInstall:"Open the app and do not close it ",general_translationsFrom:"Translations by: ",landing_title_aboutUs:"A BQ project",landing_subtitle_aboutUs:"At BQ we want to demystify technology by teaching kids that it´s not magic. We want them to learn how it works and how it´s created. That´s why we have developed an educational ecosystem to enable kids to learn how to create technology projects with ease, where parents and teachers can also find the necessary tools to guide them through this exciting process.",landing_title_team:"The Bitbloq team",landing_text_team:"Many people have dedicated their time to improving this project and contributing to the education of young ones in this highly technical area.",landing_title_contributors:"Collaborators",landing_text_contributors:"Bitbloq is programmed with",general_features:"Specifications",general_aboutUs:"About Us",landing_link_contact:"Contact",landing_text_footer:"Bitbloq is a BQ project","default-var-name-led":"LED","default-var-name-ACT001":"RoLED","default-var-name-ACT005":"RoBuzzer","default-var-name-SEN001":"RoSwitch","default-var-name-SEN002":"RoButton","default-var-name-SEN004":"RoCrash","default-var-name-SEN005":"RoPotentioMeter","default-var-name-SEN013":"RoAnalogLight","default-var-name-us":"ultrasounds","default-var-name-button":"button","default-var-name-buttons":"button_panel","default-var-name-irs":"infrared_sensor","default-var-name-irs2":"line_follower","default-var-name-joystick":"joystick","default-var-name-ldrs":"light_sensor","default-var-name-pot":"potentiometer","default-var-name-buzz":"buzzer","default-var-name-servo":"servo","default-var-name-servocont":"continuous_servo","default-var-name-lcd":"LCD","default-var-name-bt":"bluetooth","default-var-name-sp":"serial_port",modalPublish_text_publish:"This project will be made public. Any Bitbloq user will be able to view it but not modify it. Any changes you make from now on will be seen by any user that opens the project on Explore.",modalPublish_text_private:"This project is now public. Do you want to hide it on Explore?",modalPublish_button_makePrivate:"Make private and delete from Explore.",modalPublish_title:"Publish project on Explore",modalPublish_title_doPrivate:"Delete project from Explore",general_text_errorSystemClock:"Time out of sync. Please check the time and date is correct on your system.",login_text_errorAlert:"An error has occurred during login. Your browser may have been updated. You will need to restart it.",login_text_socialErrorAlert:"An error occurred on accessing your social network. Your browser may have been updated. You will need to restart it.","explore_label_filter-all":"All projects","explore_label_filter-not-compiled":"Compiled","explore_label_filter-compiled":"Not compiled","explore_label_filter-bq":"BQ Projects",all_components:"All components",myProjectShare_text_empty:"No projects have been shared with you yet",projectActions__text_privateProjectAndNoAdmin:"The project is not public and you are not the owner",modalShare_alert_shareWithUser:"Your project has been shared with {{value}} people",modalShare_text_noShareIntro:"The following emails addresses are not registered on Bitbloq:",modalShare_text_noShareInfo:"Bitbloq projects cannot be shared with unregistered users. Invite them to sign up so you can share your projects with them.",alert_text_errorProjectUnauthorized:"This is a private project and you are not allowed to view it.",alert_text_errorProjectUndefined:"An error loading the project has occurred.",projects_text_searchEmpty:"There are no projects with these characteristics","without-components":"Without components",copy:"copy",diwo_tutorial_1_title:"Before you start with Bitbloq 2",diwo_tutorial_1_text:"Before you start programming your Bitbloq 2, it´s important to make sure we have everything needed so that it will work correctly on your computer.",diwo_tutorial_2_title:"Getting familiar with Bitbloq 2",diwo_tutorial_2_text:"In this post, we will be learning how Bitbloq 2 works. If you have already used the first version of Bitbloq, it will help you to get to know the new features, advantages and differences.\n\nIf you still haven´t installed the Web2Board application, which you will need to make your board and Bitbloq 2 function correctly, now is a good time. In Before you start with Bitbloq 2, you can find a step-by-step explanation of the process.\n",diwo_tutorial_3_title:"What is a robot? Getting to know sensors and actuators",diwo_tutorial_3_text:'The word "robot" comes from the Czech "robota", meaning forced or hard labour.  It was used for the first time in Karel Čapek´s play "Rossum Universal Robots" and its usage was extended through the science fiction works of Isaac Asimov.\n\nWe often imagine a robot as a machine with a human form, that walks, talks and makes gestures... but in reality it´s a lot more simple:\n\n“A robot is an programmable automated machine which can interpret information from the physical environment in order to adapt its behaviour. It has the capacity to interact with the environment and carry out different functions accordingly.”\n',diwo_tutorial_4_title:"And there was light: programming LEDs using Bitbloq 2",diwo_tutorial_4_text:"An LED (light-emitting diode) is a type of diode; a component which allows electricity to flow in one direction only and blocks it in the other. LEDs emit light when the current passes through.  LEDs are cheap, they don´t consume much power and they can produce a considerable amount of light. They are frequently used in electronic systems and are replacing traditional lighting.",diwo_tutorial_5_title:"If you tell me to come, I´ll leave everything, or I won´t. Conditional sentences and the push-button.",diwo_tutorial_5_text:"A conditional sentence involves asking a question, and responding one way or another according to the answer. For example, if it rains, I will use the umbrella. On the other hand, if it doesn´t rain, I won´t. If it´s cold, I´ll put my coat on. If it´s hot, I´ll take it off. It it gets dark, I´ll put the light on. On the other hand, if it gets light, I´ll turn it off. ",diwo_tutorial_6_title:"Communicating with other devices. The serial port.",diwo_tutorial_6_text:"The serial port is the means that enables your controller board to communicate with another device, such as your computer or mobile. It´s very useful for checking the value of a sensor or variable at a glance, seeing the status of your program and finally, for correcting and understanding any errors it might contain.",diwo_tutorial_7_title:"Programming with variables using Bitbloq 2",diwo_tutorial_7_text:"A variable is a value that can be stored safely and then retrieved when we need it. Imagine that it´s like a box that we will use to store some data, for example... an asparagus.\n\nWe will be able to see the value stored in the box and use it later on. If we don´t store this data in a variable, we won´t be able to reuse it, as the program won´t remember it. As we will see later, we can also change the value stored in the variable at any time.\n",diwo_tutorial_8_title:"Learn how to think like a robot! Algorithms",diwo_tutorial_8_text:"An algorithm is a set of highly specific and organised instructions to be followed in order to carry out a task. A few examples of some very simple algorithms would be a following a medical prescription, brushing your teeth, putting a load of washing on, etc.",diwo_tutorial_9_title:"Beeep... Programming the buzzer",diwo_tutorial_9_text:"The buzzer is a component which can produce sounds at different frequencies. They are used to produce signals or alerts in a wide range of systems, as well alarm clocks, doorbells and timers in home appliances (e.g. ovens), etc.",diwo_tutorial_10_title:"Black or white. The infrared sensor.",diwo_tutorial_10_text:"The infrared sensor, also known as IR sensor, is a device that detects the quantity of reflected light. It can therefore differentiate between black and white, or dark and light. There are many types of infrared sensor, such as the ones found in TV remote controls, object detection or even for measuring a person´s heart rate. The infrared sensor that we will be using is digital and will return 1 whenever white is detected, and 0 when black is detected.",diwo_tutorial_11_title:"Programming a potentiometer using Bitbloq 2",diwo_tutorial_11_text:"A potentiometer is a variable resistor, meaning a component that regulates the intensity of the electrical current in a circuit. They are used in many devices, for example, in lamps to regulate the light intensity, or in musical equipment to adjust the volume.\n\nAs with all analogue sensors, the potentiometer returns values between 0 and 1023.",diwo_tutorial_12_title:"Look towards the robot light... programming the light sensor",diwo_tutorial_12_text:"A light sensor is a resistor that adjusts its value according to the quantity of light.\n\nThe Zum kit light sensor returns values between 0 (total darkness) and 800 (total light). Remember that being an analogue component, it has to be connected to the pins marked A0, A1, A2, etc.\n",diwo_tutorial_13_title:"Loops, loops, loops, loops, loops, loops, loo… control loops",diwo_tutorial_13_text:"A control loop is a part of the program which is repeated while a condition is completed. For example, while it´s raining, I won´t go outside and I´ll read a good book. There are various types of control blocks that will be of use to us on different occasions. We´re going to learn how to use them.",
bitbloq_previous_version_masthead:"The previous version of Bitbloq is still online.",bitbloq_previous_version_subtitle:"It will be available for one year so that you can access your old projects.",bitbloq_previous_version_link:"Go to previous version","download-all-projects":"Download all your projects",login_modal_teacher_title:"Are you a teacher?",login_modal_teacher_text:"Select your teacher profile to be informed in advance of improvements and updates in the application",login_modal_teacher_option_1:"Yes, I´m a teacher",login_modal_teacher_option_2:"No, I´m not","default-var-name-RGBled":"RGB_LED","default-var-name-sound":"sound_sensor","default-var-name-rtc":"real_time_clock","default-var-name-hts221":"temperature_humidity_sensor",RGBled:"三色LED",sound:"声音传感器",rtc:"时钟模块",hts221:"温湿度传感器",landing_help_masthead_subtitle:"There are various ways to contact us or to find the information you need.",landing_help_contact_byphone:"By phone","call-us-to":"Call us on","by-mail":"By email","write-us-an-email":"Write us an email","from-here":"here","landing_ask-the-community":"Ask the the community",landing_help_section_subheader:"You can also see information on other users or the maker universe in:",bitbloq_forum:"Bitbloq Forum","landing_help_bitbloq-forum-text":"Search for the answer to your query in the community or ask other makers",landing_help_faqs_text:"Frequently asked questions to clear up any initial doubts",goto_faqs:"Go to FAQs",landing_help_diwo_text:"The BQ Maker School where you will find related information","goto-diwo":"Go to DIWO",encoder:"旋转编码器","default-var-name-encoder":"encoder",limitswitch:"碰撞传感器","default-var-name-limitswitch":"endstop","make-swtoolbox-advancedZowi":"Movements Zowi > Advanced",zh:"简体中文",gl:"Galego",support_email:"support.bitbloq.en@bq.com","alert-web2board-openSerialMonitor":"Opening serial monitor...","help-tab-changeLog":"Updates and bugs","account-checkbox-teacher":"I´m a teacher and I want to receive news and tips, etc.","account-link-deleteAccount":"If you want to delete your Bitbloq account, send at email to ","maintenance-text-gettingBetter":"We are improving Bitbloq","maintenance-text-connecting":"You´ve caught us in the middle of connecting up the cables! Please try again later","featureProgramming-bloqs-declareVariable":"Declare variable","featureProgramming-boolean-true":"True","featureProgramming-boolean-false":"False","featureProgramming-bloqs-breakStopLoop":"跳出循环","featureProgramming-bloqs-servoStop":"Stop servo","featureProgramming-bloqs-servoName":"Continuous_Servo_1","featureProgramming-bloq-exec":"Do",login_alert_errorConnectSocialNetwork:"An error has occurred on connecting to the social network selected",abousUs_text_developerMale:"Developer",abousUs_text_developerFemale:"Developer",help_faqs:"FAQs",news:"News","welcome-female":"Welcome",forum_category_lab:"Ideas Lab",forum_category_disaster:"Other",questions:"Questions",forum_category_expo:"Showcase",suggestions:"Suggestions",forum_category_errors:"Errors on the website",choose_category:"Select category",makeActions_copyCode:"Copy code to clipboard",landing_requirements:"Minimum requirements:",landing_requirements_text:"Bitbloq is only 100% compatible with Chrome, but it does function with all browsers. You can use Web2Board on Windows 7, 8.1 and 10 (32/64 bit), Ubuntu 14.04 (32/64 bit) and Mac OS X 10.10 or later (64 bit).",forum_column_theme:"Topic",forum_column_answers:"Replies",forum_column_views:"Visits",forum_column_lastAnswer:"Latest reply",help_title_forum:"Forum",forum_button_newTheme:"New topic",forum_column_themes:"Topics",forum_column_category:"Category",forum_column_lastTheme:"Latest topic",pagination_button_next:"Next",pagination_button_last:"Previous",form_title:"Title",form_compulsoryFields:"Compulsory fields",forum_button_publishTheme:"Publish topic",button_delete:"Delete",forum_button_publishAnswer:"Publish reply",forum_action_answer:"Reply",info_enterOrCreateAccount:"Log in or create an account to reply.",button_createAccount:"Create account",by:"by",accept:"Accept",reject:"Reject","make-swtoolbox-evolution":"Evolution","make-swtoolbox-advanced-evolution":"Evolution > Advanced",boards_and_robots:"Boards and robots","make-code-clipboard":"Code copied to clipboard",forum__searcher__into:"in","view-all-os-availables":"See all operating systems","modal-contact-us-title":"Contact","modal-contact-us":"Let us know what you need help with and we’ll",button_banUser:"Block user",forum_button_bannedUsers:"Blocked users",make_infoError_bloqsLoadError:"We are not able to display your project at this time. Please try again later.",button_allowUser:"Unblock user","delete-answer":"Delete reply","delete-theme":"Delete thread",forumAdmin_info_BannedUserEmpty:"There are no blocked users",forum_button_returnForum:"Go back to forum",AdminForum_title_BannedUsers:"Blocked users",forumAdmin_alert_deletedTheme:"Deleted thread",forumAdmin_alert_bannedUser:"Blocked user",forumAdmin_alert_bannedUserError:"Error on deleting thread",forumAdmin_alert_deletedThemeError:"Error on deleting thread",forumAdmin_alert_allowUser:"User unblocked",forumAdmin_alert_allowUserError:"Error on deleting thread",forumAdmin_alert_deletedAnswerError:"Error on deleting reply",forum_alert_NewTheme:"Thread created",forum_alert_NewThemeError:"Error on creating thread",forum_alert_NewAnswerError:"An error occurred on sending the comment",forum_alert_accessBannedUser:"Your account has been blocked, contact Bitbloq support for more information",forumAdmin_buton_moveTheme:"Move thread",forumAdmin_alert_MoveThemeTo:"Thread moved to ",forumAdmin_alert_MoveThemeToError:"An error has occurred on moving the thread",web2boardErrorsModal_title:"Connection error",web2boardErrorsModal_firstParagraph:"We can’t connect to Web2Board due to an unidentified problem. Check the following:",web2boardErrorsModal_secondParagraph:"If you still can’t program your board, contact Bitbloq support to get help quickly by calling:",web2boardErrorsModal_thirdParagraph:"If you prefer, send us an email ",web2boardErrorsModal_firstItem:"Make sure you’re connected to the internet.",web2boardErrorsModal_secondItem:"Make sure you have administrator rights on your computer.",web2boardErrorsModal_thirdItem:"Make that a proxy or antivirus is not blocking internet access.",web2boardErrorsModal_back:"< Go back to download Web2Board",web2boardErrorsModal_link_thirdParagraph:"here.","cdti-title":"Project Funded by the Centre for the Development of Industrial Technology (CDTI)","cdti-record":"RECORD","cdti-coinvest":"Cofinanced by the European Regional Development Fund (FEDER) through the Smart Growth Multi-regional Operational Programme","cdti-projectname":"PROJECT ACRONYM"}};this.$get=function(){return e}}),angular.module("kenrobot").service("alertsService",["$timeout","_","$rootScope",function(e,t,n){var o,r={},a=[],i=0,s={maxSimultaneousAlerts:5},l=function(e,o){var r;r=t.remove(a,function(t){return t[e]===o}),r.length>0&&(n.$$phase||n.$digest())};return r.isVisible=function(e,n){return!!t.find(a,function(t){return t[e]===n})},r.getInstance=function(){return a||(a=[]),a},r.add=function(t,c,u,d,p,h,f,m,b,g,v,y){i+=1;var w,_={text:t,id:c,uid:Date.now(),type:u||"info",time:d||"infinite",domClass:w,preIcon:h||!1,postIcon:f||!1,value:p,index:i,linkText:m,linkAction:b,linkParams:g,close:r.close,closeFunction:v,closeParams:y};switch(u){case"info":w="alert--info";break;case"confirm":w="alert--confirm";break;case"error":w="alert--error";break;case"warning":w="alert--warning";break;default:w="alert--info"}return l("id",_.id),a.length===s.maxSimultaneousAlerts&&a.pop(),"infinite"!==_.time&&(o=e(function(){l("uid",_.uid),_.closeFunction&&_.closeFunction(y)},_.time)),a.unshift(_),n.$$phase||n.$digest(),_.uid},r.close=function(t,n){if(n){var r=$(n.currentTarget).parent();r.addClass("alert--removed")}o&&e.cancel(o),l("uid",t)},r}]),angular.module("kenrobot").service("bloqs",["_","bloqsUtils","common",function(_,bloqsUtils,common){var utils=bloqsUtils,lang="zh",connectors={},IOConnectors={},bloqs={},availableConnectors=[],availableIOConnectors=[],$field=null,scrollTop=0,forcedScrollTop=null,softwareArrays={voidFunctions:[],returnFunctions:[],softwareVars:[],classes:[],objects:[]},dragPreviousTopPosition,dragPreviousLeftPosition,dragBloqMousePositionX,dragBloqMousePositionY,fieldOffsetTop,fieldOffsetLeft=0,fieldOffsetTopSource=[],fieldOffsetTopForced=0,mouseDownBloq=null,draggingBloq=null,startPreMouseMove=null,preMouseMoveX,preMouseMoveY,setOptions=function(e){fieldOffsetTopSource=e.fieldOffsetTopSource||[],fieldOffsetLeft=e.fieldOffsetLeft||0,fieldOffsetTopForced=e.fieldOffsetTopForced||0,(0===e.forcedScrollTop||e.forcedScrollTop)&&(forcedScrollTop=e.forcedScrollTop),lang=e.lang||"zh"},getFieldOffsetTop=function(e){var t=0;if(fieldOffsetTopForced)t=fieldOffsetTopForced;else for(var n,o=0;o<e.length;o++)n=document.getElementsByClassName(e[o]),n[0]&&(t+=n[0].clientHeight);return t},bloqMouseDown=function(e){"SELECT"!==e.target.tagName&&(e.stopPropagation(),mouseDownBloq=e.currentTarget,startPreMouseMove=!0,document.addEventListener("mousemove",bloqPreMouseMove),document.addEventListener("mouseup",bloqMouseUpBeforeMove))},bloqMouseUpBeforeMove=function(){mouseDownBloq=null,document.removeEventListener("mousemove",bloqPreMouseMove),document.removeEventListener("mouseup",bloqMouseUpBeforeMove)},bloqPreMouseMove=function(e){if(startPreMouseMove){preMouseMoveX=e.pageX,preMouseMoveY=e.pageY,startPreMouseMove=!1;var t=mouseDownBloq.getBoundingClientRect();dragBloqMousePositionX=e.pageX-t.left,dragBloqMousePositionY=e.pageY-t.top,fieldOffsetTop=getFieldOffsetTop(fieldOffsetTopSource),dragPreviousTopPosition=t.top,dragPreviousLeftPosition=t.left,scrollTop=$field[0].scrollTop}else{var n=e.pageX-preMouseMoveX,o=e.pageY-preMouseMoveY;(Math.abs(n)>=5||Math.abs(o)>=5)&&(document.removeEventListener("mousemove",bloqPreMouseMove),document.addEventListener("mousemove",bloqMouseMove))}},bloqMouseMove=function(e){var t=null;if(mouseDownBloq){switch(t=bloqs[mouseDownBloq.getAttribute("data-bloq-id")],t.isConnectable()||(t.doConnectable(),$field.append(t.$bloq)),document.removeEventListener("mouseup",bloqMouseUpBeforeMove),document.addEventListener("mouseup",bloqMouseUp),mouseDownBloq.className=mouseDownBloq.className.concat(" dragging"),t.bloqData.type){case"statement":case"statement-input":statementDragStart(t);break;case"output":outputDragStart(t);break;case"group":throw"Group cant be moved";default:throw"Not defined bloq dragstart!!"}mouseDownBloq=null,draggingBloq=t}t=t||draggingBloq;var n=moveBloq(t,e.clientX,e.clientY);switch(t.bloqData.type){case"statement":case"statement-input":utils.redrawTree(t,bloqs,connectors),n>10&&handleCollisions([t.connectors[0],utils.getLastBottomConnectorUuid(t.uuid,bloqs,connectors)],e);break;case"output":n>10&&handleIOCollisions(t,availableIOConnectors);break;default:throw"Not defined bloq drag!!"}},bloqMouseUp=function(){scrollTop=0;var e=$(".connector.available").first(),t=draggingBloq;if(e[0]){switch(t.bloqData.type){case"statement":case"statement-input":statementDragEnd(t,e);break;case"output":outputDragEnd(t,e);break;default:throw"Not defined bloq drag!!"}window.dispatchEvent(new Event("bloqs:connect")),t.$bloq.closest(".bloq--group")[0]?(t.enable(),"statement"!==t.bloqData.type&&"statement-input"!==t.bloqData.type||utils.executeFunctionOnConnectedStatementBloqs("enable",t,bloqs,connectors)):(t.disable(),"statement"!==t.bloqData.type&&"statement-input"!==t.bloqData.type||utils.executeFunctionOnConnectedStatementBloqs("disable",t,bloqs,connectors))}else t.disable(),"statement"!==t.bloqData.type&&"statement-input"!==t.bloqData.type||utils.executeFunctionOnConnectedStatementBloqs("disable",t,bloqs,connectors);availableConnectors=[],availableIOConnectors=[],$(".bloq").removeClass("dragging"),$(".connector.available").removeClass("available"),$(".bloq--dragging").removeClass("bloq--dragging"),$field.focus(),window.dispatchEvent(new Event("bloqs:dragend")),draggingBloq=null,dragPreviousTopPosition=0,dragPreviousLeftPosition=0,document.removeEventListener("mousemove",bloqMouseMove),document.removeEventListener("mouseup",bloqMouseUp)},statementDragStart=function(e){var t=connectors[e.connectors[0]].connectedTo;if(t){var n=bloqs[connectors[t].bloqUuid],o=utils.itsInsideAConnectorRoot(e,bloqs,connectors);connectors[t].connectedTo=null,connectors[e.connectors[0]].connectedTo=null,o&&("group"===n.bloqData.type&&n.$bloq.removeClass("with--content"),removeFromStatementInput(e),utils.redrawTree(n,bloqs,connectors))}availableConnectors=[];for(var r in connectors)"connector--empty"!==connectors[r].data.type&&utils.getBloqByConnectorUuid(r,bloqs,connectors).isConnectable()&&(utils.connectorIsInBranch(r,e.uuid,bloqs,connectors)||availableConnectors.push(r))},removeFromStatementInput=function(e){var t,n=[e.$bloq],o=connectors[e.connectors[1]].connectedTo,r=e.$bloq.outerHeight(!0);for(e.$bloq.removeClass("inside-bloq");o;)t=bloqs[connectors[o].bloqUuid],n.push(t.$bloq),t.$bloq.removeClass("inside-bloq"),t.$bloq[0].style.transform="translate(0px,"+r+"px)",r+=t.$bloq.outerHeight(!0),o=connectors[t.connectors[1]].connectedTo;utils.appendArrayInOneTime($field,n)},outputDragStart=function(e){var t=utils.getOutputConnector(e,IOConnectors);if(t.connectedTo){e.$bloq.removeClass("nested-bloq");var n=IOConnectors[t.connectedTo],o=bloqs[n.bloqUuid];n.connectedTo=null,t.connectedTo=null,o.bloqData.returnType&&"fromInput"===o.bloqData.returnType.type&&updateSoftVar(o),$field[0].appendChild(e.$bloq[0])}availableIOConnectors=[];for(var r in IOConnectors)"connector--input"===IOConnectors[r].data.type&&utils.getBloqByConnectorUuid(r,bloqs,IOConnectors).isConnectable()&&(IOConnectors[r].connectedTo||utils.sameConnectionType(e,utils.getBloqByConnectorUuid(r,bloqs,IOConnectors),IOConnectors[r].data.acceptType,bloqs,IOConnectors,softwareArrays)&&(utils.connectorIsInBranch(r,e.uuid,bloqs,IOConnectors)||availableIOConnectors.push(r)))},moveBloq=function(e,t,n){var o,r,a,i,s=e.$bloq[0].getBoundingClientRect(),l=Math.round(Math.sqrt(Math.pow(dragPreviousTopPosition-s.top,2)+Math.pow(dragPreviousLeftPosition-s.left,2)));return scrollTop!==$field[0].scrollTop&&(scrollTop=$field[0].scrollTop),null!==forcedScrollTop&&(scrollTop=forcedScrollTop),o=t-fieldOffsetLeft,r=n-fieldOffsetTop+scrollTop,a=o-dragBloqMousePositionX,i=r-dragBloqMousePositionY,e.$bloq[0].style.transform="translate("+a+"px,"+i+"px)",l>10&&(dragPreviousTopPosition=s.top,dragPreviousLeftPosition=s.left),"statement-input"===e.bloqData.type&&utils.redrawTree(e,bloqs,connectors),l},statementDragEnd=function(e,t){var n=t.attr("data-connector-id"),o=$('[data-connector-id="'+n+'"]').attr("data-canconnectwith"),r=utils.itsARootConnector(connectors[n])||utils.itsInsideAConnectorRoot(utils.getBloqByConnectorUuid(n,bloqs,connectors),bloqs,connectors);setLogicalConnections(n,o),r?connectorRootDragEnd(e,t):placeNestedBloq(n,o)},connectorRootDragEnd=function(e,t){var n=t.attr("data-connector-id"),o=bloqs[connectors[n].bloqUuid];if(e.$bloq.addClass("inside-bloq"),e.$bloq.removeAttr("style"),utils.itsARootConnector(connectors[n])){var r=o.$bloq.find(".bloq--extension__content");r.first().append(e.$bloq),o.$bloq.addClass("with--content")}else o.$bloq.after(e.$bloq);for(var a,i=connectors[e.connectors[1]].connectedTo,s=[];i;)a=bloqs[connectors[i].bloqUuid],s.push(a.$bloq),a.$bloq.addClass("inside-bloq"),a.$bloq.removeAttr("style"),i=connectors[a.connectors[1]].connectedTo;e.$bloq.after(utils.jqueryObjectsArrayToHtmlToInsert(s)),utils.redrawTree(o,bloqs,connectors)},outputDragEnd=function(e,t){var n=t.attr("data-connector-id"),o=utils.getOutputConnector(e,IOConnectors).uuid;t.append(e.$bloq),e.$bloq.addClass("nested-bloq").removeAttr("style"),IOConnectors[n].connectedTo=o,IOConnectors[o].connectedTo=n;var r=utils.getBloqByConnectorUuid(n,bloqs,IOConnectors),a=utils.getBloqByConnectorUuid(o,bloqs,IOConnectors);r.bloqData.returnType&&"fromInput"===r.bloqData.returnType.type&&(a.bloqData.returnType.pointer||updateSoftVar(r))},handleCollisions=function(e){var t,n,o,r,a;availableConnectors.forEach(function(i){for(o=connectors[i].jqueryObject,t=0,n=!1;!n&&t<e.length;)r=connectors[e[t]].jqueryObject,connectors[e[t]].data.type===connectors[i].data.accept&&utils.itsOver(r,o,20)?n=!0:t++;a=utils.getBloqByConnectorUuid(i,bloqs,connectors),n?(o.addClass("available"),o.attr("data-canconnectwith",e[t]),"group"===a.bloqData.type&&a.$bloq.addClass("bloq--dragging")):("group"===a.bloqData.type&&a.$bloq.removeClass("bloq--dragging"),o.removeClass("available"),o.removeAttr("data-canconnectwith"))})},handleIOCollisions=function(e,t){var n,o=utils.getOutputConnector(e,IOConnectors);t.forEach(function(e){n=IOConnectors[e],utils.itsOver(o.jqueryObject,n.jqueryObject,0)&&utils.sameConnectionType(bloqs[o.bloqUuid],bloqs[n.bloqUuid],n.data.acceptType,bloqs,IOConnectors,softwareArrays)?n.jqueryObject.addClass("available"):n.jqueryObject.removeClass("available")})},setLogicalConnections=function(e,t){if(connectors[e].connectedTo){var n,o,r,a;switch(connectors[e].data.type){case"connector--bottom":n=connectors[e].connectedTo,o=utils.getLastBottomConnectorUuid(connectors[t].bloqUuid,bloqs,connectors),connectors[o].connectedTo=n,connectors[n].connectedTo=o;break;case"connector--top":r=connectors[e].connectedTo,a=utils.getFirstTopConnectorUuid(connectors[t].bloqUuid,bloqs,connectors),connectors[r].connectedTo=a,connectors[a].connectedTo=r;break;case"connector--root":n=connectors[e].connectedTo,o=utils.getLastBottomConnectorUuid(connectors[t].bloqUuid,bloqs,connectors),connectors[o].connectedTo=n,connectors[n].connectedTo=o;break;default:throw"connector on setLogicalConnections no handled "+connectors[e].data.type}}connectors[e].connectedTo=t,connectors[t].connectedTo=e},placeNestedBloq=function(e,t){var n=bloqs[connectors[e].bloqUuid];switch(n.bloqData.type){case"statement":case"statement-input":utils.redrawTree(utils.getBloqByConnectorUuid(t,bloqs,connectors),bloqs,connectors);break;case"output":break;default:throw"bloqtype not defined in nesting "+n.bloqData.type}},updateSoftVar=function(e,t,n,o){var r=e.bloqData.createDynamicContent;if(!r)throw"We are adding a softVar on a bloq that not defined the dynamic content";if(!softwareArrays[r])throw"dynamicContentType not defined "+e.bloqData.name;for(var a=!1,i=0;!a&&i<softwareArrays[r].length;)softwareArrays[r][i].bloqUuid===e.uuid&&(a=!0),i++;n=n||utils.getTypeFromBloq(e,bloqs,IOConnectors,softwareArrays),o="statement-input"===e.bloqData.type&&e.bloqData.arguments?o||utils.getArgsFromBloq(e,bloqs,IOConnectors):"";var s;a?(s=softwareArrays[r][i-1],s.name=t||s.name,s.type=n,s.args=o,s.name?$('option[data-var-id="'+s.id+'"]').attr({value:s.name}).html(s.name):removeSoftVar(e)):t&&(s={name:t,id:utils.generateUUID(),bloqUuid:e.uuid,type:n,args:o},softwareArrays[r].push(s),$('select[data-dropdowncontent="'+r+'"]').append($("<option>").attr({"data-var-id":s.id,value:s.name}).html(s.name))),updateSoftVarTypes(softwareArrays,r,bloqs,IOConnectors)},removeSoftVar=function(e){for(var t=e.bloqData.createDynamicContent,n=!1,o=0;!n&&o<softwareArrays[t].length;)softwareArrays[t][o].bloqUuid===e.uuid&&(n=!0),o++;if(n){var r=softwareArrays[t][o-1];softwareArrays[t].splice(o-1,1),$('option[data-var-id="'+r.id+'"]').remove()}updateSoftVarTypes(softwareArrays,t,bloqs,IOConnectors)},updateSoftVarTypes=function(e,t,n,o){for(var r,a=0;a<e[t].length;a++)r=e[t][a],r.type=utils.getTypeFromBloq(n[r.bloqUuid],n,o,e)},removeBloq=function(e,t){var n,o=bloqs[e];if(!o)throw"Cant delete this bloq: "+e;var r,a,i;switch(window.dispatchEvent(new Event("bloqs:bloqremoved")),o.$bloq[0].removeEventListener("mousedown",bloqMouseDown),(mouseDownBloq&&mouseDownBloq.getAttribute("data-bloq-id")===e||draggingBloq&&draggingBloq.uuid)&&(document.removeEventListener("mouseup",bloqMouseUpBeforeMove),document.removeEventListener("mousemove",bloqPreMouseMove),document.removeEventListener("mousemove",bloqMouseMove),document.removeEventListener("mouseup",bloqMouseUp)),o.bloqData.type){case"statement-input":case"group":for(var s,l=connectors[o.connectors[2]].connectedTo;l;)s=utils.getBloqByConnectorUuid(l,bloqs,connectors),l=connectors[s.connectors[1]].connectedTo,removeBloq(s.uuid);case"statement":if(r=connectors[o.connectors[0]].connectedTo,a=connectors[o.connectors[1]].connectedTo,r&&a)connectors[r].connectedTo=a,connectors[a].connectedTo=r,t&&utils.redrawTree(utils.getBloqByConnectorUuid(r,bloqs,connectors),bloqs,connectors);else if(r){connectors[r].connectedTo=null;var c=bloqs[connectors[r].bloqUuid];"group"===c.bloqData.type&&c.$bloq.removeClass("with--content"),t&&utils.redrawTree(utils.getBloqByConnectorUuid(r,bloqs,connectors),bloqs,connectors)}else a&&(connectors[a].connectedTo=null);var u;for(n=0;n<o.IOConnectors.length;n++)u=o.IOConnectors[n],"connector--input"===IOConnectors[u].data.type&&IOConnectors[u].connectedTo&&removeBloq(IOConnectors[IOConnectors[u].connectedTo].bloqUuid);break;case"output":i=IOConnectors[o.IOConnectors[0]].connectedTo,i&&(IOConnectors[i].connectedTo=null);break;default:throw"we dont know how to delete: "+o.bloqData.type}o.$bloq.remove();var d;for(n=0;n<o.connectors.length;n++)delete connectors[o.connectors[n]];for(n=0;n<o.IOConnectors.length;n++)delete IOConnectors[o.IOConnectors[n]];if(o.bloqData.createDynamicContent)removeSoftVar(o);else for(d in softwareArrays)updateSoftVarTypes(softwareArrays,d,bloqs,IOConnectors);delete bloqs[e]},buildContent=function(e){for(var t,n=e.componentsArray,o=e.bloqData,r=0;r<o.content.length;r++)for(var a=0;a<o.content[r].length;a++)t=createBloqElement(e,o.content[r][a],n,softwareArrays),"DOWN"===o.content[r][a].position?(e.$contentContainerDown.addClass("with-content"),e.$contentContainerDown.append(t)):e.$contentContainer.append(t)},buildStatementConnector=function(e,t,n,o,r){var a=$("<div>").attr({"data-connector-id":e});return a.addClass("connector connector--offline "+t.type),r.append(a),connectors[e]=o,n.connectors.push(e),a},buildConnectors=function(e,t){for(var n,o,r,a,i=0;i<e.length;i++){switch(o="connector:"+utils.generateUUID(),r={uuid:o,data:e[i],bloqUuid:t.uuid,connectedTo:null},e[i].type){case"connector--top":a="statement-input"===t.bloqData.type?t.$bloq.children(".bloq--statement-input__header"):t.$bloq.children(".bloq--fixed"),n=buildStatementConnector(o,e[i],t,r,a);break;case"connector--bottom":a="statement-input"===t.bloqData.type?t.$bloq.find(".bloq--extension--end"):t.$bloq.children(".bloq--fixed"),n=buildStatementConnector(o,e[i],t,r,a);break;case"connector--root":a="statement-input"===t.bloqData.type?t.$bloq.children(".bloq--statement-input__header"):t.$bloq,n=buildStatementConnector(o,e[i],t,r,a);break;case"connector--input":n=$(t.$bloq.find('.bloqinput[data-connector-name="'+e[i].name+'"]')),n.attr({"data-connector-id":o}).addClass("connector "+e[i].type),r.contentId=n.attr("data-content-id"),IOConnectors[o]=r,t.IOConnectors.push(o);break;case"connector--output":n=$("<div>").attr({"data-connector-id":o}).addClass("connector connector--offline "+e[i].type),t.$bloq.append(n),r.returnType=t.bloqData.returnType,IOConnectors[o]=r,t.IOConnectors.push(o);break;case"connector--empty":n=$("<div>"),connectors[o]=r,t.connectors.push(o);break;default:throw"Connector not defined to build"}r.jqueryObject=n}},createBloqElement=function(e,t,n,o){var r,a,i,s,l=null;switch(t.alias){case"staticDropdown":l=$("<select>"),l.attr({name:"","data-content-id":t.id});var c=[];for(r=0;r<t.options.length;r++)a=$("<option>").attr({value:t.options[r].value,"data-i18n":t.options[r].label}).html(translateBloq(lang,t.options[r].label)),c.push(a);utils.appendArrayInOneTime(l,c),t.value&&l.val(t.value),l.change(function(){window.dispatchEvent(new Event("bloqs:change"))}),e.bloqData.returnType&&"fromDropdown"===e.bloqData.returnType.type&&l.change(function(){updateSoftVar(e)});break;case"dynamicDropdown":switch(l=$("<select>"),l.attr({name:"","data-content-id":t.id,"data-dropdowncontent":t.options,"data-value":t.value}),t.options){case"voidFunctions":case"returnFunctions":case"softwareVars":case"classes":case"objects":i=o[t.options],l.change(function(){if("output"===e.bloqData.type){var t=utils.getOutputConnector(e,IOConnectors);if(t.connectedTo){var n=IOConnectors[t.connectedTo],o=bloqs[n.bloqUuid];o.bloqData.returnType&&"fromInput"===o.bloqData.returnType.type&&updateSoftVar(o)}}});break;case"varComponents":i=[];for(s in n)n[s].length>=1&&(i=i.concat(n[s]));break;case"clocks":i=[],i=n.clocks;break;case"hts221":i=[],i=n.hts221;break;default:i=n[t.options]}if(!i)throw"Dropdowns not defined in array: "+t.options;if(utils.drawDropdownOptions(l,i),t.value){l.val(t.value);var u=i.find(function(e){return e.name===t.value});l[0].dataset.reference=u?u.uid:"",l[0].dataset.value=t.value,l.val(t.value)}l.change(function(e){l[0].dataset.value=e.currentTarget.value,l[0].dataset.reference=e.currentTarget.selectedOptions[0].dataset.reference,window.dispatchEvent(new Event("bloqs:change"))});break;case"text":l=$("<span>").attr({"data-i18n":t.value}).html(translateBloq(lang,t.value));break;case"removableText":l=$("<span>").html(t.value),l.addClass("removabletext");break;case"numberInput":l=$("<input>").attr({type:"text","data-content-id":t.id,"data-placeholder-i18n":t.placeholder,placeholder:translateBloq(lang,t.placeholder)}).val(t.value),l.bind("input",function(){var e=utils.getCaretPosition(this),t=utils.validNumber($(this).val());$(this).val(t.value),utils.setCaretPosition(this,e-t.removedChar)}),l.change(function(){window.dispatchEvent(new Event("bloqs:change"))});break;case"stringInput":l=$("<input>").attr({type:"text","data-content-id":t.id,"data-content-type":t.alias,"data-placeholder-i18n":t.placeholder,placeholder:translateBloq(lang,t.placeholder)}).val(t.value),l.change(function(){l.val(utils.validString(l.val())),window.dispatchEvent(new Event("bloqs:change"))});break;case"charInput":l=$("<input>").attr({type:"text","data-content-id":t.id,"data-content-type":t.alias,"data-placeholder-i18n":t.placeholder,placeholder:translateBloq(lang,t.placeholder)}).val(t.value),l.change(function(){l.val(utils.validChar(l.val())),window.dispatchEvent(new Event("bloqs:change"))});break;case"codeInput":l=$("<input>").attr({type:"text","data-content-id":t.id,"data-content-type":t.alias,"data-placeholder-i18n":t.placeholder,placeholder:translateBloq(lang,t.placeholder)}).val(t.value),l.change(function(){window.dispatchEvent(new Event("bloqs:change"))});break;case"multilineCodeInput":l=$('<textarea class="msd-elastic: \n;" spellcheck="false" ng-model="bar" cols="40" rows="1"></textarea>').attr({"data-content-id":t.id,"data-content-type":t.alias,name:t.id,"data-placeholder-i18n":t.placeholder,placeholder:translateBloq(lang,t.placeholder)}).val(t.value),setTimeout(function(){$('[name="'+t.id+'"]').autogrow({onInitialize:!0})},0),l.change(function(){window.dispatchEvent(new Event("bloqs:change"))});break;case"multilineCommentInput":l=$('<textarea class="msd-elastic: \n;" spellcheck="false" ng-model="bar" cols="40" rows="1"></textarea>').attr({"data-content-id":t.id,"data-content-type":t.alias,name:t.id,"data-placeholder-i18n":t.placeholder,placeholder:translateBloq(lang,t.placeholder)}).val(t.value),setTimeout(function(){$('[name="'+t.id+'"]').autogrow({onInitialize:!0})},0),l.keyup(function(){bloqsUtils.delay(function(){l.val(utils.validComment(l.val()))},1e3)}),l.change(function(){l.val(utils.validComment(l.val())),window.dispatchEvent(new Event("bloqs:change"))});break;case"varInput":l=$("<input>").attr({type:"text","data-content-id":t.id,"data-placeholder-i18n":t.placeholder,placeholder:translateBloq(lang,t.placeholder)}).val(t.value),e.varInputs=[],e.varInputs.push(l),l.addClass("var--input"),l.keyup(function(){bloqsUtils.delay(function(){var t=utils.validName(l.val(),o);l.val(t),t?updateSoftVar(e,t):removeSoftVar(e,t)},1e3)}),l.change(function(){window.dispatchEvent(new Event("bloqs:change"))});break;case"bloqInput":l=$("<div>").attr({"data-connector-name":t.name,"data-content-id":t.bloqInputId}),l.addClass("bloqinput");break;case"headerText":l=$("<h3>").html(t.value),l.addClass("headerText");break;case"descriptionText":l=$("<p>").html(t.value),l.addClass("descriptionText");break;default:throw"elementSchema not defined: "+t.alias}return l},destroyFreeBloqs=function(){var e,t;for(e in bloqs)if(t=bloqs[e],t.isConnectable())switch(t.bloqData.type){case"statement":case"statement-input":connectors[t.connectors[0]].connectedTo||removeBloq(e);break;case"output":IOConnectors[t.IOConnectors[0]].connectedTo||removeBloq(e);break;case"group":break;default:throw"its free? "+t.bloqData.type}},getFreeBloqs=function(){var e,t,n,o,r=[];for(var a in bloqs)if(e=bloqs[a],e.isConnectable())switch(e.bloqData.type){case"statement":case"statement-input":if(!connectors[e.connectors[0]].connectedTo){for(t=[e.getBloqsStructure()],o=connectors[e.connectors[1]].connectedTo;o;)n=utils.getBloqByConnectorUuid(o,bloqs,connectors),t.push(n.getBloqsStructure()),o=connectors[n.connectors[1]].connectedTo;r.push({position:e.$bloq.position(),bloqGroup:t})}break;case"output":IOConnectors[e.IOConnectors[0]].connectedTo||(t=[e.getBloqsStructure()],r.push({position:e.$bloq[0].getBoundingClientRect(),bloqGroup:t}));break;case"group":break;default:throw"its free? "+e.bloqData.type}return r},updateDropdowns=function(){var e;for(e in softwareArrays)updateDropdown(e)},updateDropdown=function(e){var t,n;$('select[data-dropdownContent="'+e+'"]').each(function(o,r){t=$(r),n=t.attr("data-value"),bloqsUtils.drawDropdownOptions(t,softwareArrays[e]),n&&t.val(n)})},translateBloq=function(e,t){return common.bloqsLanguages[e][t]||t},Bloq=function Bloq(params){this.uuid="bloq:"+utils.generateUUID(),$field=params.$field||$field,this.bloqData=params.bloqData,this.componentsArray=params.componentsArray,this.connectors=[],this.IOConnectors=[];var enable=!1,connectable,that=this;switch(this.collapseGroupContent=function(){var e=that.$bloq.children(".field--content");e.toggleClass("field--collapsed"),that.connectable=!that.connectable,e.parent().toggleClass("collapsed--field")},this.enable=function(e){if(!enable){if(this.$bloq.removeClass("disabled"),this.bloqData.content&&this.bloqData.content[0])for(var t=0;t<this.bloqData.content[0].length;t++)if("bloqInput"===this.bloqData.content[0][t].alias)for(var n,o=0;o<this.IOConnectors.length;o++)n=this.IOConnectors[o],"connector--input"===IOConnectors[n].data.type&&IOConnectors[n].connectedTo&&utils.getBloqByConnectorUuid(IOConnectors[n].connectedTo,bloqs,IOConnectors).enable();if(enable=!0,this.connectors[2]&&!e)for(var r,a=connectors[this.connectors[2]].connectedTo;a;)r=utils.getBloqByConnectorUuid(a,bloqs,connectors),r.enable(),a=connectors[r.connectors[1]].connectedTo}},this.disable=function(e){if(this.$bloq.addClass("disabled"),enable){if(this.bloqData.content&&this.bloqData.content[0])for(var t=0;t<this.bloqData.content[0].length;t++)switch(this.bloqData.content[0][t].alias){case"bloqInput":for(var n,o=0;o<this.IOConnectors.length;o++)n=this.IOConnectors[o],"connector--input"===IOConnectors[n].data.type&&IOConnectors[n].connectedTo&&utils.getBloqByConnectorUuid(IOConnectors[n].connectedTo,bloqs,IOConnectors).disable()}if(enable=!1,this.connectors[2]&&!e)for(var r,a=connectors[this.connectors[2]].connectedTo;a;)r=utils.getBloqByConnectorUuid(a,bloqs,connectors),r.disable(),a=connectors[r.connectors[1]].connectedTo}},this.itsEnabled=function(){return enable},this.doConnectable=function(){if(!connectable){if(this.bloqData.content&&this.bloqData.content[0])for(var e=0;e<this.bloqData.content[0].length;e++)if("bloqInput"===this.bloqData.content[0][e].alias)for(var t,n=0;n<this.IOConnectors.length;n++)t=this.IOConnectors[n],"connector--input"===IOConnectors[t].data.type&&IOConnectors[t].connectedTo&&utils.getBloqByConnectorUuid(IOConnectors[t].connectedTo,bloqs,IOConnectors).doConnectable();if(this.connectors[2])for(var o,r=connectors[this.connectors[2]].connectedTo;r;)o=utils.getBloqByConnectorUuid(r,bloqs,connectors),
o.doConnectable(),r=connectors[o.connectors[1]].connectedTo;connectable=!0,this.$bloq[0].dispatchEvent(new Event("bloq:connectable"))}},this.doNotConnectable=function(){connectable=!1},this.isConnectable=function(){return connectable},this.itsFree=function(){return 0===this.$bloq.closest(".bloq--group").length},this.$bloq=$("<div>").attr({"data-bloq-id":this.uuid,tabIndex:0}),this.$bloq.addClass("bloq bloq--"+this.bloqData.type+" "+this.bloqData.bloqClass),bloqs[this.uuid]=this,this.doNotConnectable(),this.bloqData.type){case"statement-input":this.$bloq.append('<div class="bloq--statement-input__header"></div><div class="bloq--extension"><div class="bloq--extension__content"></div> <div class="bloq--extension--end"></div></div>'),this.$contentContainer=this.$bloq.find(".bloq--statement-input__header"),this.$contentContainerDown=this.$bloq.find(".bloq--extension--end"),buildContent(this),this.$bloq[0].addEventListener("mousedown",bloqMouseDown),buildConnectors(params.bloqData.connectors,this),this.$contentContainer.children().children().not(".connector.connector--offline").first().addClass("bloq__inner--first"),this.$contentContainer.children().children().not(".connector.connector--offline").last().addClass("bloq__inner--last"),this.$contentContainer.children().not(".connector.connector--offline").last().addClass("bloq__inner--last"),this.$contentContainerDown.children().not(".connector.connector--offline").first().addClass("bloq__inner--first"),this.$contentContainerDown.children().not(".connector.connector--offline").last().addClass("bloq__inner--last");break;case"statement":this.$bloq.append('<div class="bloq--fixed">'),this.$contentContainer=this.$bloq.find(".bloq--fixed"),buildContent(this),this.$bloq[0].addEventListener("mousedown",bloqMouseDown),buildConnectors(params.bloqData.connectors,this),this.$bloq.children().children().not(".connector.connector--offline").first().addClass("bloq__inner--first"),this.$bloq.children().children().not(".connector.connector--offline").last().addClass("bloq__inner--last");break;case"output":this.$contentContainer=this.$bloq,buildContent(this),this.$bloq[0].addEventListener("mousedown",bloqMouseDown),buildConnectors(params.bloqData.connectors,this),this.$bloq.children().not(".connector.connector--offline").first().addClass("bloq__inner--first"),this.$bloq.children().not(".connector.connector--offline").last().addClass("bloq__inner--last");break;case"group":this.$bloq.append('<div class="field--header"><button class="btn btn--collapsefield"></button><h3 data-i18n="'+this.bloqData.headerText+'">'+translateBloq(lang,this.bloqData.headerText)+'</h3></div><div class="field--content"><p data-i18n="'+this.bloqData.descriptionText+'">'+translateBloq(lang,this.bloqData.descriptionText)+'</p><div class="bloq--extension--info" data-i18n="drag-bloq" > '+translateBloq(lang,"drag-bloq")+'</div><div class="bloq--extension__content"></div></div>'),buildConnectors(params.bloqData.connectors,this),this.$bloq.find(".connector--root").addClass("connector--root--group"),this.$bloq.find(".field--header .btn").on("click",this.collapseGroupContent),this.$bloq.find(".field--header h3").on("click",this.collapseGroupContent);break;default:throw"bloqData "+this.bloqData.type+"not defined in bloq construction"}if(this.bloqData.createDynamicContent){var name=utils.validName(this.$bloq.find("input.var--input").val());name?updateSoftVar(this,name):removeSoftVar(this,name)}return this.getIOConnectorUuidByContentId=function(e){for(var t=!1,n=0,o=null;!t&&n<this.IOConnectors.length;)IOConnectors[this.IOConnectors[n]].contentId===e&&(t=!0,o=this.IOConnectors[n]),n++;return o},this.getCode=function(previousCode){var code=this.bloqData.code,childBloq,childConnectorId,elementTags=_.without(_.pluck(this.bloqData.content[0],"id"),void 0),childrenTags=_.without(_.pluck(this.bloqData.content[0],"bloqInputId"),void 0),value="",type="",connectionType="";elementTags.forEach(function(e){var t=this.$contentContainer.find('> [data-content-id="'+e+'"]');0===t.length&&(t=this.$contentContainer.find('[data-content-id="'+e+'"]')),value=t.val()||"";for(var n=0;n<this.componentsArray.sensors.length;n++)value===this.componentsArray.sensors[n].name&&(type=this.componentsArray.sensors[n].type,value="analog"===type?"analogRead("+this.componentsArray.sensors[n].pin.s+")":"digital"===type?"digitalRead("+this.componentsArray.sensors[n].pin.s+")":"LineFollower"===type?"(float *)"+this.componentsArray.sensors[n].name+".read()":this.componentsArray.sensors[n].name+".read()",code=code.replace(new RegExp("{"+e+".type}","g"),value));"stringInput"===t.attr("data-content-type")?value=utils.validString(value):"charInput"===t.attr("data-content-type")?value=utils.validChar(value):"multilineCommentInput"===t.attr("data-content-type")&&(value=utils.validComment(value));var o=value.replace(" *","");code=code.replace(new RegExp("{"+e+"}.withoutAsterisk","g"),o),code=code.replace(new RegExp("{"+e+"}","g"),value)}.bind(this));var bloqInputConnectors=utils.getInputsConnectorsFromBloq(IOConnectors,bloqs,this);if(childrenTags.length>0)for(var k=0;k<bloqInputConnectors.length;k++){value="",connectionType="",type="";var a=IOConnectors[bloqInputConnectors[k]];a&&(childConnectorId=a.connectedTo,null!==childConnectorId&&(childBloq=utils.getBloqByConnectorUuid(childConnectorId,bloqs,IOConnectors),value=childBloq.getCode(),type=childBloq.bloqData.returnType),"fromDynamicDropdown"===type.type?connectionType=utils.getFromDynamicDropdownType(childBloq||this,type.idDropdown,type.options,softwareArrays,this.componentsArray):"fromDropdown"===type.type?connectionType=utils.getTypeFromBloq(childBloq||this,bloqs,IOConnectors,softwareArrays):(connectionType=type.value,"string"===connectionType&&(connectionType="String"))),void 0===connectionType&&(connectionType=""),code=code.replace(new RegExp("{"+childrenTags[k]+".connectionType}","g"),connectionType),code=code.replace(new RegExp("{"+childrenTags[k]+"}","g"),value)}var reg=/(.*)\?(.*):(.*)/g;reg.test(code)&&(code=eval(code));var children=[];if(this.connectors[2]){if(value="",childConnectorId=connectors[this.connectors[2]].connectedTo){childBloq=utils.getBloqByConnectorUuid(childConnectorId,bloqs,connectors);var branchConnectors=utils.getBranchsConnectorsNoChildren(childBloq.uuid,connectors,bloqs);branchConnectors.forEach(function(e){if(utils.itsInsideAConnectorRoot(bloqs[connectors[e].bloqUuid],bloqs,connectors)){var t=connectors[e].bloqUuid;t!==children[children.length-1]&&children.push(t)}})}children.forEach(function(e){value+=bloqs[e].getCode()}),code=code.replace(new RegExp("{STATEMENTS}","g"),value)}if(code.indexOf("{CLASS-OUTSIDE}")>=0){var rootParentName=utils.getClassName(this,bloqs,connectors);rootParentName&&(code=code.replace(new RegExp("{CLASS-OUTSIDE}","g"),rootParentName)),code=code.replace(new RegExp("{CLASS-OUTSIDE}","g"),"")}return void 0===previousCode?previousCode="":code=bloqsUtils.splice(code,code.indexOf("{")+1,0,previousCode),this.itsEnabled()||(code=""),code},this.getBloqsStructure=function(e){var t,n;t=e?_.cloneDeep(this.bloqData):{name:this.bloqData.name,content:[[]]},t.enable=this.itsEnabled();var o=this.connectors[2];if(o){t.childs=[];for(var r=connectors[o].connectedTo;r;)n=utils.getBloqByConnectorUuid(r,bloqs,connectors),t.childs.push(n.getBloqsStructure(e)),r=connectors[n.connectors[1]].connectedTo}var a,i,s,l;if(this.bloqData.content[0])for(var c=0;c<this.bloqData.content[0].length;c++){switch(a=null,this.bloqData.content[0][c].alias){case"varInput":case"stringInput":case"numberInput":case"multilineCodeInput":case"multilineCommentInput":case"codeInput":case"charInput":i=this.$bloq.find('[data-content-id="'+this.bloqData.content[0][c].id+'"]').val(),i&&(a={alias:this.bloqData.content[0][c].alias,id:this.bloqData.content[0][c].id,value:i});break;case"bloqInput":var u,d;u=this.getIOConnectorUuidByContentId(this.bloqData.content[0][c].bloqInputId),"connector--input"===IOConnectors[u].data.type&&IOConnectors[u].connectedTo&&(d=utils.getBloqByConnectorUuid(IOConnectors[u].connectedTo,bloqs,IOConnectors),a={alias:this.bloqData.content[0][c].alias,bloqInputId:this.bloqData.content[0][c].bloqInputId,value:d.getBloqsStructure(e)});break;case"dynamicDropdown":l=this.$bloq.find('select[data-content-id="'+this.bloqData.content[0][c].id+'"][data-dropdowncontent="'+this.bloqData.content[0][c].options+'"]').attr("data-value"),s=this.$bloq.find('select[data-content-id="'+this.bloqData.content[0][c].id+'"][data-dropdowncontent="'+this.bloqData.content[0][c].options+'"]').val();var p=this.bloqData.content[0][c].options,h=Object.keys(softwareArrays).indexOf(p);i=-1!==h?s:l||s,i&&(a={alias:this.bloqData.content[0][c].alias,id:this.bloqData.content[0][c].id,value:i});break;case"staticDropdown":i=this.$contentContainer.find('> select[data-content-id="'+this.bloqData.content[0][c].id+'"]').val(),i&&(a={alias:this.bloqData.content[0][c].alias,id:this.bloqData.content[0][c].id,value:i});break;case"text":break;default:throw"I dont know how to get the structure from this contentType :( "+this.bloqData.content[0][c].alias}a&&(e?t.content[0][c].value=a.value:t.content[0].push(a))}return t},this},buildBloqWithContent=function(e,t,n,o){var r,a,i,s,l,c,u,d,p=n[e.name];if(p||console.error("no original schema",e),a=bloqsUtils.fillSchemaWithContent(p,e),r=new Bloq({bloqData:a,componentsArray:t,$field:o}),e.content)for(d=0;d<e.content[0].length;d++)"bloqInput"===e.content[0][d].alias&&(c=r.getIOConnectorUuidByContentId(e.content[0][d].bloqInputId),u=r.$bloq.find('[data-connector-id="'+c+'"]').first(),l=buildBloqWithContent(e.content[0][d].value,t,n,o),l.$bloq.addClass("nested-bloq"),IOConnectors[c]||console.debug("not connector?",p),IOConnectors[c].connectedTo=l.IOConnectors[0],IOConnectors[l.IOConnectors[0]].connectedTo=c,u.append(l.$bloq));if(e.childs)for(u=r.$bloq.find(".bloq--extension__content"),i=r.connectors[2],e.childs.length>0&&r.$bloq.addClass("with--content"),d=0;d<e.childs.length;d++)s=buildBloqWithContent(e.childs[d],t,n,o),connectors[i].connectedTo=s.connectors[0],connectors[s.connectors[0]].connectedTo=i,i=s.connectors[1],s.$bloq.addClass("inside-bloq"),u.append(s.$bloq);return e.enable?r.enable(!0):r.disable(),r.bloqData.createDynamicContent&&updateSoftVar(r),r},exports={};return exports.Bloq=Bloq,exports.updateSoftVar=updateSoftVar,exports.connectors=connectors,exports.IOConnectors=IOConnectors,exports.bloqs=bloqs,exports.removeBloq=removeBloq,exports.getFreeBloqs=getFreeBloqs,exports.destroyFreeBloqs=destroyFreeBloqs,exports.updateDropdowns=updateDropdowns,exports.setOptions=setOptions,exports.buildBloqWithContent=buildBloqWithContent,exports}]),angular.module("kenrobot").service("bloqsUtils",["_",function(_){var isNumeric=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},validNumber=function(e){var t=e,n=0,o=0;"-"===e[0]&&(t=e.substring(1),o=1);for(var r=e.indexOf(".");o<e.length;)"."===e[o]&&o>r||!isNumeric(e[o])&&"."!==e[o]?(e=e.slice(0,o)+e.slice(o+1,e.length),n+=1):o++;return{value:e,removedChar:n}},getCaretPosition=function(e){if(e.selectionStart)return e.selectionStart;if(document.selection){e.focus();var t=document.selection.createRange();if(null===t)return 0;var n=e.createTextRange(),o=n.duplicate();return n.moveToBookmark(t.getBookmark()),o.setEndPoint("EndToStart",n),o.text.length}return 0},setCaretPosition=function(e,t){if(e.setSelectionRange)e.focus(),e.setSelectionRange(t,t);else if(e.createTextRange){var n=e.createTextRange();n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",t),n.select()}},validString=function(e){return e=e.replace(/(^|\b|[^\\])(\\\\)*\\$/g,"$&\\"),e=e.replace(/(^|\b|[^\\])((\\\\)*\")/g,"$1\\$2"),e=e.replace(/(^|\b|[^\\])((\\\\)*\/\*)/g,"$1\\$2"),e=e.replace(/(^|\b|[^\\])((\\\\)*\/\/)/g,"$1\\$2"),e=e.replace(/\$\'/g,"$\\'"),e=e.replace(/\$\&/g,"$\\&")},validChar=function(e){return e=e.replace(/\$*/g,""),e=/^\\/g.test(e)?/^\\([0-7]{1,3}|x[0-9A-F]{1,2}|u[0-9A-F]{1,4})/g.test(e)?e.match(/^\\([0-7]{1,3}|x[0-9A-F]{1,2}|u[0-9A-F]{1,4})/g)[0]:/^\\[bfnrtv0']/g.test(e)?e.substring(0,2):/^\\[%#!|"@~&?\/()=^`[+\]*,{};.:-]/g.test(e)?e.charAt(1):"\\\\":/^(\')/g.test(e)?"\\'":e.charAt(0)},validComment=function(e){return e=e.replace(/\*\//g,""),e=e.replace(/\$\'/g,"$\\'"),e=e.replace(/\$\&/g,"$\\&")},validName=function(e,t){var n="setup,loop,if,else,for,switch,case,while,do,break,continue,return,goto,define,include,HIGH,LOW,INPUT,OUTPUT,INPUT_PULLUP,true,false,interger, constants,floating,point,void,bool,char,unsigned,byte,int,word,long,float,double,string,String,array,static, volatile,const,sizeof,pinMode,digitalWrite,digitalRead,analogReference,analogRead,analogWrite,tone,noTone,shiftOut,shitIn,pulseIn,millis,micros,delay,delayMicroseconds,min,max,abs,constrain,map,pow,sqrt,sin,cos,tan,randomSeed,random,lowByte,highByte,bitRead,bitWrite,bitSet,bitClear,bit,attachInterrupt,detachInterrupt,interrupts,noInterrupts";if(n=n.split(","),e&&e.length>0){for(var o=0,r=0;o<e.length&&!isNaN(parseFloat(e[o]));)e=e.substring(1,e.length);for(o=0;o<e.length&&!isNaN(parseFloat(e[o]));)e=e.substring(1,e.length);for(r=0;r<n.length;r++)if(e===n[r]){e+="_";break}var a=[];if(t){var i=t.softwareVars.concat(t.voidFunctions,t.returnFunctions);for(r=0;r<i.length;r++)e===i[r].name&&a.push(r);if(2===a.length)if(r=a[1],isNaN(e[e.length-1]))e+="1";else{o=0;for(var s,l;isNaN(e[o]);)l=o,o++;s=parseInt(e.substring(l+1,e.length),10),s+=1,e=e.substring(0,l+1),e+=s.toString()}}}return e},appendArrayInOneTime=function(e,t){var n=$.map(t,function(e){return e.get()});e.append(n)},generateUUID=function(){var e=(new Date).getTime(),t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:3&n|8).toString(16)});return t},getNumericStyleProperty=function(e,t){return parseInt(e.getPropertyValue(t),10)},drawDropdownOptions=function(e,t){var n,o,r=[];for(e.html(""),o=0;o<t.length;o++)n=$("<option>").attr({"data-var-id":t[o].id,value:t[o].name,"data-reference":t[o].uid}).html(t[o].name),r.push(n);appendArrayInOneTime(e,r)},itsOver=function(e,t,n){n=n||0;var o=e.offset(),r=t.offset();return o.left<r.left+t[0].clientWidth+n&&o.left+e[0].clientWidth>r.left-n&&o.top<r.top+t[0].clientHeight+n&&o.top+e[0].clientHeight>r.top-n},sameConnectionType=function(e,t,n,o,r,a){var i=getTypeFromBloq(e,o,r,a);return"object"==typeof n&&(n=getTypeFromDynamicDropdown(t,n,a)),"all"===i||"all"===n||i===n},getTypeFromDynamicDropdown=function(e,t,n){var o=e.$bloq.find('select[data-content-id="'+t.idDropdown+'"][data-dropdowncontent="'+t.options+'"]').attr("data-value"),r=e.$bloq.find('select[data-content-id="'+t.idDropdown+'"][data-dropdowncontent="'+t.options+'"]').val(),a=o||r,i=_.find(n[t.options],{name:a});return i?(t.pointer&&(i.type=i.type.replace(" *","")),i.type):""},getFromDynamicDropdownType=function(e,t,n,o,r){var a=e.$bloq.find('select[data-content-id="'+t+'"][data-dropdowncontent="'+n+'"]').attr("data-value"),i=e.$bloq.find('select[data-content-id="'+t+'"][data-dropdowncontent="'+n+'"]').val(),s=a||i,l=_.find(o[n],{name:s});if(!l)for(var c in r.sensors)if(r.sensors[c].name===s)return"Joystick"===r.sensors[c].type||"LineFollower"===r.sensors[c].type?"float *":"ButtonPad"===r.sensors[c].type?"char":"float";return l?(e.bloqData&&e.bloqData.returnType&&e.bloqData.returnType.pointer&&(l.type=l.type.replace(" *","")),l.type):""},getTreeExtreme=function(e,t,n,o){return n[t[e].connectors[o]].connectedTo?getTreeExtreme(n[n[t[e].connectors[o]].connectedTo].bloqUuid,t,n,o):t[e].connectors[o]},getLastBottomConnectorUuid=function(e,t,n){return getTreeExtreme(e,t,n,1)},getFirstTopConnectorUuid=function(e,t,n){return getTreeExtreme(e,t,n,0)},getOutputConnector=function(e,t){for(var n=0,o=null;!o&&n<e.IOConnectors.length;)"connector--output"===t[e.IOConnectors[n]].data.type&&(o=t[e.IOConnectors[n]]),n++;if(o)return o;throw"outputBloq has no connector-output"},getNodesHeight=function(e,t,n,o){var r,a=n[e];return r=t?1:0,o[a.connectors[r]].connectedTo?a.$bloq.outerHeight(!0)+getNodesHeight(o[o[a.connectors[r]].connectedTo].bloqUuid,t,n,o):a.$bloq.outerHeight(!0)},getTreeHeight=function(e,t,n){var o=t[e],r=n[o.connectors[0]].connectedTo,a=n[o.connectors[1]].connectedTo,i=o.$bloq.outerHeight(!0);return r&&(i+=getNodesHeight(n[r].bloqUuid,!1,t,n)),a&&(i+=getNodesHeight(n[a].bloqUuid,!0,t,n)),i},drawBranch=function(e,t,n){var o=t[n].bloqUuid;e[o].connectors[2]&&t[e[o].connectors[2]].connectedTo&&drawBranch(e,t,t[e[o].connectors[2]].connectedTo),t[e[o].connectors[1]].connectedTo&&drawBranch(e,t,t[e[o].connectors[1]].connectedTo)},drawTree=function(e,t){for(var n in e)if(e[n].droppable&&e[n].connectors[0]&&!t[e[n].connectors[0]].connectedTo)switch(e[n].bloqData.type){case"statement":case"statement-input":e[n].connectors[2]&&t[e[n].connectors[2]].connectedTo&&drawBranch(e,t,t[e[n].connectors[2]].connectedTo),t[e[n].connectors[1]].connectedTo&&drawBranch(e,t,t[e[n].connectors[1]].connectedTo);break;case"group":t[e[n].connectors[2]].connectedTo&&drawBranch(e,t,t[e[n].connectors[2]].connectedTo)}},getBranchsConnectors=function(e,t,n){var o=t[e],r=[];if(r=r.concat(o.connectors),n[o.connectors[1]].connectedTo){var a=n[n[o.connectors[1]].connectedTo].bloqUuid;r=r.concat(getBranchsConnectors(a,n,t))}if(o.connectors[2]&&n[o.connectors[2]].connectedTo){var i=n[n[o.connectors[2]].connectedTo].bloqUuid;r=r.concat(getBranchsConnectors(i,n,t))}return r},getBranchsConnectorsNoChildren=function(e,t,n){var o=n[e],r=[];if(r=r.concat(o.connectors),t[o.connectors[1]].connectedTo){var a=t[t[o.connectors[1]].connectedTo].bloqUuid;r=r.concat(getBranchsConnectorsNoChildren(a,t,n))}return r},getConnectorsUuidByAcceptType=function(e,t){var n=[];for(var o in e)e[o].data.acceptType===t&&n.push(e[o].uuid);return n},getNotConnected=function(e,t){for(var n=[],o=0;o<t.length;o++)e[t[o]].connectedTo||n.push(t[o]);return n},getInputsConnectorsFromBloq=function(e,t,n){for(var o,r=[],a=0;a<n.IOConnectors.length;a++)o=n.IOConnectors[a],e[n.IOConnectors[a]]&&"connector--input"===e[o].data.type&&r.push(o);return r},removeInputsConnectorsFromBloq=function(e,t){t.$contentContainer.children(".bloqinput").remove(),t.$contentContainer.children(".removabletext").remove();for(var n=0;n<t.IOConnectors.length;n++)"connector--input"===e[t.IOConnectors[n]].data.type&&delete e[t.IOConnectors[n]]},generateBloqInputConnectors=function(e){for(var t,n=0;n<e.content.length;n++)for(var o=0;o<e.content[n].length;o++)"bloqInput"===e.content[n][o].alias&&(t=generateUUID(),e.content[n][o].name=t,e.connectors.push({type:"connector--input",accept:"connector--output",name:t}))},getBloqByConnectorUuid=function(e,t,n){return t[n[e].bloqUuid]},translateRegExp=/translate\(((-)*(\d|\.)*)px, ((-)*(\d|\.)*)px\)/,redrawTree=function(e,t,n){var o,r,a,i=getBloqByConnectorUuid(getFirstTopConnectorUuid(e.uuid,t,n),t,n),s=n[i.connectors[1]].connectedTo,l=translateRegExp.exec(i.$bloq[0].style.transform);for(l?(o=parseInt(l[4]),r=l[1]):(o=parseInt(i.$bloq[0].style.top)||i.$bloq.position().top,r=parseInt(i.$bloq[0].style.left)||i.$bloq.position().left),o+=i.$bloq.outerHeight(!0);s;)a=t[n[s].bloqUuid],a.$bloq[0].style.transform="translate("+r+"px,"+o+"px)",o+=a.$bloq.outerHeight(!0),s=n[a.connectors[1]].connectedTo},itsARootConnector=function(e){return"connector--root"===e.data.type},itsInsideAConnectorRoot=function(e,t,n){var o=n[e.connectors[0]];if(n[o.connectedTo]){var r=n[o.connectedTo];return itsARootConnector(r)||itsInsideAConnectorRoot(getBloqByConnectorUuid(r.uuid,t,n),t,n)}return!1},getClassName=function(e,t,n){var o=n[e.connectors[0]];if(n[o.connectedTo]){var r=n[o.connectedTo],a=getBloqByConnectorUuid(r.uuid,t,n);return!itsARootConnector(r)||"classChildren"!==a.bloqData.name&&"class"!==a.bloqData.name?getClassName(getBloqByConnectorUuid(r.uuid,t,n),t,n):a.$bloq.find('[data-content-id="NAME"]').val()}},jqueryObjectsArrayToHtmlToInsert=function(e){var t=$.map(e,function(e){return e.get()});return t},connectorIsInBranch=function(e,t,n,o){for(var r=!1,a=0;!r&&a<n[t].connectors.length;)n[t].connectors[a]===e?r=!0:a++;for(a=0;!r&&a<n[t].IOConnectors.length;)n[t].IOConnectors[a]===e?r=!0:a++;return!r&&n[t].connectors[2]&&o[n[t].connectors[2]].connectedTo&&(r=connectorIsInBranch(e,o[o[n[t].connectors[2]].connectedTo].bloqUuid,n,o)),!r&&n[t].connectors[1]&&o[n[t].connectors[1]].connectedTo&&(r=connectorIsInBranch(e,o[o[n[t].connectors[1]].connectedTo].bloqUuid,n,o)),r},hasClass=function(e,t){var n=" "+t+" ";return(" "+e.className+" ").replace(/[\n\t]/g," ").indexOf(n)>-1},getTypeFromBloq=function(e,t,n,o){var r;switch(e||console.error("We cant get the type if we dont have a bloq"),e.bloqData.returnType||console.error("we cant get the type from a bloq without returnType "+e.bloqData.name),e.bloqData.returnType.type){case"simple":r=e.bloqData.returnType.value;break;case"fromInput":var a=_.find(e.bloqData.content[0],{bloqInputId:e.bloqData.returnType.bloqInputId}),i=_.find(n,{bloqUuid:e.uuid,data:{name:a.name}});r=i&&i.connectedTo?getTypeFromBloq(getBloqByConnectorUuid(i.connectedTo,t,n),t,n,o):"";break;case"fromDynamicDropdown":r=getFromDynamicDropdownType(e,e.bloqData.returnType.idDropdown,e.bloqData.returnType.options,o,e.componentsArray);break;case"fromDropdown":r=e.$bloq.find('[data-content-id="'+e.bloqData.returnType.idDropdown+'"]').val();break;default:throw"we cant get the type from this bloq: "+e.bloqData.name+" "+JSON.stringify(e.bloqData.returnType)}return r},occurrencesInString=function(e,t,n){if(e+="",t+="",t.length<=0)return e.length+1;for(var o=0,r=0,a=n?1:t.length;;){if(r=e.indexOf(t,r),!(r>=0))break;o++,r+=a}return o},getParent=function(e,t,n){var o=getOutputConnector(e,n);return getBloqByConnectorUuid(o.connectedTo,t,n)},getArgsFromBloq=function(e,t,n){var o;if(!e)throw"wadafak";for(;!e.bloqData.arguments;)e=getParent(e,t,n);var r=_.find(e.bloqData.content[0],{bloqInputId:e.bloqData.arguments.bloqInputId}),a=_.find(n,{bloqUuid:e.uuid,data:{name:r.name}});if(a&&a.connectedTo){var i=getBloqByConnectorUuid(a.connectedTo,t,n),s=i.getCode();o={code:s,bloq:i.uuid,funcName:"",size:occurrencesInString(s,",",!1)+1}}else o={code:"",bloq:"",funcName:"",size:0};return o},drawSoftwareVars=function(e){for(var t=0;t<e.softwareVars.length;t++);},drawSoftwareArray=function(e){console.info("drawSoftwareArray"),drawSoftwareVars(e),console.info("returnFunctions");for(var t=0;t<e.returnFunctions.length;t++);},fillSchemaWithContent=function(e,t){var n,o,r=_.clone(e,!0);if(t&&t.content)for(var a=0;a<t.content[0].length;a++)switch(t.content[0][a].alias){case"varInput":case"numberInput":case"stringInput":case"charInput":case"dynamicDropdown":case"staticDropdown":case"multilineCodeInput":case"multilineCommentInput":for(n=0,o=!1;!o&&n<r.content[0].length;)t.content[0][a].id===r.content[0][n].id&&(o=!0,r.content[0][n].value=t.content[0][a].value),n++;if(!o)throw"Attribute on bloqStructure not found in definition";break;case"bloqInput":break;default:throw"we cant build that option "+t.content[0][a].alias}return r},getCode=function(e,t){var n="",o="",r="",a="",i=!1,s="";return t.varsBloq&&t.setupBloq&&t.loopBloq&&e&&((e.continuousServos.length>=1||e.servos.length>=1||e.oscillators.length>=1)&&(n+="#include <Servo.h>\n"),e.oscillators.length>=1&&(-1===n.indexOf("#include <Wire.h>")&&(n+="#include <Wire.h>\n"),n+="#include <BitbloqOscillator.h>\n",i=!0),e.lcds.length>=1&&(-1===n.indexOf("#include <Wire.h>")&&(n+="#include <Wire.h>\n"),n+="#include <BitbloqLiquidCrystal.h>\n",i=!0),e.clocks.length>=1&&(-1===n.indexOf("#include <Wire.h>")&&(n+="#include <Wire.h>\n"),n+="#include <BitbloqRTC.h>\n",i=!0),e.hts221.length>=1&&(-1===n.indexOf("#include <Wire.h>")&&(n+="#include <Wire.h>\n"),n+="#include <BitbloqHTS221.h>\n#include <HTS221_Registers.h>\n",i=!0,e.hts221.forEach(function(e){o+="HTS221 "+e.name+";",a+="Wire.begin();"+e.name+".begin();"})),e.sensors.length>=1&&e.sensors.forEach(function(e){"Joystick"===e.type?(n+="#include <BitbloqJoystick.h>\n#include <Wire.h>\n",i=!0):"ButtonPad"===e.type?(n+="#include <BitbloqButtonPad.h>\n",i=!0):"LineFollower"===e.type?(n+="#include <BitbloqLineFollower.h>\n",i=!0):"US"===e.type?(n+="#include <BitbloqUS.h>\n",i=!0):"encoder"===e.type&&(n+="#include <BitbloqEncoder.h>\n",i=!0)}),e.buzzers.length>=1&&e.buzzers.forEach(function(e){o+="int "+e.name+" = "+(e.pin.s||"")+";",a+="pinMode("+e.name+", OUTPUT);"}),e.clocks.length>=1&&e.clocks.forEach(function(e){o+="RTC_DS1307 "+e.name+";"}),e.continuousServos.length>=1&&e.continuousServos.forEach(function(e){o+="Servo "+e.name+";",a+=e.name+".attach("+(e.pin.s||"")+");"}),e.servos.length>=1&&e.servos.forEach(function(e){o+="Servo "+e.name+";",a+=e.name+".attach("+(e.pin.s||"")+");"}),e.lcds.length>=1&&e.lcds.forEach(function(e){o+="LiquidCrystal "+e.name+"(0);",a+=e.name+".begin(16, 2);"+e.name+".clear();"}),e.leds.length>=1&&e.leds.forEach(function(e){o+="int "+e.name+" = "+(e.pin.s||"")+";",a+="pinMode("+e.name+", OUTPUT);"}),e.rgbs.length>=1&&e.rgbs.forEach(function(e){-1===n.indexOf("#include <BitbloqRGB.h>")&&(n+="#include <BitbloqRGB.h>\n"),o+="ZumRGB "+e.name+"("+(e.pin.r||"")+","+(e.pin.g||"")+","+(e.pin.b||"")+");"}),e.oscillators.length>=1&&e.oscillators.forEach(function(e){o+="Oscillator "+e.name+";",a+=e.name+".attach("+(e.pin.s||"")+");"}),e.sensors.length>=1&&e.sensors.forEach(function(e){"analog"===e.type||"digital"===e.type?(o+="int "+e.name+" = "+(e.pin.s||"")+";",a+="pinMode("+e.name+","+(e.pinMode||"INPUT")+" );"):"Joystick"===e.type?o+="Joystick "+e.name+"("+(e.pin.x||"")+","+(e.pin.y||"")+","+(e.pin.k||"")+");":"ButtonPad"===e.type?o+="ButtonPad "+e.name+"("+(e.pin.s||"")+");":"LineFollower"===e.type?o+="LineFollower "+e.name+"("+(e.pin.s1||"")+","+(e.pin.s2||"")+");":"US"===e.type?o+="US "+e.name+"("+(e.pin.trigger||"")+","+(e.pin.echo||"")+");":"encoder"===e.type&&(o+="Encoder "+e.name+"(encoderUpdaterWrapper,"+(e.pin.k||"")+","+(e.pin.sa||"")+","+(e.pin.sb||"")+");",s+="void encoderUpdaterWrapper(){"+e.name+".update();}")}),e.serialElements.length>=1&&e.serialElements.forEach(function(e){a+="Serial.begin("+(e.baudRate||"")+");"}),r="\n/***   Included libraries  ***/\n"+n+"\n\n/***   Global variables and function definition  ***/\n"+o+t.varsBloq.getCode()+"\n\n/***   Setup  ***/\n"+t.setupBloq.getCode(a)+"\n\n/***   Loop  ***/\n"+t.loopBloq.getCode()+s),r},splice=function(e,t,n,o){return e.slice(0,t)+o+e.slice(t+Math.abs(n))},executeFunctionOnConnectedStatementBloqs=function(e,t,n,o){for(var r,a=o[t.connectors[1]].connectedTo;a;)r=getBloqByConnectorUuid(a,n,o),r[e](),a=o[r.connectors[1]].connectedTo},delay=function(){var e=0;return function(t,n){clearTimeout(e),e=setTimeout(t,n)}}(),getEmptyComponentsArray=function(){return{leds:[],rgbs:[],sensors:[],buzzers:[],servos:[],continuousServos:[],oscillators:[],lcds:[],serialElements:[],clocks:[],hts221:[]}},getArduinoCode=function(e,t){var n=getArduinoCodeFromBloq(t.vars),o=getArduinoCodeFromBloq(t.setup),r=getArduinoCodeFromBloq(t.loop);return n+o+r},getArduinoCodeFromBloq=function(bloq){var code="";if(bloq.enable){var contentRegExp=new RegExp("{([A-Z0-9]+)}","g"),contentConnectionTypeRegExp=new RegExp("{([A-Z0-9]+.connectionType)}","g"),regExpResult,contents=[];for(code=bloq.code;regExpResult=contentRegExp.exec(code);)contents.push(getContentFromBloq(regExpResult[1],bloq));for(var i=0;i<contents.length;i++)code=code.replace(new RegExp("{"+contents[i].id+".withoutAsterisk}","g"),(contents[i].value||"").replace(/ \*/g,"")),code=code.replace(new RegExp("{"+contents[i].id+".connectionType}","g"),contents[i].connectionType||""),code=code.replace(new RegExp("{"+contents[i].id+"}( )*","g"),contents[i].value||"");var reg=/(.*)\?(.*):(.*)/g;reg.test(code)&&(code=eval(code))}return code},getContentFromBloq=function(e,t){var n={value:""};if("STATEMENTS"===e){n.id="STATEMENTS";for(var o=0;o<t.childs.length;o++)n.value+=getArduinoCodeFromBloq(t.childs[o])}else n=_.filter(t.content[0],function(t){return t.id===e?!0:t.bloqInputId===e?(t.id=e,!0):void 0})[0];return"bloqInput"===n.alias&&n.value&&(n.connectionType=getTypeFromBloqStructure(n.value),n.value=getArduinoCodeFromBloq(n.value)),n},getTypeFromBloqStructure=function(e){var t="",n=null;if(!e.returnType)throw"We cant get type from a bloq witouth a returnType";switch(e.returnType.type){case"simple":t=e.returnType.value;break;case"fromDropdown":n=getContentFromBloq(e.returnType.idDropdown,e),t=n.value;break;case"fromDynamicDropdown":break;case"fromInput":break;default:throw"Return type undefined"}return t},exports={};return exports.validString=validString,exports.validChar=validChar,exports.validComment=validComment,exports.delay=delay,exports.validNumber=validNumber,exports.validName=validName,exports.generateUUID=generateUUID,exports.getNumericStyleProperty=getNumericStyleProperty,exports.itsOver=itsOver,exports.getLastBottomConnectorUuid=getLastBottomConnectorUuid,exports.getFirstTopConnectorUuid=getFirstTopConnectorUuid,exports.getOutputConnector=getOutputConnector,exports.getTreeHeight=getTreeHeight,exports.getNodesHeight=getNodesHeight,exports.drawTree=drawTree,exports.drawBranch=drawBranch,exports.getBranchsConnectors=getBranchsConnectors,exports.getBranchsConnectorsNoChildren=getBranchsConnectorsNoChildren,exports.getConnectorsUuidByAcceptType=getConnectorsUuidByAcceptType,exports.getNotConnected=getNotConnected,exports.getInputsConnectorsFromBloq=getInputsConnectorsFromBloq,exports.generateBloqInputConnectors=generateBloqInputConnectors,exports.getBloqByConnectorUuid=getBloqByConnectorUuid,exports.redrawTree=redrawTree,exports.itsARootConnector=itsARootConnector,exports.itsInsideAConnectorRoot=itsInsideAConnectorRoot,exports.jqueryObjectsArrayToHtmlToInsert=jqueryObjectsArrayToHtmlToInsert,exports.connectorIsInBranch=connectorIsInBranch,exports.hasClass=hasClass,exports.appendArrayInOneTime=appendArrayInOneTime,exports.drawDropdownOptions=drawDropdownOptions,exports.getTypeFromBloq=getTypeFromBloq,exports.drawSoftwareVars=drawSoftwareVars,exports.drawSoftwareArray=drawSoftwareArray,exports.sameConnectionType=sameConnectionType,exports.getFromDynamicDropdownType=getFromDynamicDropdownType,exports.fillSchemaWithContent=fillSchemaWithContent,exports.getArgsFromBloq=getArgsFromBloq,exports.removeInputsConnectorsFromBloq=removeInputsConnectorsFromBloq,exports.getParent=getParent,exports.getCode=getCode,exports.splice=splice,exports.translateRegExp=translateRegExp,exports.executeFunctionOnConnectedStatementBloqs=executeFunctionOnConnectedStatementBloqs,exports.getClassName=getClassName,exports.getCaretPosition=getCaretPosition,exports.setCaretPosition=setCaretPosition,exports.getEmptyComponentsArray=getEmptyComponentsArray,exports.getArduinoCode=getArduinoCode,exports}]),angular.module("kenrobot").service("common",["$filter","$translate",function(e,t){for(var n={arrayClassVariable:{type:"output",name:"arrayClassVariable",connectors:[{type:"connector--output",accept:"connector--input"}],bloqClass:"bloq-array-class-variable",content:[[{alias:"text",value:"bloq-array-class-variable-variable"},{id:"VAR",alias:"dynamicDropdown",options:"softwareVars"},{alias:"text",value:"["},{id:"POSITION",alias:"numberInput",value:0},{alias:"text",value:"]"},{alias:"text",value:"bloq-invoke-class-function-class"},{id:"CLASS",alias:"dynamicDropdown",options:"objects"}]],code:"{CLASS}.{VAR}[{POSITION}]",returnType:{type:"fromDynamicDropdown",idDropdown:"VAR",pointer:"true",options:"softwareVars"}},classChildren:{type:"statement-input",name:"classChildren",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"},{type:"connector--root",accept:"connector--top"}],bloqClass:"bloq-class-children",content:[[{alias:"text",value:"bloq-class"},{id:"NAME",alias:"varInput",placeholder:"bloq-class-default"},{alias:"text",value:"bloq-class-inheritance-type"},{id:"TYPE",alias:"staticDropdown",options:[{label:"bloq-class-inheritance-public",value:"public"},{label:"bloq-class-inheritance-protected",value:"protected"},{label:"bloq-class-inheritance-private",
value:"private"}]},{alias:"text",value:"bloq-class-from"},{id:"PARENT",alias:"dynamicDropdown",options:"classes"}]],createDynamicContent:"classes",code:"class {NAME} : public {PARENT}{{STATEMENTS}};",hCode:"class {NAME}: public {PARENT}{{STATEMENTS}};",cppCode:"",returnType:{type:"simple",value:"class"}},constructorClassArguments:{type:"statement-input",name:"constructorClassArguments",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"},{type:"connector--root",accept:"connector--top"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"42382ae7-3182-46e1-a781-d6379cbc03e0"}],bloqClass:"bloq-constructor-arguments",content:[[{alias:"text",value:"bloq-constructor-arguments"},{bloqInputId:"ARGS",alias:"bloqInput",acceptType:"all",name:"42382ae7-3182-46e1-a781-d6379cbc03e0"}]],code:"{CLASS-OUTSIDE} ({ARGS}){{STATEMENTS}};",hCode:"{CLASS-OUTSIDE} ({ARGS});",cppCode:"{CLASS-OUTSIDE} :: {CLASS-OUTSIDE} ({ARGS}){{STATEMENTS}};"},invokeArgumentsClass:{type:"statement",name:"invokeArgumentsClass",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"01a2c4f3-b96e-496b-9915-68fc7be318db"}],bloqClass:"bloq-invoke-arguments-class",content:[[{alias:"text",value:"bloq-invoke-arguments-class"},{id:"CLASS",alias:"dynamicDropdown",options:"classes"},{alias:"text",value:"bloq-invoke-arguments-class-name"},{id:"NAME",alias:"varInput",value:""},{alias:"text",value:"bloq-invoke-arguments-args"},{bloqInputId:"ARGS",alias:"bloqInput",acceptType:"all",name:"01a2c4f3-b96e-496b-9915-68fc7be318db"}]],createDynamicContent:"objects",code:"{CLASS} {NAME}({ARGS});",returnType:{type:"simple",value:"var"}},invokeClassFunctionWithArguments:{type:"statement",name:"invokeClassFunctionWithArguments",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"0dd5f3d0-45c5-4bec-a51c-9cb94c626e3c"}],bloqClass:"bloq-invoke-class-function-args",content:[[{alias:"text",value:"bloq-invoke-class-function-exec"},{id:"FUNCTION",alias:"dynamicDropdown",options:"voidFunctions"},{alias:"text",value:"bloq-invoke-class-function-class"},{id:"CLASS",alias:"dynamicDropdown",options:"objects"},{alias:"text",value:"bloq-invoke-class-function-args"},{bloqInputId:"ARGS",alias:"bloqInput",acceptType:"all",name:"0dd5f3d0-45c5-4bec-a51c-9cb94c626e3c"}]],code:"{CLASS}.{FUNCTION}({ARGS});",dynamicDropdown:{idDropdown:"FUNCTION",options:"voidFunctions"}},invokeClassReturnFunctionWithArguments:{type:"output",name:"invokeClassReturnFunctionWithArguments",connectors:[{type:"connector--output",accept:"connector--input"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"2643d8b6-fd55-4a1a-bee6-dbd0ca831a90"}],bloqClass:"bloq-invoke-class-return-function",content:[[{alias:"text",value:"bloq-invoke-class-return-function-args-exec"},{id:"FUNCTION",alias:"dynamicDropdown",options:"returnFunctions"},{alias:"text",value:"bloq-invoke-class-return-function-args-class"},{id:"CLASS",alias:"dynamicDropdown",options:"objects"},{alias:"text",value:"bloq-invoke-class-return-function-args-args"},{bloqInputId:"ARGS",alias:"bloqInput",acceptType:"all",name:"2643d8b6-fd55-4a1a-bee6-dbd0ca831a90"}]],code:"{CLASS}.{FUNCTION}({ARGS});",returnType:{type:"fromDynamicDropdown",idDropdown:"FUNCTION",options:"returnFunctions"}},"private":{type:"statement-input",name:"private",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"},{type:"connector--root",accept:"connector--top"}],bloqClass:"bloq-private",content:[[{alias:"text",value:"bloq-private"}]],code:"private : {STATEMENTS}",hCode:"private : {STATEMENTS}",cppCode:""},"protected":{type:"statement-input",name:"protected",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"},{type:"connector--root",accept:"connector--top"}],bloqClass:"bloq-protected",content:[[{alias:"text",value:"bloq-protected"}]],code:"protected : {STATEMENTS}",hCode:"protected : {STATEMENTS}",cppCode:""},"public":{type:"statement-input",name:"public",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"},{type:"connector--root",accept:"connector--top"}],bloqClass:"bloq-public",content:[[{alias:"text",value:"bloq-public"}]],code:"public : {STATEMENTS}",hCode:"public : {STATEMENTS}",cppCode:""},setClassArrayVariable:{type:"statement",name:"setClassArrayVariable",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"},{type:"connector--input",accept:"connector--output",acceptType:{type:"fromDynamicDropdown",idDropdown:"NAME",pointer:"true",options:"softwareVars"},name:"48ad30b4-1ee6-43a2-9c8f-d787da5ff807"}],bloqClass:"bloq-set-class-variableArray",content:[[{alias:"text",value:"bloq-set-class-variableArray-variable"},{id:"NAME",alias:"dynamicDropdown",options:"softwareVars"},{alias:"text",value:"["},{id:"ITERATOR",alias:"numberInput",value:0},{alias:"text",value:"]"},{alias:"text",value:"bloq-invoke-class-function-class"},{id:"CLASS",alias:"dynamicDropdown",options:"objects"},{alias:"text",value:"="},{bloqInputId:"VALUE",alias:"bloqInput",acceptType:{type:"fromDynamicDropdown",idDropdown:"NAME",pointer:"true",options:"softwareVars"},name:"48ad30b4-1ee6-43a2-9c8f-d787da5ff807"}]],code:"{CLASS}.{NAME}[{ITERATOR}] = {VALUE};"},"class":{type:"statement-input",name:"class",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"},{type:"connector--root",accept:"connector--top"}],bloqClass:"bloq-class",content:[[{alias:"text",value:"bloq-class"},{id:"NAME",alias:"varInput",placeholder:"bloq-class-default"}]],createDynamicContent:"classes",code:"class {NAME}{{STATEMENTS}};",hCode:"class {NAME}{{STATEMENTS}};",cppCode:"",returnType:{type:"simple",value:"class"}},constructorClass:{type:"statement-input",name:"constructorClass",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"},{type:"connector--root",accept:"connector--top"}],bloqClass:"bloq-constructor",content:[[{alias:"text",value:"bloq-constructor"}]],code:"{CLASS-OUTSIDE}(){{STATEMENTS}};",hCode:"{CLASS-OUTSIDE} ();",cppCode:"{CLASS-OUTSIDE} :: {CLASS-OUTSIDE} (){{STATEMENTS}};"},includeLib:{type:"statement",name:"includeLib",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"}],bloqClass:"bloq-include-lib",content:[[{alias:"text",value:"bloq-include-lib-exec"},{id:"LIB",alias:"dynamicDropdown",options:"libraries"}]],code:'#include "{LIB}";'},invokeClass:{type:"statement",name:"invokeClass",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"}],bloqClass:"bloq-invoke-class",content:[[{alias:"text",value:"bloq-invoke-class"},{id:"CLASS",alias:"dynamicDropdown",options:"classes"},{alias:"text",value:"bloq-invoke-class-name"},{id:"NAME",alias:"varInput",value:""},{alias:"text",value:"bloq-invoke-class-function-class"},{id:"CLASS",alias:"dynamicDropdown",options:"classes"}]],createDynamicContent:"objects",code:"{CLASS} {NAME};",returnType:{type:"simple",value:"var"}},invokeClassFunction:{type:"statement",name:"invokeClassFunction",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"}],bloqClass:"bloq-invoke-class-function",content:[[{alias:"text",value:"bloq-invoke-class-function-exec"},{id:"FUNCTION",alias:"dynamicDropdown",options:"voidFunctions"},{alias:"text",value:"bloq-invoke-class-function-class"},{id:"CLASS",alias:"dynamicDropdown",options:"objects"}]],code:"{CLASS}.{FUNCTION}();",dynamicDropdown:{idDropdown:"FUNCTION",options:"voidFunctions"}},invokeClassReturnFunction:{type:"output",name:"invokeClassReturnFunction",connectors:[{type:"connector--output",accept:"connector--input"}],bloqClass:"bloq-invoke-class-return-function",content:[[{alias:"text",value:"bloq-invoke-class-return-function-exec"},{id:"FUNCTION",alias:"dynamicDropdown",options:"returnFunctions"},{alias:"text",value:"bloq-invoke-class-function-class"},{id:"CLASS",alias:"dynamicDropdown",options:"objects"}]],code:"{CLASS}.{FUNCTION}()",returnType:{type:"fromDynamicDropdown",idDropdown:"FUNCTION",options:"returnFunctions"}},selectClassVariable:{type:"output",name:"selectClassVariable",connectors:[{type:"connector--output",accept:"connector--input"}],bloqClass:"bloq-select-class-variable",content:[[{alias:"text",value:"bloq-select-class-variable-variable"},{id:"VAR",alias:"dynamicDropdown",options:"softwareVars"},{alias:"text",value:"bloq-invoke-class-function-class"},{id:"CLASS",alias:"dynamicDropdown",options:"objects"}]],code:"{CLASS}.{VAR}",returnType:{type:"fromDynamicDropdown",idDropdown:"VAR",options:"softwareVars"}},setClassVariable:{type:"statement",name:"setClassVariable",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"},{type:"connector--input",accept:"connector--output",acceptType:{type:"fromDynamicDropdown",idDropdown:"NAME",options:"softwareVars"},name:"0658b542-93f9-4b77-b3c7-89e599c96a4a"}],bloqClass:"bloq-set-class-variable",content:[[{alias:"text",value:"bloq-set-class-variable-variable"},{id:"NAME",alias:"dynamicDropdown",options:"softwareVars"},{alias:"text",value:"bloq-invoke-class-function-class"},{id:"CLASS",alias:"dynamicDropdown",options:"objects"},{alias:"text",value:"="},{bloqInputId:"VALUE",alias:"bloqInput",acceptType:{type:"fromDynamicDropdown",idDropdown:"NAME",options:"softwareVars"},name:"0658b542-93f9-4b77-b3c7-89e599c96a4a"}]],code:"{CLASS}.{NAME} = {VALUE};"},code:{type:"statement",name:"code",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"}],bloqClass:"bloq-code",content:[[{id:"CODE",alias:"multilineCodeInput",value:"",placeholder:"bloq-code-writeYourCode"}]],code:"{CODE}\n"},comment:{type:"statement",name:"comment",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"}],bloqClass:"bloq-comment",content:[[{alias:"text",value:"bloq-comment-comment"},{id:"COMMENT",alias:"multilineCommentInput",placeholder:"bloq-comment-default"}]],code:"/*\n{COMMENT}\n*/"},enableInterrupt:{type:"statement",name:"enableInterrupt",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"}],bloqClass:"bloq-enable-interrupt",content:[[{alias:"text",value:"bloq-enable-interrupt"},{id:"FUNC",alias:"dynamicDropdown",options:"voidFunctions"},{alias:"text",value:"bloq-enable-interrupt-pin"},{id:"PIN",alias:"dynamicDropdown",options:"varComponents"},{id:"STATE",alias:"staticDropdown",options:[{label:"bloq-enable-interrupt-rising",value:"RISING"},{label:"bloq-enable-interrupt-falling",value:"FALLING"},{label:"bloq-enable-interrupt-change",value:"CHANGE"}]}]],code:"enableInterrupt({PIN}, {FUNC}, {STATE});"},convert:{type:"output",name:"convert",connectors:[{type:"connector--output",accept:"connector--input"},{type:"connector--input",accept:"connector--output",acceptType:"number",name:"abac3818-8c8c-4f82-867b-65622edab02d"}],bloqClass:"bloq-convert",content:[[{alias:"text",value:"bloq-convert-convert"},{bloqInputId:"NUMBER",alias:"bloqInput",acceptType:"number",name:"abac3818-8c8c-4f82-867b-65622edab02d"},{alias:"text",value:"bloq-convert-to"},{id:"TYPE",alias:"staticDropdown",options:[{label:"bloq-convert-dec",value:"DEC"},{label:"bloq-convert-hex",value:"HEX"},{label:"bloq-convert-oct",value:"OCT"},{label:"bloq-convert-bin",value:"BIN"}]}]],code:"({NUMBER},{TYPE});",returnType:{type:"simple",value:"float"}},serialSend:{type:"statement",name:"serialSend",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"53f29b0f-436c-4aa7-9649-fa56803ec3b8"}],bloqClass:"bloq-serial-send",content:[[{alias:"text",value:"bloq-serial-send-send"},{bloqInputId:"DATA",alias:"bloqInput",acceptType:"all",name:"53f29b0f-436c-4aa7-9649-fa56803ec3b8"},{id:"FUNCTION",alias:"staticDropdown",options:[{label:"bloq-serial-send-println",value:"println"},{label:"bloq-serial-send-print",value:"print"}]}]],code:"Serial.{FUNCTION}({DATA});"},serialReceive:{type:"output",name:"serialReceive",connectors:[{type:"connector--output",accept:"connector--input"}],bloqClass:"bloq-serial-receiver",content:[[{alias:"text",value:"bloq-serial-receiver-receive"}]],code:"Serial.read()",returnType:{type:"simple",value:"char"}},"serialSend-v1":{type:"statement",name:"serialSend-v1",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"f8471331-86fc-4e8e-9293-8ddd1bca79a5"}],bloqClass:"bloq-serial-send",content:[[{alias:"text",value:"bloq-serial-send-send"},{bloqInputId:"DATA",alias:"bloqInput",acceptType:"all",name:"f8471331-86fc-4e8e-9293-8ddd1bca79a5"},{id:"LN",alias:"staticDropdown",options:[{label:"bloq-serial-send-println",value:"println"},{label:"bloq-serial-send-print",value:"print"}]}]],code:"Serial.{LN}({DATA});"},rgbLed:{type:"statement",name:"rgbLed",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"}],bloqClass:"bloq-rgbLed",content:[[{alias:"text",value:"bloq-rgbLed"},{id:"LED",alias:"dynamicDropdown",options:"rgbs"},{alias:"text",value:"bloq-rgbLed-red"},{id:"RED",alias:"numberInput",value:0},{alias:"text",value:"bloq-rgbLed-green"},{id:"GREEN",alias:"numberInput",value:0},{alias:"text",value:"bloq-rgbLed-blue"},{id:"BLUE",alias:"numberInput",value:0}]],code:"{LED}.setRGBcolor({RED},{GREEN},{BLUE});"},rgbLedFade:{type:"statement",name:"rgbLedFade",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"}],bloqClass:"bloq-rgbLed-fade",content:[[{alias:"text",value:"bloq-rgbLed-fade"},{id:"LED",alias:"dynamicDropdown",options:"rgbs"},{alias:"text",value:"bloq-rgbLed-fade-red"},{id:"RED",alias:"numberInput",value:0},{alias:"text",value:"bloq-rgbLed-fade-green"},{id:"GREEN",alias:"numberInput",value:0},{alias:"text",value:"bloq-rgbLed-fade-blue"},{id:"BLUE",alias:"numberInput",value:0}]],code:"{LED}.crossFade({RED},{GREEN},{BLUE});"},rgbLedSimple:{type:"statement",name:"rgbLedSimple",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"}],bloqClass:"bloq-rgbLed-simple",content:[[{alias:"text",value:"bloq-rgbLed-simple"},{id:"LED",alias:"dynamicDropdown",options:"rgbs"},{alias:"text",value:"bloq-rgbLed-simple-color"},{id:"COLOR",alias:"staticDropdown",options:[{label:"bloq-rgbLed-simple-white",value:"255,255,255"},{label:"bloq-rgbLed-simple-yellow",value:"255,255,0"},{label:"bloq-rgbLed-simple-orange",value:"200,50,0"},{label:"bloq-rgbLed-simple-red",value:"255,0,0"},{label:"bloq-rgbLed-simple-green",value:"0,255,0"},{label:"bloq-rgbLed-simple-dark-green",value:"0,60,102"},{label:"bloq-rgbLed-simple-blue",value:"40,40,255"},{label:"bloq-rgbLed-simple-dark-blue",value:"0,0,255"},{label:"bloq-rgbLed-simple-pink",value:"255,0,255"}]}]],code:"{LED}.setRGBcolor({COLOR});"},rgbLedAdvanced:{type:"statement",name:"rgbLedAdvanced",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"03fafc3a-a1f9-4422-a3ce-ca9e554e1476"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"937f2ffe-5fb2-4c93-a032-da86f0d8f3ab"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"09b65f04-37b9-4a60-b9a6-e063eef8334e"}],bloqClass:"bloq-rgbLed-advanced",content:[[{alias:"text",value:"bloq-rgbLed"},{id:"LED",alias:"dynamicDropdown",options:"rgbs"},{alias:"text",value:"bloq-rgbLed-red"},{bloqInputId:"RED",alias:"bloqInput",acceptType:"all",name:"03fafc3a-a1f9-4422-a3ce-ca9e554e1476"},{alias:"text",value:"bloq-rgbLed-green"},{bloqInputId:"GREEN",alias:"bloqInput",acceptType:"all",name:"937f2ffe-5fb2-4c93-a032-da86f0d8f3ab"},{alias:"text",value:"bloq-rgbLed-blue"},{bloqInputId:"BLUE",alias:"bloqInput",acceptType:"all",name:"09b65f04-37b9-4a60-b9a6-e063eef8334e"}]],code:"{LED}.setRGBcolor({RED},{GREEN},{BLUE});"},analogReadAdvanced:{type:"output",name:"analogReadAdvanced",connectors:[{type:"connector--output",accept:"connector--input"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"8b0e7306-5424-4483-bb25-991cc88ee22c"}],bloqClass:"bloq-analog-read-advanced",content:[[{alias:"text",value:"bloq-analog-read-advanced-readpin"},{bloqInputId:"PIN",alias:"bloqInput",acceptType:"all",name:"8b0e7306-5424-4483-bb25-991cc88ee22c"},{alias:"text",value:"bloq-analog-read-advanced-readpin-end"}]],code:"'{PIN}'.indexOf('A') !== -1 ? 'analogRead({PIN})'.replace(/\"/g, '') : 'analogRead({PIN})'",returnType:{type:"simple",value:"float"}},analogWrite:{type:"statement",name:"analogWrite",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"5dbec0d7-2c71-4943-bdda-091ec3248cd7"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"786457fd-727b-4a52-ac76-ac47a96c097a"}],bloqClass:"bloq-pin-writte-advanced",content:[[{alias:"text",value:"bloq-pin-analog-write"},{bloqInputId:"PIN",alias:"bloqInput",acceptType:"all",name:"5dbec0d7-2c71-4943-bdda-091ec3248cd7"},{alias:"text",value:"bloq-pin-analog-write-data"},{bloqInputId:"DATA",alias:"bloqInput",acceptType:"all",name:"786457fd-727b-4a52-ac76-ac47a96c097a"}]],code:"'{PIN}'.indexOf('A') !== -1 ? 'analogWrite({PIN},{DATA});'.replace(/\"/g, '') : 'analogWrite({PIN},{DATA});'"},buzzerAdvanced:{type:"statement",name:"buzzerAdvanced",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"b57fc0e6-15ae-49b6-965b-42460821a5f2"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"4b4393d0-ce5e-45e6-b83e-a45f9530d5a2"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"b38394fc-9676-494a-b44a-94f658cd9319"}],bloqClass:"bloq-buzzer-advance",content:[[{alias:"text",value:"bloq-buzzer-advance-sound"},{bloqInputId:"BUZZER",alias:"bloqInput",acceptType:"all",name:"b57fc0e6-15ae-49b6-965b-42460821a5f2"},{alias:"text",value:"bloq-buzzer-advance-note"},{bloqInputId:"NOTE",alias:"bloqInput",acceptType:"all",name:"4b4393d0-ce5e-45e6-b83e-a45f9530d5a2"},{alias:"text",value:"bloq-buzzer-advance-for"},{bloqInputId:"SECONDS",alias:"bloqInput",acceptType:"all",name:"b38394fc-9676-494a-b44a-94f658cd9319"},{alias:"text",value:"bloq-buzzer-advance-ms"}]],code:"tone({BUZZER},{NOTE},{SECONDS});\ndelay({SECONDS});"},"continuousServoStartAdvanced-v1":{type:"statement",name:"continuousServoStartAdvanced-v1",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"1484b139-1fe7-4eaa-b015-49989cbd89d3"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"5b0354c0-8e85-4755-9e03-95525f1057a9"}],bloqClass:"bloq-continuous-servo-start-advanced",content:[[{alias:"text",value:"bloq-continuous-servo-start-advanced-turn"},{bloqInputId:"SERVO",alias:"bloqInput",acceptType:"all",name:"1484b139-1fe7-4eaa-b015-49989cbd89d3"},{alias:"text",value:"bloq-continuous-servo-start-advanced-direction"},{bloqInputId:"DIRECTION",alias:"bloqInput",acceptType:"all",name:"5b0354c0-8e85-4755-9e03-95525f1057a9"}]],code:"{SERVO}.write({DIRECTION});"},continuousServoStopAdvanced:{type:"statement",name:"continuousServoStopAdvanced",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"584cafc9-1451-42fb-a56b-a219a4db672e"}],bloqClass:"bloq-continuous-servo-stop-advanced",content:[[{alias:"text",value:"bloq-continuous-servo-stop-advanced-stop"},{bloqInputId:"SERVO",alias:"bloqInput",acceptType:"all",name:"584cafc9-1451-42fb-a56b-a219a4db672e"},{alias:"text",value:"bloq-continuous-servo-stop-advanced-stop-end"}]],code:"{SERVO}.write(90);"},digitalReadAdvanced:{type:"output",name:"digitalReadAdvanced",connectors:[{type:"connector--output",accept:"connector--input"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"c585be5f-5bdf-476d-b3c1-ebb0f8886cb8"}],bloqClass:"bloq-digital-read-advanced",content:[[{alias:"text",value:"bloq-digital-read-advanced-readpin"},{bloqInputId:"PIN",alias:"bloqInput",acceptType:"all",name:"c585be5f-5bdf-476d-b3c1-ebb0f8886cb8"},{alias:"text",value:"bloq-digital-read-advanced-readpin-end"}]],code:"digitalRead({PIN})",returnType:{type:"simple",value:"float"}},digitalWrite:{type:"statement",name:"digitalWrite",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"06703099-aea8-4ef9-a648-a32f89051e5c"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"c68c77de-ef1c-4f54-88a3-a8566d882b7b"}],bloqClass:"bloq-pin-writte-advanced",content:[[{alias:"text",value:"bloq-pin-digital-write"},{bloqInputId:"PIN",alias:"bloqInput",acceptType:"all",name:"06703099-aea8-4ef9-a648-a32f89051e5c"},{alias:"text",value:"bloq-pin-digital-write-data"},{bloqInputId:"DATA",alias:"bloqInput",acceptType:"all",name:"c68c77de-ef1c-4f54-88a3-a8566d882b7b"}]],code:"digitalWrite({PIN},{DATA});"},lcdTurnOnOffAdvanced:{type:"statement",name:"lcdTurnOnOffAdvanced",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"6e9f7268-0bf0-45f2-97d8-428034412094"}],bloqClass:"bloq-lcd-turn-on-off-advanced",content:[[{id:"STATE",alias:"staticDropdown",options:[{label:"bloq-lcd-turn-on-off-advanced-turnon",value:"HIGH"},{label:"bloq-lcd-turn-on-off-advanced-turnoff",value:"LOW"}]},{bloqInputId:"LCD",alias:"bloqInput",acceptType:"all",name:"6e9f7268-0bf0-45f2-97d8-428034412094"},{alias:"text",value:"bloq-lcd-turn-on-off-advanced-lcdLigth"}]],code:"{LCD}.setBacklight({STATE});"},lcdWriteAdvanced:{type:"statement",name:"lcdWriteAdvanced",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"0ff787be-1b73-4c85-84e0-f38651e4a29d"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"087df5f7-1ad4-4fcf-923b-3c8866b13512"}],bloqClass:"bloq-lcd-writte-advanced",content:[[{alias:"text",value:"bloq-lcd-writte-advanced-inLCD"},{bloqInputId:"LCD",alias:"bloqInput",acceptType:"all",name:"087df5f7-1ad4-4fcf-923b-3c8866b13512"},{alias:"text",value:"bloq-lcd-writte-advanced-write"},{bloqInputId:"TEXT",alias:"bloqInput",acceptType:"all",name:"0ff787be-1b73-4c85-84e0-f38651e4a29d"}]],code:"{LCD}.print({TEXT});"},"lcdWritePositionAdvanced-v1":{type:"statement",name:"lcdWritePositionAdvanced-v1",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"5b8ac541-9ef8-48fa-b798-04ef13c0ef83"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"ff3bf8e8-5438-4a0d-822a-346d8838af7d"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"7ed6194c-1253-4ac3-a1cd-c5a1b0334e8a"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"c0f6dffb-bbb6-4906-bb65-313ee54e26b9"}],bloqClass:"bloq-lcd-writte",content:[[{alias:"text",value:"bloq-lcd-writte-inLCD"},{bloqInputId:"LCD",alias:"bloqInput",acceptType:"all",name:"ff3bf8e8-5438-4a0d-822a-346d8838af7d"},{bloqInputId:"ROW",alias:"bloqInput",acceptType:"all",name:"c0f6dffb-bbb6-4906-bb65-313ee54e26b9"},{alias:"text",value:"bloq-lcd-writte-advanced-row"},{bloqInputId:"COLUMN",alias:"bloqInput",acceptType:"all",name:"7ed6194c-1253-4ac3-a1cd-c5a1b0334e8a"},{alias:"text",value:"bloq-lcd-writte-advanced-column"},{alias:"text",value:"bloq-lcd-writte-write"},{bloqInputId:"TEXT",alias:"bloqInput",acceptType:"all",name:"5b8ac541-9ef8-48fa-b798-04ef13c0ef83"}]],code:"{LCD}.setCursor({COLUMN},{ROW});{LCD}.print({TEXT});"},ledAdvanced:{type:"statement",name:"ledAdvanced",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"9050f447-06fe-4956-bd2b-a440ce757f52"}],bloqClass:"bloq-led-advanced",content:[[{id:"STATE",alias:"staticDropdown",options:[{label:"bloq-led-advanced-turnon",value:"HIGH"},{label:"bloq-led-advanced-turnoff",value:"LOW"}]},{alias:"text",value:"bloq-led-advanced-theLED"},{bloqInputId:"LED",alias:"bloqInput",acceptType:"all",name:"9050f447-06fe-4956-bd2b-a440ce757f52"}]],code:"digitalWrite({LED},{STATE});"},oscillatorAdvanced:{type:"statement",name:"oscillatorAdvanced",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"7df60b80-3437-452c-a01c-b2eb70f38a9a"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"85c20ede-0585-478b-bddf-b5ce72e632f9"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"990e249d-9108-4fbf-86c5-1d5200572995"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"8a83d1fa-74d9-4993-afd1-0c14796e169a"}],bloqClass:"bloq-oscillator-advanced",content:[[{alias:"text",value:"bloq-oscillator-advanced-oscillate"},{bloqInputId:"OSCILLATOR",alias:"bloqInput",acceptType:"all",name:"7df60b80-3437-452c-a01c-b2eb70f38a9a"},{alias:"text",value:"bloq-oscillator-advanced-around"},{bloqInputId:"PHASE",alias:"bloqInput",acceptType:"all",name:"85c20ede-0585-478b-bddf-b5ce72e632f9"},{alias:"text",value:"bloq-oscillator-advanced-amplitude"},{bloqInputId:"AMPLITUDE",alias:"bloqInput",acceptType:"all",name:"990e249d-9108-4fbf-86c5-1d5200572995"},{alias:"text",value:"bloq-oscillator-advanced-speed"},{bloqInputId:"SPEED",alias:"bloqInput",acceptType:"all",name:"8a83d1fa-74d9-4993-afd1-0c14796e169a"}]],code:"{OSCILLATOR}.SetO({PHASE});\n{OSCILLATOR}.SetA({AMPLITUDE});\n{OSCILLATOR}.SetT({SPEED});\n{OSCILLATOR}.refresh();"},oscillatorStartAdvanced:{type:"statement",name:"oscillatorStartAdvanced",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"b0e8f5b3-a867-424d-ba93-22ff7406bd26"}],bloqClass:"bloq-oscillator-start-advanced",content:[[{alias:"text",value:"bloq-oscillator-start-advanced-oscillator"},{bloqInputId:"OSCILLATOR",alias:"bloqInput",acceptType:"all",name:"b0e8f5b3-a867-424d-ba93-22ff7406bd26"}]],code:"{OSCILLATOR}.start()"},oscillatorStopAdvanced:{type:"statement",name:"oscillatorStopAdvanced",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"b489257c-fc38-493b-93b2-b3311db488b4"}],bloqClass:"bloq-oscillator-stop-advanced",content:[[{alias:"text",value:"bloq-oscillator-stop-advanced-stop"},{bloqInputId:"OSCILLATOR",alias:"bloqInput",acceptType:"all",name:"b489257c-fc38-493b-93b2-b3311db488b4"}]],code:"{OSCILLATOR}.stop()"},servoNormalAdvanced:{type:"statement",name:"servoNormalAdvanced",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"78baf27b-134e-493c-87cf-c89193802711"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"90672fb5-8f1f-45d2-82de-9415185c2b44"}],bloqClass:"bloq-servo-advanced",content:[[{alias:"text",value:"bloq-servo-advanced-move"},{bloqInputId:"SERVO",alias:"bloqInput",acceptType:"all",name:"78baf27b-134e-493c-87cf-c89193802711"},{alias:"text",value:"bloq-servo-advanced-to"},{bloqInputId:"POSITION",alias:"bloqInput",acceptType:"all",name:"90672fb5-8f1f-45d2-82de-9415185c2b44"},{alias:"text",value:"bloq-servo-advanced-degrees"}]],code:"{SERVO}.write({POSITION});"},buzzer:{type:"statement",name:"buzzer",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"}],bloqClass:"bloq-buzzer",content:[[{alias:"text",value:"bloq-buzzer-sound"},{id:"BUZZER",alias:"dynamicDropdown",options:"buzzers"},{alias:"text",value:"bloq-buzzer-note"},{id:"NOTE",alias:"staticDropdown",options:[{label:"bloq-buzzer-do",value:"261"},{label:"bloq-buzzer-re",value:"293"},{label:"bloq-buzzer-mi",value:"329"},{label:"bloq-buzzer-fa",value:"349"},{label:"bloq-buzzer-sol",value:"392"},{label:"bloq-buzzer-la",value:"440"},{label:"bloq-buzzer-si",value:"494"}]},{alias:"text",value:"bloq-buzzer-for"},{id:"SECONDS",alias:"numberInput",value:2e3},{alias:"text",value:"bloq-buzzer-ms"}]],code:"tone({BUZZER},{NOTE},{SECONDS});\ndelay({SECONDS});"},buzzerClose:{type:"statement",name:"buzzerClose",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"}],bloqClass:"bloq-buzzer",content:[[{alias:"text",value:"bloq-buzzer-sound-off"},{id:"BUZZER",alias:"dynamicDropdown",options:"buzzers"}]],code:"noTone({BUZZER});"},continuousServoStart:{type:"statement",name:"continuousServoStart",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"}],bloqClass:"bloq-continuous-servo-start",content:[[{alias:"text",value:"bloq-continuous-servo-start-turn"},{id:"SERVO",alias:"dynamicDropdown",options:"continuousServos"},{alias:"text",value:"bloq-continuous-servo-start-direction"},{id:"DIRECTION",alias:"staticDropdown",options:[{label:"bloq-continuous-servo-start-clockwise",value:"180"},{label:"bloq-continuous-servo-start-counterclockwise",value:"0"}]}]],code:"{SERVO}.write({DIRECTION});"},continuousServoStop:{type:"statement",name:"continuousServoStop",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"}],bloqClass:"bloq-continuous-servo-stop",content:[[{alias:"text",value:"bloq-continuous-servo-stop-stop"},{id:"SERVO",alias:"dynamicDropdown",options:"continuousServos"},{alias:"text",value:"bloq-continuous-servo-stop-stop-end"}]],code:"{SERVO}.write(90);"},continuousServoStartAdvanced:{type:"statement",name:"continuousServoStartAdvanced",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"}],bloqClass:"bloq-continuous-servo-start-advanced",content:[[{alias:"text",value:"bloq-continuous-servo-start-advanced-turn"},{continuousServoStartAdvancedInputId:"SERVO",alias:"continuousServoStartAdvancedInput",acceptType:"all"},{alias:"text",value:"bloq-continuous-servo-start-advanced-direction"},{id:"DIRECTION",alias:"staticDropdown",options:[{label:"bloq-continuous-servo-start-advanced-clockwise",value:"0"},{label:"bloq-continuous-servo-start-advanced-counterclockwise",value:"180"}]}]],code:"{SERVO}.write({DIRECTION});"
},lcdWritePositionAdvanced:{type:"statement",name:"lcdWritePositionAdvanced",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"fe2d7071-a756-4d39-aae0-79b5fb3fd462"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"d99d1f3b-b502-4a4e-b7af-d1ce23f9f858"}],bloqClass:"bloq-lcd-writte deprecated",content:[[{alias:"text",value:"bloq-lcd-writte-write"},{bloqInputId:"TEXT",alias:"bloqInput",acceptType:"all",name:"fe2d7071-a756-4d39-aae0-79b5fb3fd462"},{alias:"text",value:"bloq-lcd-writte-inLCD"},{bloqInputId:"LCD",alias:"bloqInput",acceptType:"all",name:"d99d1f3b-b502-4a4e-b7af-d1ce23f9f858"},{alias:"text",value:"bloq-lcd-writte-advanced-inPosition"},{id:"COLUMN",alias:"numberInput",value:0},{id:"ROW",alias:"numberInput",value:0}]],code:"{LCD}.setCursor({COLUMN},{ROW});{LCD}.print({TEXT});"},pinReadAdvanced:{type:"output",name:"pinReadAdvanced",connectors:[{type:"connector--output",accept:"connector--input"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"2466a0f2-393c-4351-9f40-1e2e95ae7876"}],bloqClass:"bloq-pin-read-advanced",content:[[{alias:"text",value:"bloq-pin-read-advanced-readpin"},{bloqInputId:"PIN",alias:"bloqInput",acceptType:"all",name:"2466a0f2-393c-4351-9f40-1e2e95ae7876"}]],code:"'{PIN}'.indexOf('A') !== -1 ? 'analogRead({PIN})' : 'digitalRead({PIN})'",returnType:{type:"simple",value:"bool"}},pinWriteAdvanced:{type:"statement",name:"pinWriteAdvanced",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"eaf1d520-9081-4eb2-bf6a-4c3c594637cc"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"5b7e464a-ea36-4922-bd01-1fd8c27c1039"}],bloqClass:"bloq-pin-writte-advanced",content:[[{alias:"text",value:"bloq-pin-writte-advanced-writepin"},{bloqInputId:"PIN",alias:"bloqInput",acceptType:"all",name:"eaf1d520-9081-4eb2-bf6a-4c3c594637cc"},{alias:"text",value:"bloq-pin-writte-advanced-data"},{bloqInputId:"DATA",alias:"bloqInput",acceptType:"all",name:"5b7e464a-ea36-4922-bd01-1fd8c27c1039"}]],code:"'{PIN}'.indexOf('A') === 0 ? 'analogWrite({PIN},{DATA});' : 'digitalWrite({PIN},{DATA});'"},readSensorAdvanced:{type:"output",name:"readSensorAdvanced",connectors:[{type:"connector--output",accept:"connector--input"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"f759cd4d-42d0-455e-b0eb-6fa48b818886"}],bloqClass:"bloq-read-advanced",content:[[{alias:"text",value:"bloq-read-advanced-read"},{bloqInputId:"PIN",alias:"bloqInput",acceptType:"all",name:"f759cd4d-42d0-455e-b0eb-6fa48b818886"}]],code:"{SENSOR.type}",returnType:{type:"fromDynamicDropdown",idDropdown:"SENSOR",options:"sensors"}},hts221Humidity:{type:"output",name:"hts221Humidity",connectors:[{type:"connector--output",accept:"connector--input"}],bloqClass:"bloq-hts221-humidity",content:[[{alias:"text",value:"bloq-hts221-humidity"},{id:"SENSOR",alias:"dynamicDropdown",options:"hts221"},{alias:"text",value:"bloq-hts221-humidity-end"}]],code:"{SENSOR}.getHumidity()",returnType:{type:"simple",value:"float"}},hts221Temperature:{type:"output",name:"hts221Temperature",connectors:[{type:"connector--output",accept:"connector--input"}],bloqClass:"bloq-hts221-temperature",content:[[{alias:"text",value:"bloq-hts221-temperature"},{id:"SENSOR",alias:"dynamicDropdown",options:"hts221"},{alias:"text",value:"bloq-hts221-temperature-end"}]],code:"{SENSOR}.getTemperature()",returnType:{type:"simple",value:"float"}},lcdClear:{type:"statement",name:"lcdClear",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"}],bloqClass:"bloq-lcd-clear",content:[[{alias:"text",value:"bloq-lcd-clear"},{id:"LCD",alias:"dynamicDropdown",options:"lcds"}]],code:"{LCD}.clear();"},lcdTurnOnOff:{type:"statement",name:"lcdTurnOnOff",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"}],bloqClass:"bloq-lcd-turn-on-off",content:[[{id:"STATE",alias:"staticDropdown",options:[{label:"bloq-lcd-turn-on-off-turnon",value:"HIGH"},{label:"bloq-lcd-turn-on-off-turnoff",value:"LOW"}]},{id:"LCD",alias:"dynamicDropdown",options:"lcds"},{alias:"text",value:"bloq-lcd-turn-on-off-lcdLigth"}]],code:"{LCD}.setBacklight({STATE});"},lcdWrite:{type:"statement",name:"lcdWrite",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"}],bloqClass:"bloq-lcd-writte",content:[[{alias:"text",value:"bloq-lcd-writte-inLCD"},{id:"LCD",alias:"dynamicDropdown",options:"lcds"},{alias:"text",value:"bloq-lcd-writte-write"},{id:"TEXT",alias:"stringInput",placeholder:"bloq-lcd-default"}]],code:'{LCD}.print("{TEXT}");'},lcdWritePosition:{type:"statement",name:"lcdWritePosition",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"}],bloqClass:"bloq-lcd-writte",content:[[{alias:"text",value:"bloq-lcd-writte-inLCD"},{id:"LCD",alias:"dynamicDropdown",options:"lcds"},{id:"ROW",alias:"numberInput",value:0},{alias:"text",value:"bloq-lcd-writte-advanced-row"},{id:"COLUMN",alias:"numberInput",value:0},{alias:"text",value:"bloq-lcd-writte-advanced-column"},{alias:"text",value:"bloq-lcd-writte-write"},{id:"TEXT",alias:"stringInput",placeholder:"bloq-lcd-default"}]],code:'{LCD}.setCursor({COLUMN},{ROW});{LCD}.print("{TEXT}");'},led:{type:"statement",name:"led",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"}],bloqClass:"bloq-led",content:[[{id:"STATE",alias:"staticDropdown",options:[{label:"bloq-led-turnon",value:"HIGH"},{label:"bloq-led-turnoff",value:"LOW"}]},{alias:"text",value:"bloq-led-theLED"},{id:"LED",alias:"dynamicDropdown",options:"leds"}]],code:"digitalWrite({LED},{STATE});"},oscillator:{type:"statement",name:"oscillator",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"}],bloqClass:"bloq-oscillator",content:[[{alias:"text",value:"bloq-oscillator-oscillate"},{id:"OSCILLATOR",alias:"dynamicDropdown",options:"oscillators"},{alias:"text",value:"bloq-oscillator-around"},{id:"PHASE",alias:"numberInput",value:90},{alias:"text",value:"bloq-oscillator-amplitude"},{id:"AMPLITUDE",alias:"numberInput",value:90},{alias:"text",value:"bloq-oscillator-speed"},{id:"SPEED",alias:"numberInput",value:2e3}]],code:"{OSCILLATOR}.SetO({PHASE});{OSCILLATOR}.SetA({AMPLITUDE});{OSCILLATOR}.SetT({SPEED});{OSCILLATOR}.refresh();"},oscillatorStart:{type:"statement",name:"oscillatorStart",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"}],bloqClass:"bloq-oscillator-start",content:[[{alias:"text",value:"bloq-oscillator-start-oscillator"},{id:"OSCILLATOR",alias:"dynamicDropdown",options:"oscillators"}]],code:"{OSCILLATOR}.Play();"},oscillatorStop:{type:"statement",name:"oscillatorStop",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"}],bloqClass:"bloq-oscillator-stop",content:[[{alias:"text",value:"bloq-oscillator-stop-stop"},{id:"OSCILLATOR",alias:"dynamicDropdown",options:"oscillators"}]],code:"{OSCILLATOR}.Stop();"},oscillatorTimes:{type:"statement",name:"oscillatorTimes",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"}],bloqClass:"bloq-oscillator",content:[[{alias:"text",value:"bloq-oscillator-oscillate"},{id:"OSCILLATOR",alias:"dynamicDropdown",options:"oscillators"},{alias:"text",value:"bloq-oscillator-around"},{id:"PHASE",alias:"numberInput",value:90},{alias:"text",value:"bloq-oscillator-amplitude"},{id:"AMPLITUDE",alias:"numberInput",value:90},{alias:"text",value:"bloq-oscillator-speed"},{id:"SPEED",alias:"numberInput",value:2e3},{id:"TIMES",alias:"numberInput",value:2},{alias:"text",value:"bloq-oscillator-times"}]],code:"oscillate({OSCILLATOR}, {AMPLITUDE}, {PHASE}, {SPEED}, {TIMES});"},readSensor:{type:"output",name:"readSensor",connectors:[{type:"connector--output",accept:"connector--input"}],bloqClass:"bloq-read-sensor",content:[[{alias:"text",value:"bloq-read-read"},{id:"SENSOR",alias:"dynamicDropdown",options:"sensors"}]],code:"{SENSOR.type}",returnType:{type:"fromDynamicDropdown",idDropdown:"SENSOR",options:"sensors"}},clockRTC:{type:"output",name:"clockRTC",connectors:[{type:"connector--output",accept:"connector--input"}],bloqClass:"bloq-rtc",content:[[{alias:"text",value:"bloq-rtc"},{id:"RTC",alias:"dynamicDropdown",options:"clocks"},{alias:"text",value:"bloq-rtc-using"},{id:"RTC_FUNC",alias:"staticDropdown",options:[{label:"bloq-rtc-date",value:"getDate"},{label:"bloq-rtc-time",value:"getTime"}]}]],code:"{RTC}.{RTC_FUNC}()",returnType:{type:"simple",value:"String"}},clockRTCAdvanced:{type:"output",name:"clockRTCAdvanced",connectors:[{type:"connector--output",accept:"connector--input"}],bloqClass:"bloq-rtc-advanced",content:[[{alias:"text",value:"bloq-rtc-advanced"},{id:"RTC",alias:"dynamicDropdown",options:"clocks"},{alias:"text",value:"bloq-rtc-using-advanced"},{id:"FUNCTION",alias:"staticDropdown",options:[{label:"bloq-rtc-hour",value:"getHour"},{label:"bloq-rtc-minute",value:"getMinute"},{label:"bloq-rtc-second",value:"getSecond"},{label:"bloq-rtc-day",value:"getDay"},{label:"bloq-rtc-month",value:"getMonth"},{label:"bloq-rtc-year",value:"getYear"}]}]],code:"{RTC}.{FUNCTION}()",returnType:{type:"simple",value:"int"}},clockRTCInit:{type:"statement",name:"clockRTCInit",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"}],bloqClass:"bloq-rtc-init",content:[[{alias:"text",value:"bloq-rtc-init"},{id:"RTC",alias:"dynamicDropdown",options:"clocks"}]],code:"{RTC}.adjust(DateTime(__DATE__, __TIME__));"},servoNormal:{type:"statement",name:"servoNormal",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"}],bloqClass:"bloq-servo",content:[[{alias:"text",value:"bloq-servo-move"},{id:"SERVO",alias:"dynamicDropdown",options:"servos"},{alias:"text",value:"bloq-servo-to"},{id:"POSITION",alias:"numberInput",value:90},{alias:"text",value:"bloq-servo-degrees"}]],code:"{SERVO}.write({POSITION});"},elseifAdvanced:{type:"statement-input",name:"elseifAdvanced",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"},{type:"connector--root",accept:"connector--top"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"c12a4ad0-21ef-4938-adac-32ac49bae0cc"}],bloqClass:"bloq-else-if",content:[[{alias:"text",value:"bloq-else-if-if"},{bloqInputId:"VAR",alias:"bloqInput",acceptType:"all",name:"c12a4ad0-21ef-4938-adac-32ac49bae0cc"},{alias:"text",value:"bloq-else-if-else"}]],code:"else if ({VAR}){{STATEMENTS}}"},"forAdvanced-v1":{type:"statement-input",name:"forAdvanced-v1",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"},{type:"connector--root",accept:"connector--top"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"0baa13b5-5a96-4f16-85d8-c70557f55f76"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"4a2c2c67-d8c8-4b12-b8a4-e4cccdb90ebf"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"d20a2f18-ac40-4ae9-8b8b-6d911558c202"}],bloqClass:"bloq-for",content:[[{alias:"text",value:"bloq-for-count"},{bloqInputId:"VAR",alias:"bloqInput",acceptType:"all",name:"0baa13b5-5a96-4f16-85d8-c70557f55f76"},{alias:"text",value:"bloq-for-from"},{bloqInputId:"INIT",alias:"bloqInput",acceptType:"all",name:"4a2c2c67-d8c8-4b12-b8a4-e4cccdb90ebf"},{alias:"text",value:"bloq-for-to"},{bloqInputId:"FINAL",alias:"bloqInput",acceptType:"all",name:"d20a2f18-ac40-4ae9-8b8b-6d911558c202"},{id:"MODE",alias:"staticDropdown",options:[{label:"bloq-for-add",value:"+"},{label:"bloq-for-subtract",value:"-"}]},{id:"ADD",alias:"numberInput",value:1},{alias:"text",value:"bloq-for-exec"}]],code:"'for({VAR}={INIT};{VAR}' + ('{MODE}' === '+'?'<=':'>=' ) + '{FINAL};{VAR}{MODE}={ADD}){{STATEMENTS}}'"},ifAdvanced:{type:"statement-input",name:"ifAdvanced",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"},{type:"connector--root",accept:"connector--top"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"7e633448-49e7-4aa6-b195-cd98e5b4f4c7"}],bloqClass:"bloq-if",content:[[{alias:"text",value:"bloq-if-if"},{bloqInputId:"CONDITION",alias:"bloqInput",acceptType:"all",name:"7e633448-49e7-4aa6-b195-cd98e5b4f4c7"},{alias:"text",value:"bloq-if-exec"}]],code:"if({CONDITION}){{STATEMENTS}}"},switchAdvanced:{type:"statement-input",name:"switchAdvanced",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"},{type:"connector--root",accept:"connector--top"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"72840f88-a613-4981-94a5-edfa5c0213d3"}],bloqClass:"bloq-switch",content:[[{alias:"text",value:"bloq-switch-check"},{bloqInputId:"VAR",alias:"bloqInput",acceptType:"all",name:"72840f88-a613-4981-94a5-edfa5c0213d3"}]],code:"switch (int({VAR})) {{STATEMENTS}}"},waitAdvanced:{type:"statement",name:"waitAdvanced",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"78693039-07c0-4fd0-ad39-90adad25ae37"}],bloqClass:"bloq-wait",content:[[{alias:"text",value:"bloq-wait-wait"},{bloqInputId:"TIME",alias:"bloqInput",acceptType:"all",name:"78693039-07c0-4fd0-ad39-90adad25ae37"}]],code:"delay({TIME});"},whileAdvanced:{type:"statement-input",name:"whileAdvanced",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"},{type:"connector--root",accept:"connector--top"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"15828cfc-31af-41ce-bcb1-8c660c96f38d"}],bloqClass:"bloq-while",content:[[{alias:"text",value:"bloq-while-while"},{bloqInputId:"CONDITION",alias:"bloqInput",acceptType:"all",name:"15828cfc-31af-41ce-bcb1-8c660c96f38d"},{alias:"text",value:"bloq-while-exec"}]],code:"while ({CONDITION}){{STATEMENTS}}"},"break":{type:"statement",name:"break",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"}],bloqClass:"bloq-break",content:[[{alias:"text",value:"bloq-break-stopLoop"}]],code:"break;"},"case":{type:"statement-input",name:"case",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"},{type:"connector--root",accept:"connector--top"}],bloqClass:"bloq-case",content:[[{alias:"text",value:"bloq-case-ifSameTo"},{id:"VAR",alias:"numberInput",value:0},{alias:"text",value:"bloq-case-exec"}]],code:"case {VAR}:{{STATEMENTS}break;}"},caseDefault:{type:"statement-input",name:"caseDefault",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"},{type:"connector--root",accept:"connector--top"}],bloqClass:"bloq-case-default",content:[[{alias:"text",value:"bloq-case-default-inOtherCase"}]],code:"default:{{STATEMENTS}break;}"},"continue":{type:"statement",name:"continue",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"}],bloqClass:"bloq-continue",content:[[{alias:"text",value:"bloq-continue-continue"}]],code:"continue;"},"for":{type:"statement-input",name:"for",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"},{type:"connector--root",accept:"connector--top"}],bloqClass:"bloq-for deprecated",content:[[{alias:"text",value:"bloq-for-count"},{id:"VAR",alias:"dynamicDropdown",options:"softwareVars"},{alias:"text",value:"bloq-for-from"},{id:"INIT",alias:"numberInput",value:0},{alias:"text",value:"bloq-for-to"},{id:"FINAL",alias:"numberInput",value:10},{id:"MODE",alias:"staticDropdown",options:[{label:"bloq-for-add",value:"++"},{label:"bloq-for-subtract",value:"--"}]},{alias:"text",value:"bloq-for-exec"}]],code:"for({VAR}={INIT};{VAR}<{FINAL};{VAR}{MODE}){{STATEMENTS}}"},forAdvanced:{type:"statement-input",name:"forAdvanced",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"},{type:"connector--root",accept:"connector--top"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"3650a7b0-9197-4174-ae0d-1fa697709c86"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"14485090-f479-4153-bd3e-12a082f29136"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"4993aee6-8cc2-4101-b32f-d3accacb92a0"}],bloqClass:"bloq-for deprecated",content:[[{alias:"text",value:"bloq-for-count"},{bloqInputId:"VAR",alias:"bloqInput",acceptType:"all",name:"3650a7b0-9197-4174-ae0d-1fa697709c86"},{alias:"text",value:"bloq-for-from"},{bloqInputId:"INIT",alias:"bloqInput",acceptType:"all",name:"14485090-f479-4153-bd3e-12a082f29136"},{alias:"text",value:"bloq-for-to"},{bloqInputId:"FINAL",alias:"bloqInput",acceptType:"all",name:"4993aee6-8cc2-4101-b32f-d3accacb92a0"},{id:"MODE",alias:"staticDropdown",options:[{label:"bloq-for-add",value:"++"},{label:"bloq-for-subtract",value:"--"}]},{alias:"text",value:"bloq-for-exec"}]],code:"for({VAR}={INIT};{VAR}<{FINAL};{VAR}{MODE}){{STATEMENTS}}"},"else":{type:"statement-input",name:"else",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"},{type:"connector--root",accept:"connector--top"}],bloqClass:"bloq-else",content:[[{alias:"text",value:"bloq-else-else"}]],code:"else {{STATEMENTS}}"},elseif:{type:"statement-input",name:"elseif",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"},{type:"connector--root",accept:"connector--top"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"49b5ddd1-3c08-4252-b580-92dc049016e5"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"e7c6d463-9101-4c25-9376-95429065c9b6"}],bloqClass:"bloq-else-if",content:[[{alias:"text",value:"bloq-else-if-if"},{bloqInputId:"ARG1",alias:"bloqInput",acceptType:"all",name:"49b5ddd1-3c08-4252-b580-92dc049016e5"},{id:"OPERATOR",alias:"staticDropdown",options:[{label:"=",value:"=="},{label:"!=",value:"!="},{label:">",value:">"},{label:">=",value:">="},{label:"<",value:"<"},{label:"<=",value:"<="}]},{bloqInputId:"ARG2",alias:"bloqInput",acceptType:"all",name:"e7c6d463-9101-4c25-9376-95429065c9b6"},{alias:"text",value:"bloq-else-if-else"}]],code:"else if ({ARG1} {OPERATOR} {ARG2}){{STATEMENTS}}"},"for-v1":{type:"statement-input",name:"for-v1",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"},{type:"connector--root",accept:"connector--top"}],bloqClass:"bloq-for",content:[[{alias:"text",value:"bloq-for-count"},{id:"VAR",alias:"dynamicDropdown",options:"softwareVars"},{alias:"text",value:"bloq-for-from"},{id:"INIT",alias:"numberInput",value:0},{alias:"text",value:"bloq-for-to"},{id:"FINAL",alias:"numberInput",value:10},{id:"MODE",alias:"staticDropdown",options:[{label:"bloq-for-add",value:"+"},{label:"bloq-for-subtract",value:"-"}]},{id:"ADD",alias:"numberInput",value:1},{alias:"text",value:"bloq-for-exec"}]],code:"'for({VAR}={INIT};{VAR}' + ('{MODE}' === '+'?'<=':'>=' ) + '{FINAL};{VAR}{MODE}={ADD}){{STATEMENTS}}'"},"if":{type:"statement-input",name:"if",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"},{type:"connector--root",accept:"connector--top"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"eddef98f-062a-4a63-9798-c557032f429e"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"82e0bc04-84bf-4aa7-96d7-49ed2d9417e5"}],bloqClass:"bloq-if",content:[[{alias:"text",value:"bloq-if-if"},{bloqInputId:"ARG1",alias:"bloqInput",acceptType:"all",name:"eddef98f-062a-4a63-9798-c557032f429e"},{id:"OPERATOR",alias:"staticDropdown",options:[{label:"=",value:"=="},{label:"!=",value:"!="},{label:">",value:">"},{label:">=",value:">="},{label:"<",value:"<"},{label:"<=",value:"<="}]},{bloqInputId:"ARG2",alias:"bloqInput",acceptType:"all",name:"82e0bc04-84bf-4aa7-96d7-49ed2d9417e5"},{alias:"text",value:"bloq-if-exec"}]],code:"if({ARG1} {OPERATOR} {ARG2}){{STATEMENTS}}"},millis:{type:"output",name:"millis",connectors:[{type:"connector--output",accept:"connector--input"}],bloqClass:"bloq-millis",content:[[{alias:"text",value:"bloq-millis"}]],code:"millis()",returnType:{type:"simple",value:"float"}},"switch":{type:"statement-input",name:"switch",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"},{type:"connector--root",accept:"connector--top"}],bloqClass:"bloq-switch",content:[[{alias:"text",value:"bloq-switch-check"},{id:"VAR",alias:"dynamicDropdown",options:"softwareVars"},{alias:"text",value:"bloq-switch-check-end"}]],code:"switch (int({VAR})) {{STATEMENTS}}"},wait:{type:"statement",name:"wait",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"}],bloqClass:"bloq-wait",content:[[{alias:"text",value:"bloq-wait-wait"},{id:"TIME",alias:"numberInput",value:2e3},{alias:"text",value:"bloq-wait-ms"}]],code:"delay({TIME});"},"while":{type:"statement-input",name:"while",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"},{type:"connector--root",accept:"connector--top"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"0c389214-9287-46b5-8b16-6be02393a13e"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"9966db62-ea4f-4197-bfcf-2bb65235eeab"}],bloqClass:"bloq-while",content:[[{alias:"text",value:"bloq-while-while"},{bloqInputId:"ARG1",alias:"bloqInput",acceptType:"all",name:"0c389214-9287-46b5-8b16-6be02393a13e"},{id:"OPERATOR",alias:"staticDropdown",options:[{label:"=",value:"=="},{label:"!=",value:"!="},{label:">",value:">"},{label:">=",value:">="},{label:"<",value:"<"},{label:"<=",value:"<="}]},{bloqInputId:"ARG2",alias:"bloqInput",acceptType:"all",name:"9966db62-ea4f-4197-bfcf-2bb65235eeab"},{alias:"text",value:"bloq-while-exec"}]],code:"while ({ARG1} {OPERATOR} {ARG2}){{STATEMENTS}}"},numConversion:{type:"output",name:"numConversion",connectors:[{type:"connector--output",accept:"connector--input"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"2389f662-73ff-4bd9-a38b-4fec891cee9e"}],bloqClass:"bloq-num-conversion",content:[[{alias:"text",value:"bloq-num-conversion"},{bloqInputId:"NUMBER",alias:"bloqInput",acceptType:"all",name:"2389f662-73ff-4bd9-a38b-4fec891cee9e"},{alias:"text",value:"bloq-num-conversion-to"},{id:"TYPE",alias:"staticDropdown",options:[{label:"bloq-num-conversion-int",value:"int"},{label:"bloq-num-conversion-float",value:"float"}]}]],code:"({TYPE}) {NUMBER}",returnType:{type:"fromDropdown",idDropdown:"TYPE"}},stringToInt:{type:"output",name:"stringToInt",connectors:[{type:"connector--output",accept:"connector--input"},{type:"connector--input",accept:"connector--output",acceptType:"String",name:"9157f06b-78ef-4953-9600-166240c36f10"}],bloqClass:"bloq-string-to-int",content:[[{alias:"text",value:"bloq-string-to-int"},{bloqInputId:"VAR",alias:"bloqInput",acceptType:"String",name:"9157f06b-78ef-4953-9600-166240c36f10"}]],code:"{VAR}.toInt()",returnType:{type:"simple",value:"int"}},evolutionDistance:{type:"output",name:"evolutionDistance",connectors:[{type:"connector--output",accept:"connector--input"}],bloqClass:"bloq-evolution-distance",content:[[{alias:"text",value:"bloq-evolution-distance"}]],code:"evolution.getDistance()",returnType:{type:"simple",value:"float"}},evolutionHeadAdvance:{type:"statement",name:"evolutionHeadAdvance",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"},{type:"connector--input",accept:"connector--output",acceptType:"float",name:"00b8635c-bc51-4a73-8b03-8be09116fbc8"}],bloqClass:"bloq-evolution-head",content:[[{alias:"text",value:"bloq-evolution-head-advance"},{bloqInputId:"DEGREES",alias:"bloqInput",acceptType:"float",name:"00b8635c-bc51-4a73-8b03-8be09116fbc8"},{alias:"text",value:"bloq-evolution-head-advance-deg"},{id:"SIDE",alias:"staticDropdown",options:[{label:"bloq-evolution-head-advance-left",value:"HEAD_LEFT"},{label:"bloq-evolution-head-advance-right",value:"HEAD_RIGHT"}]}]],code:"'{SIDE}' === 'HEAD_LEFT'? 'evolution.turnHead({DEGREES});' : 'evolution.turnHead(-{DEGREES});'"},evolutionIfLightAdvanced:{type:"statement-input",name:"evolutionIfLightAdvanced",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"},{type:"connector--root",accept:"connector--top"},{type:"connector--input",accept:"connector--output",acceptType:"number",name:"2dc9ba11-18ae-4bd0-a813-dda4a93320a8"},{type:"connector--input",accept:"connector--output",acceptType:"number",name:"59fb7984-3f6d-431f-b3cb-e720460ebf45"}],bloqClass:"bloq-evolution-if-light-advanced",content:[[{alias:"text",value:"bloq-evolution-if-light-advanced"},{id:"OPERATORLEFT",alias:"staticDropdown",options:[{label:"=",value:"=="},{label:"!=",value:"!="},{label:">",value:">"},{label:">=",value:">="},{label:"<",value:"<"},{label:"<=",value:"<="}]},{id:"LIGHTLEFT",alias:"bloqInput",acceptType:"number",name:"2dc9ba11-18ae-4bd0-a813-dda4a93320a8"},{alias:"text",value:"bloq-evolution-if-light-advanced-and"},{id:"OPERATORRIGHT",alias:"staticDropdown",options:[{label:"=",value:"=="},{label:"!=",value:"!="},{label:">",value:">"},{label:">=",value:">="},{label:"<",value:"<"},{label:"<=",value:"<="}]},{id:"LIGHTRIGHT",alias:"bloqInput",acceptType:"number",name:"59fb7984-3f6d-431f-b3cb-e720460ebf45"},{alias:"text",value:"bloq-evolution-if-light-advanced-then"}]],code:"if(evolution.getLight(LEFT) {OPERATORLEFT} {LIGHTLEFT} && evolution.getLight(RIGHT) {OPERATORRIGHT} {LIGHTRIGHT}){{STATEMENTS}}"},evolutionLight:{type:"output",name:"evolutionLight",connectors:[{type:"connector--output",accept:"connector--input"}],bloqClass:"bloq-evolution-light",content:[[{alias:"text",value:"bloq-evolution-light"},{id:"SIDE",alias:"staticDropdown",options:[{label:"bloq-evolution-light-left",value:"LEFT"},{label:"bloq-evolution-light-right",value:"RIGHT"}]},{alias:"text",value:"bloq-evolution-light-evolution"}]],code:"evolution.getLight({SIDE})",returnType:{type:"simple",value:"int"}},evolutionLine:{type:"output",name:"evolutionLine",connectors:[{type:"connector--output",accept:"connector--input"}],bloqClass:"bloq-evolution-line",content:[[{alias:"text",value:"bloq-evolution-line"},{id:"SIDE",alias:"staticDropdown",options:[{label:"bloq-evolution-line-left",value:"LEFT"},{label:"bloq-evolution-line-right",value:"RIGHT"}]},{alias:"text",value:"bloq-evolution-line-evolution"}]],code:"evolution.getLine({SIDE})",returnType:{type:"simple",value:"int"}},evolutionBuzzer:{type:"statement",name:"evolutionBuzzer",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"}],bloqClass:"bloq-evolution-buzzer",content:[[{alias:"text",value:"bloq-evolution-buzzer"},{id:"NOTE",alias:"staticDropdown",options:[{label:"bloq-evolution-buzzer-do",value:"note_C4"},{label:"bloq-evolution-buzzer-re",value:"note_D4"},{label:"bloq-evolution-buzzer-mi",value:"note_E4"},{label:"bloq-evolution-buzzer-fa",value:"note_F4"},{label:"bloq-evolution-buzzer-sol",value:"note_G4"},{label:"bloq-evolution-buzzer-la",value:"note_A4"},{label:"bloq-evolution-buzzer-si",value:"note_B4"}]},{alias:"text",value:"bloq-evolution-buzzer-for"},{id:"SECONDS",alias:"numberInput",value:1e3},{alias:"text",value:"bloq-evolution-buzzer-ms"}]],code:"evolution._tone({NOTE},{SECONDS});"},evolutionHead:{type:"statement",name:"evolutionHead",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"}],bloqClass:"bloq-evolution-head",content:[[{alias:"text",value:"bloq-evolution-head"},{id:"SIDE",alias:"staticDropdown",options:[{label:"bloq-evolution-head-center",value:"HEAD_CENTER"},{label:"bloq-evolution-head-left",value:"HEAD_LEFT"},{label:"bloq-evolution-head-right",value:"HEAD_RIGHT"}]}]],code:"evolution.turnHead({SIDE});"},evolutionHome:{type:"statement",name:"evolutionHome",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"}],bloqClass:"bloq-evolution-rest",content:[[{alias:"text",value:"bloq-evolution-rest"}]],code:"evolution.home();"},evolutionIfDistance:{type:"statement-input",name:"evolutionIfDistance",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"},{type:"connector--root",accept:"connector--top"}],bloqClass:"bloq-evolution-if-distance",content:[[{alias:"text",value:"bloq-evolution-if-distance"},{id:"OPERATOR",alias:"staticDropdown",options:[{label:"bloq-evolution-if-distance-less",value:"<"},{label:"bloq-evolution-if-distance-more",value:">"}]},{alias:"text",value:"bloq-evolution-if-distance-than"},{id:"DISTANCE",alias:"numberInput",value:15},{alias:"text",value:"bloq-evolution-if-distance-then"}]],code:"if(evolution.getDistance() {OPERATOR} {DISTANCE}){{STATEMENTS}}"},evolutionIfLight:{type:"statement-input",name:"evolutionIfLight",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"},{type:"connector--root",accept:"connector--top"}],bloqClass:"bloq-evolution-if-light",content:[[{alias:"text",value:"bloq-evolution-if-light"},{id:"RANGELEFT",alias:"staticDropdown",options:[{label:"bloq-evolution-if-light-high",value:"HIGH_LIGHT"},{label:"bloq-evolution-if-light-medium",value:"MEDIUM_LIGHT"},{label:"bloq-evolution-if-light-low",value:"LOW_LIGHT"}]},{alias:"text",value:"bloq-evolution-if-light-and"},{id:"RANGERIGHT",alias:"staticDropdown",options:[{label:"bloq-evolution-if-light-high",value:"HIGH_LIGHT"},{label:"bloq-evolution-if-light-medium",value:"MEDIUM_LIGHT"},{label:"bloq-evolution-if-light-low",value:"LOW_LIGHT"}]},{alias:"text",value:"bloq-evolution-if-light-then"}]],code:"if(evolution.getLightRange(LEFT,RANGELEFT) && evolution.getLightRange(RIGHT,RANGERIGHT)){{STATEMENTS}}"},evolutionIfLine:{type:"statement-input",name:"evolutionIfLine",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"},{type:"connector--root",accept:"connector--top"}],bloqClass:"bloq-evolution-if-line",content:[[{alias:"text",value:"bloq-evolution-if-line"},{id:"LINELEFT",alias:"staticDropdown",options:[{label:"bloq-evolution-if-line-white",value:"0"},{label:"bloq-evolution-if-line-black",value:"1"}]},{alias:"text",value:"bloq-evolution-if-line-and"},{id:"LINERIGHT",alias:"staticDropdown",options:[{label:"bloq-evolution-if-line-white",value:"0"},{label:"bloq-evolution-if-line-black",value:"1"}]},{alias:"text",value:"bloq-evolution-if-line-then"}]],code:"if(evolution.getLine(LEFT) == {LINELEFT} && evolution.getLine(RIGHT) == {LINERIGHT}){{STATEMENTS}}"},evolutionMovementsSimple:{type:"statement",name:"evolutionMovementsSimple",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"}],bloqClass:"bloq-evolution-movements-simple",content:[[{alias:"text",value:"bloq-evolution-movements-simple"},{id:"MOVEMENT",alias:"staticDropdown",
options:[{label:"bloq-evolution-movements-simple-fordward",value:"fordward"},{label:"bloq-evolution-movements-simple-backward",value:"backward"},{label:"bloq-evolution-movements-simple-right",value:"right"},{label:"bloq-evolution-movements-simple-left",value:"left"}]}]],code:"evolution.{MOVEMENT}();"},argument:{type:"output",name:"argument",connectors:[{type:"connector--output",accept:"connector--input"}],bloqClass:"bloq-argument",content:[[{alias:"text",value:"bloq-argument-var"},{id:"TYPE",alias:"staticDropdown",options:[{label:"bloq-argument-int",value:"int"},{label:"bloq-argument-float",value:"float"},{label:"bloq-argument-string",value:"String"},{label:"bloq-argument-char",value:"char"},{label:"bloq-argument-bool",value:"bool"}]},{id:"VARNAME",alias:"varInput",value:""}]],createDynamicContent:"softwareVars",code:"{TYPE} {VARNAME}",returnType:{type:"fromDropdown",idDropdown:"TYPE",options:"softwareVars"}},arguments:{type:"output",name:"arguments",connectors:[{type:"connector--output",accept:"connector--input"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"d7e20b5c-3939-4e96-93dc-30aebf2b64c9"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"99234802-2fbc-4866-b413-f1af75abfdf6"}],bloqClass:"bloq-arguments",content:[[{bloqInputId:"ARG1",alias:"bloqInput",acceptType:"all",name:"d7e20b5c-3939-4e96-93dc-30aebf2b64c9"},{alias:"text",value:","},{bloqInputId:"ARG2",alias:"bloqInput",acceptType:"all",name:"99234802-2fbc-4866-b413-f1af75abfdf6"}]],createDynamicContent:"softwareVars",code:"{ARG1},{ARG2}",returnType:{type:"simple",value:"var"}},invokeFunctionWithArguments:{type:"statement",name:"invokeFunctionWithArguments",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"fe804f29-2a6b-4e0e-a02b-8c2ae96e4472"}],bloqClass:"bloq-invoke-function-with-arguments",content:[[{alias:"text",value:"bloq-invoke-function-exec"},{id:"FUNCTION",alias:"dynamicDropdown",options:"voidFunctions"},{alias:"text",value:"bloq-invoke-function-args"},{bloqInputId:"ARGS",alias:"bloqInput",acceptType:"all",name:"fe804f29-2a6b-4e0e-a02b-8c2ae96e4472"}]],code:"{FUNCTION}({ARGS});",dynamicDropdown:{idDropdown:"FUNCTION",options:"voidFunctions"}},invokeReturnFunctionWithArguments:{type:"output",name:"invokeReturnFunctionWithArguments",connectors:[{type:"connector--output",accept:"connector--input"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"51828a12-4317-4316-9d88-12f2d127f447"}],bloqClass:"bloq-invoke-return-function-with-arguments",content:[[{alias:"text",value:"bloq-invoke-return-function-exec"},{id:"FUNCTION",alias:"dynamicDropdown",options:"returnFunctions"},{alias:"text",value:"bloq-invoke-function-args"},{bloqInputId:"ARGS",alias:"bloqInput",acceptType:"all",name:"51828a12-4317-4316-9d88-12f2d127f447"}]],code:"{FUNCTION}({ARGS})",returnType:{type:"fromDynamicDropdown",idDropdown:"FUNCTION",options:"returnFunctions"}},"return":{type:"statement",name:"return",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"71c95139-77d4-42d0-8646-88e432b48cd5"}],bloqClass:"bloq-return",content:[[{alias:"text",value:"bloq-return-return"},{bloqInputId:"RETURN",alias:"bloqInput",acceptType:"all",name:"71c95139-77d4-42d0-8646-88e432b48cd5"}]],code:"return {RETURN};"},returnFunctionWithArguments:{type:"statement-input",name:"returnFunctionWithArguments",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"},{type:"connector--root",accept:"connector--top"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"10f62c3e-5a74-42b1-bd7b-b62e7ba82246"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"e4eaed75-8741-45ea-8dd0-bbd9776295dd"}],bloqClass:"bloq-return-function-with-arguments",content:[[{alias:"text",value:"bloq-return-function-with-arguments-declare"},{id:"FUNCNAME",alias:"varInput",placeholder:"bloq-functions-default"},{alias:"text",value:"bloq-return-function-with-arguments-count"},{bloqInputId:"ARGS",alias:"bloqInput",acceptType:"all",name:"10f62c3e-5a74-42b1-bd7b-b62e7ba82246"},{position:"DOWN",alias:"text",value:"bloq-return-function-with-arguments-return"},{position:"DOWN",bloqInputId:"RETURN",alias:"bloqInput",acceptType:"all",name:"e4eaed75-8741-45ea-8dd0-bbd9776295dd"}]],createDynamicContent:"returnFunctions",returnType:{type:"fromInput",bloqInputId:"RETURN"},arguments:{type:"fromInput",bloqInputId:"ARGS"},code:"{RETURN.connectionType} {FUNCNAME} ({ARGS}) {{STATEMENTS}return {RETURN};}"},voidFunctionWithArguments:{type:"statement-input",name:"voidFunctionWithArguments",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"},{type:"connector--root",accept:"connector--top"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"e9864451-638d-4c6e-bd6b-69bd4af0cb68"}],bloqClass:"bloq-void-function-with-arguments",content:[[{alias:"text",value:"bloq-void-function-with-arguments-declare"},{id:"FUNCNAME",alias:"varInput",placeholder:"bloq-functions-default"},{alias:"text",value:"bloq-void-function-with-arguments-count"},{bloqInputId:"ARGS",alias:"bloqInput",acceptType:"all",name:"e9864451-638d-4c6e-bd6b-69bd4af0cb68"}]],createDynamicContent:"voidFunctions",returnType:{type:"simple",value:"void"},arguments:{type:"fromInput",bloqInputId:"ARGS"},code:"void {FUNCNAME} ({ARGS}){{STATEMENTS}}"},invokeFunction:{type:"statement",name:"invokeFunction",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"}],bloqClass:"bloq-invoke-function",content:[[{alias:"text",value:"bloq-invoke-function-exec"},{id:"FUNCTION",alias:"dynamicDropdown",options:"voidFunctions"}]],code:"{FUNCTION}();",dynamicDropdown:{idDropdown:"FUNCTION",options:"voidFunctions"}},invokeReturnFunction:{type:"output",name:"invokeReturnFunction",connectors:[{type:"connector--output",accept:"connector--input"}],bloqClass:"bloq-invoke-return-function",content:[[{alias:"text",value:"bloq-invoke-return-function-exec"},{id:"FUNCTION",alias:"dynamicDropdown",options:"returnFunctions"}]],code:"{FUNCTION}()",returnType:{type:"fromDynamicDropdown",idDropdown:"FUNCTION",options:"returnFunctions"}},returnFunction:{type:"statement-input",name:"returnFunction",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"},{type:"connector--root",accept:"connector--top"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"10711311-e515-493b-ba2b-22899b993034"}],bloqClass:"bloq-return-function",content:[[{alias:"text",value:"bloq-return-function-declare"},{id:"FUNCNAME",alias:"varInput",placeholder:"bloq-functions-default"},{position:"DOWN",alias:"text",value:"bloq-return-function-return"},{position:"DOWN",bloqInputId:"RETURN",alias:"bloqInput",acceptType:"all",name:"10711311-e515-493b-ba2b-22899b993034"}]],createDynamicContent:"returnFunctions",returnType:{type:"fromInput",bloqInputId:"RETURN"},code:"{RETURN.connectionType} {FUNCNAME} () {{STATEMENTS}return {RETURN};}"},voidFunction:{type:"statement-input",name:"voidFunction",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"},{type:"connector--root",accept:"connector--top"}],bloqClass:"bloq-void-function",content:[[{alias:"text",value:"bloq-void-function-declare"},{id:"FUNCNAME",alias:"varInput",placeholder:"bloq-functions-default"}]],createDynamicContent:"voidFunctions",returnType:{type:"simple",value:"void"},code:"void {FUNCNAME} (){{STATEMENTS}}"},group:{name:"group",type:"group",connectors:[{type:"connector--empty"},{type:"connector--empty"},{type:"connector--root",accept:"connector--top"}]},boolArrayAdvanced:{type:"output",name:"boolArrayAdvanced",connectors:[{type:"connector--output",accept:"connector--input"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"095bbc44-adce-4b5f-92f8-498acfaface8"}],bloqClass:"bloq-boolArray-advanced",content:[[{alias:"text",value:"bloq-boolArray-advanced-arraySize"},{bloqInputId:"VALUE",alias:"bloqInput",acceptType:"all",name:"095bbc44-adce-4b5f-92f8-498acfaface8"},{alias:"text",value:"bloq-boolArray-advanced-boolType"}]],code:"(bool *)malloc({VALUE}*sizeof(bool))",returnType:{type:"simple",value:"bool *"}},boolArray:{type:"output",name:"boolArray",connectors:[{type:"connector--output",accept:"connector--input"}],bloqClass:"bloq-boolArray",content:[[{alias:"text",value:"bloq-boolArray-arraySize"},{id:"VALUE",alias:"numberInput",value:0},{alias:"text",value:"bloq-boolArray-boolType"}]],code:"(bool *)malloc({VALUE}*sizeof(bool))",returnType:{type:"simple",value:"bool *"}},"boolean":{type:"output",name:"boolean",connectors:[{type:"connector--output",accept:"connector--input"}],bloqClass:"bloq-boolean",content:[[{id:"STATE",alias:"staticDropdown",options:[{label:"bloq-boolean-true",value:"true"},{label:"bloq-boolean-false",value:"false"}]}]],code:"{STATE}",returnType:{type:"simple",value:"bool"}},equalityOperations:{type:"output",name:"equalityOperations",connectors:[{type:"connector--output",accept:"connector--input"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"45df525f-c5f8-4378-be11-21e53c913d7b"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"bb79d863-80a5-48aa-902f-daa72c5ffe0e"}],bloqClass:"bloq-equality-operations",content:[[{bloqInputId:"ARG1",alias:"bloqInput",acceptType:"all",name:"45df525f-c5f8-4378-be11-21e53c913d7b"},{id:"OPERATOR",alias:"staticDropdown",options:[{label:"=",value:"=="},{label:"!=",value:"!="},{label:">",value:">"},{label:">=",value:">="},{label:"<",value:"<"},{label:"<=",value:"<="}]},{bloqInputId:"ARG2",alias:"bloqInput",acceptType:"all",name:"bb79d863-80a5-48aa-902f-daa72c5ffe0e"}]],code:"{ARG1} {OPERATOR} {ARG2}",returnType:{type:"simple",value:"bool"}},logicOperations:{type:"output",name:"logicOperations",connectors:[{type:"connector--output",accept:"connector--input"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"db2684c7-f6ea-4e41-8376-a43e112857d8"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"591531ad-b0e8-408f-b16d-7e765cb5d842"}],bloqClass:"bloq-logic-operations",content:[[{bloqInputId:"ARG1",alias:"bloqInput",acceptType:"all",name:"db2684c7-f6ea-4e41-8376-a43e112857d8"},{id:"OPERATOR",alias:"staticDropdown",options:[{label:"bloq-logic-operations-and",value:"&&"},{label:"bloq-logic-operations-or",value:"||"}]},{bloqInputId:"ARG2",alias:"bloqInput",acceptType:"all",name:"591531ad-b0e8-408f-b16d-7e765cb5d842"}]],code:"{ARG1} {OPERATOR} {ARG2}",returnType:{type:"simple",value:"bool"}},not:{type:"output",name:"not",connectors:[{type:"connector--output",accept:"connector--input"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"9f07b94b-133e-4172-a6b9-0d4426e80a71"}],bloqClass:"bloq-not",content:[[{alias:"text",value:"bloq-not-not"},{bloqInputId:"CONDITION",alias:"bloqInput",acceptType:"all",name:"9f07b94b-133e-4172-a6b9-0d4426e80a71"}]],code:"!{CONDITION}",returnType:{type:"simple",value:"bool"}},loopBloq:{name:"loopBloq",type:"group",connectors:[{type:"connector--empty"},{type:"connector--empty"},{type:"connector--root",accept:"connector--top"}],bloqClass:"bloq-loop",headerText:"bloq-loop-header",descriptionText:"bloq-loop-description",content:[],code:"void loop(){{STATEMENTS}}"},setupBloq:{name:"setupBloq",type:"group",connectors:[{type:"connector--empty"},{type:"connector--empty"},{type:"connector--root",accept:"connector--top"}],bloqClass:"bloq-setup",headerText:"bloq-setup-header",descriptionText:"bloq-setup-description",content:[],code:"void setup(){{STATEMENTS}}"},varsBloq:{name:"varsBloq",type:"group",connectors:[{type:"connector--empty"},{type:"connector--empty"},{type:"connector--root",accept:"connector--top"}],bloqClass:"bloq-vars",headerText:"bloq-var-header",descriptionText:"bloq-var-description",content:[],code:"{STATEMENTS}"},mapAdvanced:{type:"output",name:"mapAdvanced",connectors:[{type:"connector--output",accept:"connector--input"},{type:"connector--input",accept:"connector--output",acceptType:"float",name:"59514d4c-e29d-4f7e-892b-4eadfb199ce7"},{type:"connector--input",accept:"connector--output",acceptType:"float",name:"3e2e1b8f-2c0f-49ed-9a59-6abac5294fb4"},{type:"connector--input",accept:"connector--output",acceptType:"float",name:"9a94702d-a6f9-4768-9518-cd49f6f110a8"},{type:"connector--input",accept:"connector--output",acceptType:"float",name:"761ab971-9454-436c-979c-d7528c6667d7"},{type:"connector--input",accept:"connector--output",acceptType:"float",name:"de6ccaba-271c-4103-8a86-4d01ad1c3169"}],bloqClass:"bloq-map-advanced",content:[[{alias:"text",value:"bloq-map-advanced-map"},{bloqInputId:"VAR",alias:"bloqInput",acceptType:"float",name:"59514d4c-e29d-4f7e-892b-4eadfb199ce7"},{alias:"text",value:"bloq-map-advanced-value"},{bloqInputId:"INITMIN",alias:"bloqInput",acceptType:"float",name:"3e2e1b8f-2c0f-49ed-9a59-6abac5294fb4"},{alias:"text",value:"-"},{bloqInputId:"INITMAX",alias:"bloqInput",acceptType:"float",name:"9a94702d-a6f9-4768-9518-cd49f6f110a8"},{alias:"text",value:"bloq-map-advanced-and"},{bloqInputId:"FINMIN",alias:"bloqInput",acceptType:"float",name:"761ab971-9454-436c-979c-d7528c6667d7"},{alias:"text",value:"-"},{bloqInputId:"FINMAX",alias:"bloqInput",acceptType:"float",name:"de6ccaba-271c-4103-8a86-4d01ad1c3169"},{alias:"text",value:"]"}]],code:"map({VAR},{INITMIN},{INITMAX},{FINMIN},{FINMAX})",returnType:{type:"simple",value:"float"}},mathOperations:{type:"output",name:"mathOperations",connectors:[{type:"connector--output",accept:"connector--input"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"f3efdecb-5b6c-4311-831b-95d25e3a040d"}],bloqClass:"bloq-math-operations",content:[[{id:"OPERATOR",alias:"staticDropdown",options:[{label:"bloq-math-operations-sqrt",value:"sqrt"},{label:"bloq-math-operations-abs",value:"abs"},{label:"ln",value:"log"},{label:"log10",value:"log10"},{label:"e^",value:"exp"}]},{bloqInputId:"ARG",alias:"bloqInput",acceptType:"all",name:"f3efdecb-5b6c-4311-831b-95d25e3a040d"}]],code:"{OPERATOR}({ARG})",returnType:{type:"simple",value:"float"}},numberArrayAdvanced:{type:"output",name:"numberArrayAdvanced",connectors:[{type:"connector--output",accept:"connector--input"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"c4a2264e-ce23-43de-9cdc-c5033629c07c"}],bloqClass:"bloq-numberArray-advanced",content:[[{alias:"text",value:"bloq-numberArray-advanced-arraySize"},{bloqInputId:"VALUE",alias:"bloqInput",acceptType:"all",name:"c4a2264e-ce23-43de-9cdc-c5033629c07c"},{alias:"text",value:"bloq-numberArray-advanced-type"},{id:"TYPE",alias:"staticDropdown",options:[{label:"bloq-numberArray-advanced-float",value:"float *"},{label:"bloq-numberArray-advanced-int",value:"int *"}]}]],code:"({TYPE})malloc({VALUE}*sizeof({TYPE.withoutAsterisk}))",returnType:{type:"fromDropdown",idDropdown:"TYPE",options:"softwareVars"}},basicOperations:{type:"output",name:"basicOperations",connectors:[{type:"connector--output",accept:"connector--input"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"a8e477d9-6623-498b-b65d-a73bdfd7575c"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"5b96efbe-61d9-4c74-a6cd-98164f7374e7"}],bloqClass:"bloq-basic-operations",content:[[{bloqInputId:"ARG1",alias:"bloqInput",acceptType:"all",name:"a8e477d9-6623-498b-b65d-a73bdfd7575c"},{id:"OPERATOR",alias:"staticDropdown",options:[{label:"+",value:"+"},{label:"-",value:"-"},{label:"x",value:"*"},{label:"/",value:"/"},{label:"^",value:"^"},{label:"%",value:"%"}]},{bloqInputId:"ARG2",alias:"bloqInput",acceptType:"all",name:"5b96efbe-61d9-4c74-a6cd-98164f7374e7"}]],code:"'{OPERATOR}' === '^'? 'pow({ARG1},{ARG2})' : '({ARG1} {OPERATOR} {ARG2})'",returnType:{type:"simple",value:"float"}},map:{type:"output",name:"map",connectors:[{type:"connector--output",accept:"connector--input"},{type:"connector--input",accept:"connector--output",acceptType:"float",name:"06c5572f-cdc4-45c1-847e-820eea610df5"},{type:"connector--input",accept:"connector--output",acceptType:"float",name:"a38f4793-0c7b-4b8b-94fd-38cb78b8a77d"}],bloqClass:"bloq-map",content:[[{alias:"text",value:"bloq-map-map"},{bloqInputId:"VAR",alias:"bloqInput",acceptType:"float",name:"06c5572f-cdc4-45c1-847e-820eea610df5"},{alias:"text",value:"bloq-map-value"},{bloqInputId:"MAXVAL",alias:"bloqInput",acceptType:"float",name:"a38f4793-0c7b-4b8b-94fd-38cb78b8a77d"},{alias:"text",value:"]"}]],code:"map({VAR},0,1023,0,{MAXVAL})",returnType:{type:"simple",value:"float"}},number:{type:"output",name:"number",connectors:[{type:"connector--output",accept:"connector--input"}],bloqClass:"bloq-number",content:[[{id:"VALUE",alias:"numberInput",value:0}]],code:"{VALUE}",returnType:{type:"simple",value:"float"}},numberArray:{type:"output",name:"numberArray",connectors:[{type:"connector--output",accept:"connector--input"}],bloqClass:"bloq-numberArray",content:[[{alias:"text",value:"bloq-numberArray-arraySize"},{id:"VALUE",alias:"numberInput",value:3},{alias:"text",value:"bloq-numberArray-floatType"}]],code:"(float*)malloc({VALUE}*sizeof(float))",returnType:{type:"simple",value:"float *"}},random:{type:"output",name:"random",connectors:[{type:"connector--output",accept:"connector--input"},{type:"connector--input",accept:"connector--output",acceptType:"float",name:"dee023ca-cbbc-4054-a515-fa0b52d87027"},{type:"connector--input",accept:"connector--output",acceptType:"float",name:"1563871d-15b3-4456-9d54-2cb7dc0a60ec"}],bloqClass:"bloq-random",content:[[{alias:"text",value:"bloq-random-random"},{bloqInputId:"ARG1",alias:"bloqInput",acceptType:"float",name:"dee023ca-cbbc-4054-a515-fa0b52d87027"},{alias:"text",value:"bloq-random-and"},{bloqInputId:"ARG2",alias:"bloqInput",acceptType:"float",name:"1563871d-15b3-4456-9d54-2cb7dc0a60ec"}]],code:"random({ARG1},{ARG2}+1)",returnType:{type:"simple",value:"float"}},randomSeed:{type:"statement",name:"randomSeed",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"}],bloqClass:"bloq-random-seed",content:[[{alias:"text",value:"bloq-random-seed"}]],code:"randomSeed(micros());",returnType:{type:"simple",value:"float"}},output:{type:"output",name:"output",connectors:[{type:"connector--output",accept:"connector--input"}]},statement:{type:"statement",name:"statement",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"}]},"statement-input":{type:"statement-input",name:"statement-input",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"},{type:"connector--root",accept:"connector--top"}]},"char":{type:"output",name:"char",connectors:[{type:"connector--output",accept:"connector--input"}],bloqClass:"bloq-string",content:[[{alias:"text",value:"'"},{id:"TEXT",alias:"charInput",placeholder:"bloq-char"},{alias:"text",value:"'"}]],code:"'{TEXT}'",returnType:{type:"simple",value:"char"}},stringArrayAdvanced:{type:"output",name:"stringArrayAdvanced",connectors:[{type:"connector--output",accept:"connector--input"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"f6a2e865-4d05-4736-9136-b3b4ce753dc3"}],bloqClass:"bloq-stringArray-advanced",content:[[{alias:"text",value:"bloq-stringArray-advanced-arraySize"},{bloqInputId:"VALUE",alias:"bloqInput",acceptType:"all",name:"f6a2e865-4d05-4736-9136-b3b4ce753dc3"},{alias:"text",value:"bloq-stringArray-advanced-type"},{id:"TYPE",alias:"staticDropdown",options:[{label:"bloq-stringArray-advanced-string",value:"String *"},{label:"bloq-stringArray-advanced-char",value:"char *"}]}]],code:"({TYPE})malloc({VALUE}*sizeof({TYPE.withoutAsterisk}))",returnType:{type:"fromDropdown",idDropdown:"TYPE",options:"softwareVars"}},length:{type:"output",name:"length",connectors:[{type:"connector--output",accept:"connector--input"},{type:"connector--input",accept:"connector--output",acceptType:"String",name:"6c5e3f13-3984-4864-a5f0-18b7c7b1f91d"}],bloqClass:"bloq-length",content:[[{alias:"text",value:"bloq-length-length"},{bloqInputId:"TEXT",alias:"bloqInput",acceptType:"String",name:"6c5e3f13-3984-4864-a5f0-18b7c7b1f91d"}]],code:"{TEXT}.length()",returnType:{type:"simple",value:"float"}},string:{type:"output",name:"string",connectors:[{type:"connector--output",accept:"connector--input"}],bloqClass:"bloq-string",content:[[{alias:"text",value:'"'},{id:"TEXT",alias:"stringInput",placeholder:"bloq-string-string"},{alias:"text",value:'"'}]],code:'"{TEXT}"',returnType:{type:"simple",value:"String"}},stringArray:{type:"output",name:"stringArray",connectors:[{type:"connector--output",accept:"connector--input"}],bloqClass:"bloq-stringArray",content:[[{alias:"text",value:"bloq-stringArray-arraySize"},{id:"VALUE",alias:"numberInput",value:3},{alias:"text",value:"bloq-stringArray-stringType"}]],code:"(String *)malloc({VALUE}*sizeof(String))",returnType:{type:"simple",value:"String *"}},stringCreate:{type:"output",name:"stringCreate",connectors:[{type:"connector--output",accept:"connector--input"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"25ce044c-89da-433d-9a95-9b361825d16d"}],bloqClass:"bloq-string-create",content:[[{alias:"text",value:"bloq-string-create-create"},{bloqInputId:"TEXT",alias:"bloqInput",acceptType:"all",name:"25ce044c-89da-433d-9a95-9b361825d16d"}]],code:"String({TEXT})",returnType:{type:"simple",value:"String"}},stringSum:{type:"output",name:"stringSum",connectors:[{type:"connector--output",accept:"connector--input"},{type:"connector--input",accept:"connector--output",acceptType:"String",name:"2ab1835b-8c76-426b-a9f7-942f1d2698c9"},{type:"connector--input",accept:"connector--output",acceptType:"String",name:"d3791943-f904-4e2e-ba3f-ff26a0b23165"}],bloqClass:"bloq-string-sum",content:[[{bloqInputId:"ARG1",alias:"bloqInput",acceptType:"String",name:"2ab1835b-8c76-426b-a9f7-942f1d2698c9"},{alias:"text",value:"+"},{bloqInputId:"ARG2",alias:"bloqInput",acceptType:"String",name:"d3791943-f904-4e2e-ba3f-ff26a0b23165"}]],code:"String({ARG1})+String({ARG2})",returnType:{type:"simple",value:"String"}},arrayVariableAdvanced:{type:"output",name:"arrayVariableAdvanced",connectors:[{type:"connector--output",accept:"connector--input"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"ffd52cf5-42da-4f8a-aab2-d9b9a4f4e349"}],bloqClass:"bloq-array-variable",content:[[{alias:"text",value:"bloq-array-variable-variable"},{id:"VAR",alias:"dynamicDropdown",options:"softwareVars"},{alias:"text",value:"["},{bloqInputId:"POSITION",alias:"bloqInput",acceptType:"all",name:"ffd52cf5-42da-4f8a-aab2-d9b9a4f4e349"},{alias:"text",value:"]"}]],code:"{VAR}[{POSITION}]",returnType:{type:"fromDynamicDropdown",idDropdown:"VAR",pointer:"true",options:"softwareVars"}},declareVariableAdvanced:{type:"statement",name:"declareVariableAdvanced",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"5acbea42-4537-40d4-adbb-04e00cd31ef0"}],bloqClass:"bloq-declare-variable",content:[[{alias:"text",value:"bloq-declare-variable-declare"},{id:"NAME",alias:"varInput",value:""},{alias:"text",value:"bloq-declare-variable-declare-type"},{id:"TYPE",alias:"staticDropdown",options:[{label:"bloq-declare-variable-declare-type-int",value:"int"},{label:"bloq-declare-variable-declare-type-float",value:"float"},{label:"bloq-declare-variable-declare-type-text",value:"String"},{label:"bloq-declare-variable-declare-type-char",value:"char"},{label:"bloq-declare-variable-declare-type-bool",value:"bool"}]},{alias:"text",value:"="},{bloqInputId:"VALUE",alias:"bloqInput",acceptType:"all",name:"5acbea42-4537-40d4-adbb-04e00cd31ef0"}]],returnType:{type:"fromDropdown",idDropdown:"TYPE"},createDynamicContent:"softwareVars",code:"{TYPE} {NAME} = {VALUE};"},hwVariable:{type:"output",name:"hwVariable",connectors:[{type:"connector--output",accept:"connector--input"}],bloqClass:"bloq-hw-variable-advanced",content:[[{alias:"text",value:"bloq-hw-variable-advanced-variable"},{id:"COMPONENT",alias:"dynamicDropdown",options:"varComponents"}]],code:"{COMPONENT}",returnType:{type:"fromDynamicDropdown",idDropdown:"COMPONENT",options:"varComponents"}},setArrayVariableAdvanced:{type:"statement",name:"setArrayVariableAdvanced",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"e9510b5d-42e8-4e6c-8410-532e170d7b49"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"5bb90cb1-09df-441f-aac5-d936db4f3a49"}],bloqClass:"bloq-set-variableArray",content:[[{alias:"text",value:"bloq-set-variableArray-variable"},{id:"NAME",alias:"dynamicDropdown",options:"softwareVars"},{alias:"text",value:"["},{bloqInputId:"ITERATOR",alias:"bloqInput",acceptType:"all",name:"e9510b5d-42e8-4e6c-8410-532e170d7b49"},{alias:"text",value:"]"},{alias:"text",value:"="},{bloqInputId:"VALUE",alias:"bloqInput",acceptType:"all",name:"5bb90cb1-09df-441f-aac5-d936db4f3a49"}]],code:"{NAME}[{ITERATOR}] = {VALUE};"},arrayVariable:{type:"output",name:"arrayVariable",connectors:[{type:"connector--output",accept:"connector--input"}],bloqClass:"bloq-array-variable",content:[[{alias:"text",value:"bloq-array-variable-variable"},{id:"VAR",alias:"dynamicDropdown",options:"softwareVars"},{alias:"text",value:"["},{id:"POSITION",alias:"numberInput",value:0},{alias:"text",value:"]"}]],code:"{VAR}[{POSITION}]",returnType:{type:"fromDynamicDropdown",idDropdown:"VAR",pointer:"true",options:"softwareVars"}},declareVariable:{type:"statement",name:"declareVariable",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"},{type:"connector--input",accept:"connector--output",acceptType:"all",name:"30694572-fbd8-41c3-b005-58b61c5d5de0"}],bloqClass:"bloq-declare-variable",content:[[{alias:"text",value:"bloq-declare-variable-declare"},{id:"NAME",alias:"varInput",value:""},{alias:"text",value:"="},{bloqInputId:"VALUE",alias:"bloqInput",acceptType:"all",name:"30694572-fbd8-41c3-b005-58b61c5d5de0"}]],returnType:{type:"fromInput",bloqInputId:"VALUE"},createDynamicContent:"softwareVars",code:"{VALUE.connectionType} {NAME} = {VALUE};"},swVariable:{type:"output",name:"swVariable",connectors:[{type:"connector--output",accept:"connector--input"}],bloqClass:"bloq-sw-variable-advanced",content:[[{alias:"text",value:"bloq-sw-variable-advanced-variable"},{id:"VALUE",alias:"dynamicDropdown",options:"softwareVars"}]],code:"{VALUE}",returnType:{type:"fromDynamicDropdown",idDropdown:"VAR",options:"softwareVars"}},selectVariable:{type:"output",name:"selectVariable",connectors:[{type:"connector--output",accept:"connector--input"}],bloqClass:"bloq-select-variable",content:[[{alias:"text",value:"bloq-select-variable-variable"},{id:"VAR",alias:"dynamicDropdown",options:"softwareVars"}]],code:"{VAR}",returnType:{type:"fromDynamicDropdown",idDropdown:"VAR",options:"softwareVars"}},setArrayVariable:{type:"statement",name:"setArrayVariable",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"},{type:"connector--input",accept:"connector--output",acceptType:{type:"fromDynamicDropdown",idDropdown:"NAME",pointer:"true",options:"softwareVars"},name:"e6031a11-ad01-470b-ae8d-ffb05b1f5384"}],bloqClass:"bloq-set-variableArray",content:[[{alias:"text",value:"bloq-set-variableArray-variable"},{id:"NAME",alias:"dynamicDropdown",options:"softwareVars"},{alias:"text",value:"["},{id:"ITERATOR",alias:"numberInput",value:0},{alias:"text",value:"]"},{alias:"text",value:"="},{bloqInputId:"VALUE",alias:"bloqInput",acceptType:{type:"fromDynamicDropdown",idDropdown:"NAME",pointer:"true",options:"softwareVars"},name:"e6031a11-ad01-470b-ae8d-ffb05b1f5384"}]],code:"{NAME}[{ITERATOR}] = {VALUE};"},setVariable:{type:"statement",name:"setVariable",connectors:[{type:"connector--top",accept:"connector--bottom"},{type:"connector--bottom",accept:"connector--top"},{type:"connector--input",accept:"connector--output",acceptType:{type:"fromDynamicDropdown",idDropdown:"NAME",options:"softwareVars"},name:"464bec0a-cfec-4ccf-a376-ba30ca1387ff"}],bloqClass:"bloq-set-variable",content:[[{alias:"text",value:"bloq-set-variable-variable"},{id:"NAME",alias:"dynamicDropdown",options:"softwareVars"},{alias:"text",value:"="},{bloqInputId:"VALUE",alias:"bloqInput",acceptType:{type:"fromDynamicDropdown",idDropdown:"NAME",options:"softwareVars"},name:"464bec0a-cfec-4ccf-a376-ba30ca1387ff"}]],code:"{NAME} = {VALUE};"}},o={boards:[{name:"Arduino UNO",id:"ArduinoUNO",mcu:"uno",pinSize:{digital:{w:9,h:15},analog:{w:9,h:15},serial:{w:33,h:66}},pins:{digital:[{x:.478,y:.098,name:"13",uid:"6be0dd9d-2e52-4b7d-9dfc-c9edad53ad01"},{x:.508,y:.098,name:"12",uid:"6be0dd9d-2e52-4b7d-9dfc-c9edad53ad02"},{x:.545,y:.098,name:"11",uid:"6be0dd9d-2e52-4b7d-9dfc-c9edad53ad03"},{x:.58,y:.098,name:"10",uid:"6be0dd9d-2e52-4b7d-9dfc-c9edad53ad04"},{x:.615,y:.098,name:"9",uid:"6be0dd9d-2e52-4b7d-9dfc-c9edad53ad05"},{x:.649,y:.098,name:"8",uid:"6be0dd9d-2e52-4b7d-9dfc-c9edad53ad06"},{x:.695,y:.098,name:"7",uid:"6be0dd9d-2e52-4b7d-9dfc-c9edad53ad07"},{x:.73,y:.098,name:"6",uid:"6be0dd9d-2e52-4b7d-9dfc-c9edad53ad08"},{x:.765,y:.098,name:"5",uid:"6be0dd9d-2e52-4b7d-9dfc-c9edad53ad09"},{x:.795,y:.098,name:"4",uid:"6be0dd9d-2e52-4b7d-9dfc-c9edad53ad10"},{x:.832,y:.098,name:"3",uid:"6be0dd9d-2e52-4b7d-9dfc-c9edad53ad11"},{x:.869,y:.098,name:"2",uid:"6be0dd9d-2e52-4b7d-9dfc-c9edad53ad12"},{x:.9,y:.098,name:"1",uid:"6be0dd9d-2e52-4b7d-9dfc-c9edad53ad13"},{x:.935,y:.098,name:"0",uid:"6be0dd9d-2e52-4b7d-9dfc-c9edad53ad13"}],analog:[{x:.763,y:.92,name:"A0",uid:"6be0dd9d-2e52-4b7d-9dfc-c9edad53aa00"},{x:.795,y:.92,name:"A1",uid:"6be0dd9d-2e52-4b7d-9dfc-c9edad53aa01"},{x:.83,y:.92,name:"A2",uid:"6be0dd9d-2e52-4b7d-9dfc-c9edad53aa02"},{x:.862,y:.92,name:"A3",uid:"6be0dd9d-2e52-4b7d-9dfc-c9edad53aa03"},{x:.895,y:.92,name:"A4",uid:"6be0dd9d-2e52-4b7d-9dfc-c9edad53aa04"},{x:.935,y:.92,name:"A5",uid:"6be0dd9d-2e52-4b7d-9dfc-c9edad53aa05"}],serial:[{x:.045,y:.315,name:"serial",uid:"6be0dd9d-2e52-4b7d-9dfc-c9edad53ac05"}]},board_type:"Arduino"},{name:"RoSys开发板",id:"NEO328",mcu:"uno",pinSize:{digital:{w:32,h:20},analog:{w:32,h:20},serial:{w:40,h:20},iic:{w:40,h:20},motor:{w:20,h:54}},pins:{digital:[{x:.333,y:.851,name:"2",uid:"c9168884-b454-4342-b677-f06dacb0b3cc"},{x:.431,y:.851,name:"3",uid:"55798942-05de-4d9c-82e8-ddced2259aec"},{x:.529,y:.851,name:"8",uid:"c297515b-2a2d-4b5c-96a8-e740d83a75ce"},{x:.627,y:.851,name:"9",uid:"86624d9f-0ddb-4356-8664-0afc9223e12e"},{x:.725,y:.851,name:"10",uid:"e29d477e-8923-40c2-8922-af988a78811f"},{x:.823,y:.851,name:"11",uid:"08001087-da26-451b-b124-5c100d928201"}],analog:[{x:.333,y:.149,name:"A0",uid:"7186a1cf-2fab-4c5a-8d1e-19836d4a561d"},{x:.431,y:.149,name:"A1",uid:"7c10ef7d-a65e-497d-868a-b9c2e43bea81"},{x:.529,y:.149,name:"A2",uid:"15ad5a73-f510-44bc-b4ac-5886a8211d38"},{x:.627,y:.149,name:"A3",uid:"129d8693-115f-40c4-a6c1-4315bd020254"},{x:.725,y:.149,name:"A6",uid:"d679b1cd-91d4-4aed-8f6f-6ad31d041518"},{x:.823,y:.149,name:"A7",uid:"15c50e12-8705-4d47-803d-5c50b7512981"}],serial:[{x:.228,y:.851,name:"USART",uid:"ed9cbaec-e3fb-4acb-87d9-c4825bb5594c"}],iic:[{x:.228,y:.149,name:"IIC",uid:"e6f796e0-d283-41d3-a996-7316acb2c4cc"},{x:.97,y:.72,name:"IIC",uid:"cc94cecf-1424-4352-8309-474a814981f5",rotate:!0}],motor:[{x:.97,y:.336,name:"MA",uid:"0ae7f137-66e0-437a-998f-c71a2ec62c3b"
},{x:.97,y:.54,name:"MB",uid:"ee0399c9-2700-4456-96e1-47803c1ff60a"}]},board_type:"RoSys"}],components:{leds:[{id:"led",width:55,height:83,pins:{digital:["s"]},anchors:{s:[.5,1]},board_type:"Arduino"},{id:"ACT001",width:60,height:90,pins:{digital:["s"]},anchors:{s:[.5,1]},board_type:"RoSys"}],rgbs:[{id:"RGBled",width:67,height:79,pins:{digital:["r","g","b"]},anchors:{r:[.25,1],g:[.5,1],b:[.75,1]},board_type:"Arduino"}],sensors:[{id:"us",type:"US",width:120,height:79,pins:{digital:["trigger","echo"]},anchors:{trigger:[.33,1],echo:[.67,1]},board_type:"Arduino"},{id:"button",type:"digital",width:90,height:73,pins:{digital:["s"]},anchors:{s:[.5,1]},board_type:"Arduino"},{id:"SEN001",type:"digital",width:60,height:90,pins:{digital:["s"]},anchors:{s:[.5,1]},pinMode:"INPUT_PULLUP",board_type:"RoSys"},{id:"SEN002",type:"digital",width:60,height:90,pins:{digital:["s"]},anchors:{s:[.5,1]},pinMode:"INPUT_PULLUP",board_type:"RoSys"},{id:"SEN004",type:"digital",width:60,height:90,pins:{digital:["s"]},anchors:{s:[.5,1]},pinMode:"INPUT_PULLUP",board_type:"RoSys"},{id:"limitswitch",type:"digital",width:100,height:92,pins:{digital:["s"]},anchors:{s:[.5,1]},board_type:"Arduino"},{id:"encoder",type:"encoder",width:74,height:84,pin:{sb:"2",sa:"3"},pins:{digital:["k","sa","sb"]},anchors:{k:[.25,1],sa:[.5,1],sb:[.75,1]},board_type:"Arduino"},{id:"sound",type:"digital",width:100,height:102,pins:{digital:["s"]},anchors:{s:[.5,1]},board_type:"Arduino"},{id:"buttons",type:"ButtonPad",width:165,height:120,pins:{analog:["s"]},anchors:{s:[.5,0]},board_type:"Arduino"},{id:"irs",type:"digital",width:90,height:77,pins:{digital:["s"]},anchors:{s:[.5,1]},board_type:"Arduino"},{id:"irs2",type:"LineFollower",width:97,height:88,pins:{digital:["s1","s2"]},anchors:{s1:[.33,1],s2:[.67,1]},board_type:"Arduino"},{id:"joystick",type:"Joystick",width:100,height:102,pins:{analog:["x","y"],digital:["k"]},anchors:{x:[.33,0],y:[.67,0],k:[.5,1]},board_type:"Arduino"},{id:"ldrs",type:"analog",width:90,height:65,pins:{analog:["s"]},anchors:{s:[.5,0]},board_type:"Arduino"},{id:"SEN013",type:"analog",width:60,height:90,pins:{analog:["s"]},anchors:{s:[.5,1]},board_type:"RoSys"},{id:"pot",type:"analog",width:74,height:101,pins:{analog:["s"]},anchors:{s:[.5,0]},board_type:"Arduino"},{id:"SEN005",type:"analog",width:60,height:90,pins:{analog:["s"]},anchors:{s:[.5,1]},board_type:"RoSys"}],clocks:[{id:"rtc",type:"analog",width:128,height:93,pin:{sda:"a4",scl:"a5"},pins:{analog:["sda","scl"]},anchors:{sda:[.33,0],scl:[.67,0]},board_type:"Arduino"}],hts221:[{id:"hts221",type:"digital",width:107,height:113,pin:{sda:"a4",scl:"a5"},pins:{analog:["sda","scl"]},anchors:{sda:[.33,0],scl:[.67,0]},board_type:"Arduino"}],buzzers:[{id:"buzz",type:"digital",width:85,height:80,pins:{digital:["s"]},anchors:{s:[.5,1]},board_type:"Arduino"},{id:"ACT005",type:"digital",width:60,height:90,pins:{digital:["s"]},anchors:{s:[.5,1]},board_type:"RoSys"}],servos:[{id:"servo",width:125,height:106,pins:{digital:["s"]},anchors:{s:[.5,1]},oscillator:"false",board_type:"Arduino"}],continuousServos:[{id:"servocont",width:125,height:106,pins:{digital:["s"]},anchors:{s:[.5,1]},board_type:"Arduino"}],oscillators:[{}],lcds:[{id:"lcd",width:170,height:93,pin:{sda:"a4",scl:"a5"},pins:{analog:["sda","scl"]},anchors:{sda:[.33,0],scl:[.67,0]},board_type:"Arduino"}],serialElements:[{id:"bt",baudRate:"9600",width:115,height:88,pins:{digital:["rx","tx"]},anchors:{rx:[.33,1],tx:[.67,1]},board_type:"Arduino",no_name:!0,in_use:!1},{id:"sp",baudRate:"9600",width:115,height:71,pin:{s:"serial"},pins:{serial:["s"]},anchors:{s:[1,.5]},board_type:"Arduino",no_name:!0}]}},r={toolboxTitles:[{title:"make-swtoolbox-functions",contentId:"functions"},{title:"make-swtoolbox-variables",contentId:"variables"},{title:"make-swtoolbox-code",contentId:"codes"},{title:"make-swtoolbox-mathematics",contentId:"maths"},{title:"make-swtoolbox-text",contentId:"texts"},{title:"make-swtoolbox-control",contentId:"controls"},{title:"make-swtoolbox-logic",contentId:"logics"}],components:[{items:[{name:"hts221Temperature"},{name:"hts221Humidity"},{name:"buzzer"},{name:"buzzerClose"},{name:"continuousServoStart"},{name:"continuousServoStop"},{name:"lcdTurnOnOff"},{name:"lcdWrite"},{name:"lcdWritePosition"},{name:"lcdClear"},{name:"led"},{name:"rgbLedSimple"},{name:"rgbLed"},{name:"rgbLedFade"},{name:"clockRTCInit"},{name:"clockRTC"},{name:"clockRTCAdvanced"},{name:"oscillator"},{name:"oscillatorStart"},{name:"oscillatorStop"},{name:"readSensor"},{name:"servoNormal"},{name:"serialReceive"},{name:"serialSend-v1"}],advancedItems:[{name:"hwVariable"},{name:"buzzerAdvanced"},{name:"continuousServoStartAdvanced-v1"},{name:"continuousServoStopAdvanced"},{name:"lcdTurnOnOffAdvanced"},{name:"lcdWriteAdvanced"},{name:"ledAdvanced"},{name:"rgbLedAdvanced"},{name:"oscillatorAdvanced"},{name:"oscillatorStartAdvanced"},{name:"oscillatorStopAdvanced"},{name:"digitalReadAdvanced"},{name:"analogReadAdvanced"},{name:"analogWrite"},{name:"digitalWrite"},{name:"servoNormalAdvanced"},{name:"lcdWritePositionAdvanced-v1"}],functions:[{name:"voidFunction"},{name:"invokeFunction"},{name:"returnFunction"},{name:"invokeReturnFunction"}]}],toolboxContents:[{title:"make-swtoolbox-functions",titleId:"functions",items:[{name:"voidFunction"},{name:"invokeFunction"},{name:"returnFunction"},{name:"invokeReturnFunction"}],advancedItems:[{name:"voidFunctionWithArguments"},{name:"invokeFunctionWithArguments"},{name:"returnFunctionWithArguments"},{name:"invokeReturnFunctionWithArguments"},{name:"argument"},{name:"arguments"},{name:"return"}]},{title:"make-swtoolbox-variables",titleId:"variables",items:[{name:"declareVariable"},{name:"selectVariable"},{name:"setVariable"},{name:"arrayVariable"},{name:"setArrayVariable"}],advancedItems:[{name:"arrayVariableAdvanced"},{name:"setArrayVariableAdvanced"},{name:"declareVariableAdvanced"}]},{title:"make-swtoolbox-code",titleId:"codes",items:[{name:"comment"},{name:"code"}]},{title:"make-swtoolbox-mathematics",titleId:"maths",items:[{name:"number"},{name:"numberArray"},{name:"basicOperations"},{name:"map"},{name:"randomSeed"},{name:"random"}],advancedItems:[{name:"mathOperations"},{name:"numberArrayAdvanced"},{name:"mapAdvanced"},{name:"numConversion"}]},{title:"make-swtoolbox-text",titleId:"texts",items:[{name:"string"},{name:"stringArray"},{name:"length"},{name:"stringCreate"},{name:"stringSum"}],advancedItems:[{name:"stringArrayAdvanced"},{name:"char"}]},{title:"make-swtoolbox-control",titleId:"controls",items:[{name:"wait"},{name:"millis"},{name:"if"},{name:"elseif"},{name:"else"},{name:"switch"},{name:"case"},{name:"caseDefault"},{name:"for-v1"},{name:"while"},{name:"continue"},{name:"break"}],advancedItems:[{name:"waitAdvanced"},{name:"ifAdvanced"},{name:"elseifAdvanced"},{name:"else"},{name:"forAdvanced-v1"},{name:"switchAdvanced"},{name:"case"},{name:"caseDefault"},{name:"whileAdvanced"},{name:"continue"},{name:"break"}]},{title:"",titleId:"",items:[{name:""}],advancedItems:[{name:""}]},{title:"make-swtoolbox-logic",titleId:"logics",items:[{name:"boolean"},{name:"boolArray"},{name:"not"},{name:"equalityOperations"},{name:"logicOperations"}]}]},a={zh:{"bloq-break-stopLoop":"结束本轮循环","bloq-code-writeYourCode":"输入你自己的代码","bloq-comment-comment":"注释 //","bloq-convert-convert":"把转换","bloq-convert-to":"为","bloq-convert-dec":"十进制","bloq-convert-hex":"十六进制","bloq-convert-oct":"八进制","bloq-convert-bin":"二进制","bloq-serial-receiver-receive":"接收串口数据","bloq-serial-receiver-receive-end":"","bloq-serial-send-send":"串口发送","bloq-serial-send-print":"没有换行符","bloq-serial-send-println":"有换行符","bloq-buzzer-advance-sound":"蜂鸣器","bloq-buzzer-advance-note":"发出频率","bloq-buzzer-advance-for":"持续","bloq-buzzer-advance-ms":"毫秒","bloq-digital-read-advanced-readpin":"读取引脚","bloq-digital-read-advanced-readpin-end":"的数字量","bloq-analog-read-advanced-readpin":"读取引脚","bloq-analog-read-advanced-readpin-end":"的模拟量","bloq-continuous-servo-start-advanced-turn":"设置舵机","bloq-continuous-servo-start-advanced-direction":"方向为","bloq-continuous-servo-start-advanced-clockwise":"顺时针","bloq-continuous-servo-start-advanced-counterclockwise":"逆时针","bloq-continuous-servo-stop-advanced-stop":"停止舵机","bloq-continuous-servo-stop-advanced-stop-end":"转动","bloq-lcd-turn-on-off-advanced-turnon":"打开","bloq-lcd-turn-on-off-advanced-turnoff":"关闭","bloq-lcd-turn-on-off-advanced-lcdLigth":"的背光","bloq-lcd-clear":"清屏","bloq-lcd-writte-advanced-write":"上显示","bloq-lcd-writte-advanced-inLCD":"在液晶","bloq-lcd-writte-advanced-row":"行","bloq-lcd-writte-advanced-column":"列","bloq-led-advanced-turnon":"点亮","bloq-led-advanced-turnoff":"关闭","bloq-led-advanced-theLED":"LED","bloq-oscillator-advanced-oscillate":"Oscillate servo","bloq-oscillator-advanced-around":"around","bloq-oscillator-advanced-amplitude":"with amplitude","bloq-oscillator-advanced-speed":"with speed","bloq-oscillator-start-advanced-oscillator":"Oscillator","bloq-oscillator-stop-advanced-stop":"Stop oscillator","bloq-pin-read-advanced-readpin":"Read the pin","bloq-pin-writte-advanced-writepin":"Write on the pin","bloq-pin-writte-advanced-data":"the data","bloq-read-advanced-read":"Read","bloq-servo-advanced-move":"设置舵机","bloq-servo-advanced-to":"角度为","bloq-servo-advanced-degrees":"度","bloq-buzzer-sound":"蜂鸣器","bloq-buzzer-sound-off":"关闭蜂鸣器","bloq-buzzer-note":"发出音阶","bloq-buzzer-for":"持续","bloq-buzzer-ms":"毫秒","bloq-buzzer-do":"Do","bloq-buzzer-re":"Re","bloq-buzzer-mi":"Mi","bloq-buzzer-fa":"Fa","bloq-buzzer-sol":"Sol","bloq-buzzer-la":"La","bloq-buzzer-si":"Si","bloq-continuous-servo-start-turn":"设置舵机","bloq-continuous-servo-start-direction":"方向为","bloq-continuous-servo-start-clockwise":"顺时针","bloq-continuous-servo-start-counterclockwise":"逆时针","bloq-continuous-servo-stop-stop":"停止舵机","bloq-continuous-servo-stop-stop-end":"转动","bloq-lcd-turn-on-off-turnon":"打开","bloq-lcd-turn-on-off-turnoff":"关闭","bloq-lcd-turn-on-off-lcdLigth":"的背光","bloq-lcd-writte-write":"上显示","bloq-lcd-writte-inLCD":"在液晶","bloq-led-turnon":"点亮","bloq-led-turnoff":"关闭","bloq-led-theLED":"LED","bloq-oscillator-oscillate":"Oscillate servo","bloq-oscillator-around":"around","bloq-oscillator-amplitude":"with amplitude","bloq-oscillator-speed":"with speed","bloq-oscillator-times":"times","bloq-oscillator-start-oscillator":"Start oscillator","bloq-oscillator-stop-stop":"Stop oscillator","bloq-read-read":"返回","bloq-servo-move":"设置舵机","bloq-servo-to":"角度为","bloq-servo-degrees":"度","bloq-case-ifSameTo":"如果变量值为","bloq-case-exec":"那么","bloq-case-default-inOtherCase":"如果都不是，那么","bloq-continue-continue":"开始下一次循环","bloq-else-else":"否则，那么","bloq-else-if-if":"否则如果","bloq-else-if-else":"那么","bloq-for-count":"计数循环变量","bloq-for-from":"从","bloq-for-to":"到","bloq-for-add":"自增","bloq-for-subtract":"自减","bloq-for-exec":"执行","bloq-if-if":"如果","bloq-if-exec":"那么","bloq-switch-check":"判断变量","bloq-switch-check-end":"的值为","bloq-wait-wait":"延时","bloq-while-while":"如果","bloq-while-exec":"则一直循环执行","bloq-argument-var":"变量","bloq-argument-float":"浮点数","bloq-argument-string":"文本","bloq-argument-bool":"布尔","bloq-invoke-function-exec":"调用函数","bloq-invoke-return-function-exec":"调用函数","bloq-invoke-function-args":"用这些参数:","bloq-return-return":"返回","bloq-return-function-declare":"定义函数","bloq-return-function-return":"返回","bloq-return-function-with-arguments-declare":"定义函数","bloq-return-function-with-arguments-count":"并带这些参数:","bloq-return-function-with-arguments-return":"返回","bloq-void-function-declare":"定义函数","bloq-void-function-with-arguments-declare":"定义函数","bloq-void-function-with-arguments-count":"并带这些参数:","bloq-boolArray-advanced-arraySize":"大小为","bloq-boolArray-advanced-boolType":"的布尔数组","bloq-boolArray-arraySize":"大小为","bloq-boolArray-boolType":"的布尔数组","bloq-boolean-true":"True","bloq-boolean-false":"False","bloq-logic-operations-and":"且","bloq-logic-operations-or":"或","bloq-not-not":"非","bloq-loop-header":"Loop","bloq-loop-description":"这里就是程序一直在做的事情，记得是无循环哦","bloq-setup-header":"Setup","bloq-setup-description":"什么事情需要程序开始时只做一遍，放在这里面吧","bloq-var-header":"全局变量、函数","bloq-var-description":"如果你有变量需要在setup和loop里面同时使用，要在这里定义哦<br />如果你需要定义函数，要在这里定义哦","bloq-numberArray-advanced-arraySize":"数组，大小:","bloq-numberArray-advanced-type":"类型:","bloq-numberArray-advanced-float":"浮点数","bloq-numberArray-advanced-int":"整数","bloq-map-map":"把","bloq-map-value":"从0-1024映射到[0-","bloq-map-advanced-map":"把","bloq-map-advanced-value":"从 [","bloq-map-advanced-and":"]映射到[","bloq-math-operations-sqrt":"平方根","bloq-math-operations-abs":"绝对值","bloq-numberArray-arraySize":"大小为","bloq-numberArray-floatType":"的浮点数数组","bloq-random-random":"随机数从","bloq-random-and":"到","bloq-stringArray-advanced-arraySize":"数组，大小:","bloq-stringArray-advanced-type":"类型:","bloq-stringArray-advanced-string":"文本","bloq-stringArray-advanced-char":"字符","bloq-length-length":"文本长度","bloq-string-string":"文本","bloq-stringArray-arraySize":"大小为","bloq-stringArray-stringType":"的文本数组","bloq-string-create-create":"创建一个文本","bloq-hw-variable-advanced-variable":"返回","bloq-sw-variable-advanced-variable":"返回","bloq-array-variable-variable":"变量","bloq-declare-variable-declare":"定义变量","bloq-declare-variable-declare-type":"为类型","bloq-declare-variable-declare-type-int":"整数","bloq-declare-variable-declare-type-float":"浮点数","bloq-declare-variable-declare-type-text":"文本","bloq-declare-variable-declare-type-char":"字符","bloq-declare-variable-declare-type-bool":"布尔","bloq-select-variable-variable":"变量","bloq-set-variableArray-variable":"变量","bloq-set-variable-variable":"变量","bloq-char":"字符","bloq-lcd-default":"Hi!","bloq-comment-default":"输入你的注释","bloq-functions-default":"名字","bloq-wait-ms":"毫秒","drag-bloq":"拖一个块放到这里开始你第一个程序吧","bloq-invoke-class-function-class":"of the object","bloq-invoke-arguments-class":"Create an object of the class","bloq-invoke-arguments-class-name":"with the name","bloq-invoke-arguments-args":"with the following arguments","bloq-invoke-class-return-function-exec":"Execute the function","bloq-invoke-class-function-exec":"Execute the function","bloq-invoke-class-function-args":"with the following arguments","bloq-invoke-class-return-function-args-exec":"Execute the function","bloq-invoke-class-return-function-args-class":"of the object","bloq-invoke-class-return-function-args-args":"with the following arguments","bloq-set-class-variable-variable":"Variable","bloq-set-class-variableArray-variable":"Variable","bloq-select-class-variable-variable":"Variable","bloq-array-class-variable-variable":"Variable","bloq-constructor":"构造函数","bloq-constructor-arguments":"Constructor that uses the following arguments","bloq-invoke-class":"Create an object of the class","bloq-invoke-class-name":"with the name","bloq-class":"定义类","bloq-class-default":"名字","bloq-class-from":"of","bloq-class-inheritance-type":"inherit ","bloq-class-inheritance-public":"public","bloq-class-inheritance-protected":"protected","bloq-class-inheritance-private":"private","bloq-public":"Public variables and functions:","bloq-protected":"Protected variables and functions:","bloq-private":"Private variables and functions:","bloq-include-lib-exec":"Include the library","bloq-pin-analog-write":"设置引脚","bloq-pin-digital-write":"设置引脚","bloq-pin-analog-write-data":"模拟量为","bloq-pin-digital-write-data":"数字量为","bloq-hts221-humidity":"读取","bloq-hts221-humidity-end":"的温度","bloq-hts221-temperature":"读取","bloq-hts221-temperature-end":"的温度","bloq-rgbLed-fade-red":"色值红色为","bloq-enable-interrupt":"Execute the function","bloq-enable-interrupt-rising":"change from 0 to 1","bloq-enable-interrupt-falling":"change from 1 to 0","bloq-enable-interrupt-change":"change","bloq-enable-interrupt-pin":"when the pin input","bloq-rgbLed-green":"绿色为","bloq-rgbLed-fade":"让三色LED渐变","bloq-rgbLed-red":"色值红色为","bloq-rtc-init":"更新时间","bloq-rtc-month":"月","bloq-rtc-using-advanced":"的","bloq-rtc-year":"年","bloq-rtc-day":"天","bloq-rtc-hour":"小时","bloq-rtc-minute":"分钟","bloq-rtc-second":"秒","bloq-rtc-time":"小时","bloq-rtc-using":"的","bloq-rtc-advanced":"获取","bloq-rtc":"获取","default-var-name-rtc":"real_time_clock","bloq-rtc-date":"日期","default-var-name-sound":"sound_sensor","bloq-rgbLed-blue":"蓝色为","default-var-name-RGBled":"RGB_LED","bloq-rgbLed":"点亮三色LED","bloq-rgbLed-fade-blue":"蓝色为","bloq-rgbLed-fade-green":"绿色为","bloq-rgbLed-simple":"点亮三色LED","bloq-rgbLed-simple-color":"设置为","bloq-rgbLed-simple-red":"红色","bloq-rgbLed-simple-green":"红色","bloq-rgbLed-simple-blue":"蓝色","bloq-millis":"获取执行到此刻的时间","bloq-random-seed":"随机数种子初始化","bloq-rgbLed-simple-white":"白色","bloq-rgbLed-simple-yellow":"黄色","bloq-rgbLed-simple-orange":"橙色","bloq-rgbLed-simple-dark-green":"深绿","bloq-rgbLed-simple-dark-blue":"深蓝","bloq-rgbLed-simple-pink":"粉红","bloq-argument-int":"整数","bloq-argument-char":"字符","bloq-evolution-rest":"Rest","bloq-evolution-movements-simple":"Move","bloq-evolution-movements-simple-fordward":"forward","bloq-evolution-movements-simple-backward":"backward","bloq-evolution-movements-simple-right":"right","bloq-evolution-movements-simple-left":"left","bloq-evolution-distance":"Measure the distance","bloq-evolution-if-distance":"If it detects a distance","bloq-evolution-if-distance-less":"of less","bloq-evolution-if-distance-more":"of more","bloq-evolution-if-distance-than":"than","bloq-evolution-if-distance-then":"centimetres, it will do this:","bloq-evolution-light":"Measure the light","bloq-evolution-light-left":"left","bloq-evolution-light-right":"right","bloq-evolution-line":"Detect the line","bloq-evolution-line-left":"left","bloq-evolution-line-right":"right","bloq-evolution-head":"Look","bloq-evolution-head-left":"left","bloq-evolution-head-right":"right","bloq-evolution-head-center":"forward","bloq-evolution-buzzer-do":"Do","bloq-evolution-buzzer":"Touch the note","bloq-evolution-buzzer-re":"Re","bloq-evolution-buzzer-mi":"Mi","bloq-evolution-buzzer-fa":"Fa","bloq-evolution-buzzer-sol":"Sol","bloq-evolution-buzzer-la":"La","bloq-evolution-buzzer-si":"Si","bloq-evolution-buzzer-for":"for","bloq-evolution-buzzer-ms":"ms","bloq-evolution-head-advance":"Look","bloq-evolution-head-advance-deg":"degrees","bloq-evolution-head-advance-left":"left","bloq-evolution-head-advance-right":"right","bloq-shield-stepper-steps":"Turn the stepper motor","bloq-shield-stepper-steps-stepper1":"1","bloq-shield-stepper-steps-stepper2":"2","bloq-shield-stepper-steps-stepper12":"1 and 2","bloq-shield-stepper-steps-degdir":"degrees","bloq-shield-stepper-steps-CW":"clockwise","bloq-shield-stepper-steps-CCW":"anti-clockwise","bloq-shield-stepper-steps-at":"at","bloq-shield-stepper-steps-rpm":"rpm","bloq-evolution-if-line":"If the line detected is","bloq-evolution-if-line-white":"white","bloq-evolution-if-line-black":"black","bloq-evolution-if-line-and":"on the left and","bloq-evolution-if-line-then":"on the right, it will do this:","bloq-evolution-if-light-advanced":"If it sees light","bloq-evolution-if-light-advanced-and":"on the left and","bloq-evolution-if-light-advanced-then":"on the right, it will do this:","bloq-evolution-if-light":"If it sees light","bloq-evolution-if-light-and":"on the left and","bloq-evolution-if-light-then":"on the right, it will do this:","bloq-evolution-if-light-high":"high","bloq-evolution-if-light-medium":"medium","bloq-evolution-if-light-low":"low","bloq-num-conversion":"把","bloq-num-conversion-to":"转换为","bloq-num-conversion-int":"整数","bloq-num-conversion-float":"浮点数"}},i=o.boards,s=i.length-1;s>=0;s--){var l=i[s];void 0!==l.in_use&&0==l.in_use&&i.splice(s,1)}var c=o.components;for(var u in c)for(var d=c[u],s=d.length-1;s>=0;s--){var p=d[s];void 0!==p.in_use&&0==p.in_use&&d.splice(s,1)}return{bloqsSchemas:n,hardware:o,software:r,bloqsLanguages:a,translate:e("translate")}}]),angular.module("kenrobot").service("hw2Bloqs",["$rootScope","jsPlumb",function(e,t){function n(e,n){if(!e)throw Error;x=e,C=n,w=t.getInstance(),w.setContainer(e),w.importDefaults({DragOptions:{cursor:"pointer",zIndex:2e3},DropOptions:{tolerance:"touch",cursor:"crosshair",hoverClass:"dropHover",activeClass:"dragActive"},Connector:["Flowchart",{cornerRadius:5,alwaysRespectStubs:!1,midpoint:1,stub:[10,40],gap:2}],EndpointStyle:{fillStyle:_.color,strokeStyle:_.colorHover},EndpointHoverStyle:{fillStyle:_.colorHover},PaintStyle:{fillStyle:_.color,strokeStyle:_.color},HoverPaintStyle:{fillStyle:_.colorHover,strokeStyle:_.colorHover},MaxConnections:1}),v(),h(),window.addEventListener("optimizedResize",function(){g()},!1),document.addEventListener("mouseup",function(){E&&(E.style.left=100*E.offsetLeft/x.offsetWidth+"%",E.style.top=100*E.offsetTop/x.offsetHeight+"%",E=null)})}function o(e){r(),T=e,q=document.getElementById(C),q.classList.add(T.id),q.classList.add("opaque");var t=function(){function e(e){var n=[];n="digital"===t?[.5,1.5]:"analog"===t?[.5,-.5]:[.5,-.5];var o=w.addEndpoint(q,{anchor:[e.x,e.y,0,-1,0,0],endpoint:["Rectangle",{width:e.rotate?T.pinSize[t].h:T.pinSize[t].w,height:e.rotate?T.pinSize[t].w:T.pinSize[t].h}],overlays:[["Label",{label:"Pin "+e.name,labelStyle:{color:"black"},location:n}]],parameters:{pinBoard:e.name},cssClass:"board_ep board_ep-"+t+" pin-"+e.name.toLowerCase(),isTarget:!0,isSource:!1,scope:t,uuid:e.uid});o.unbind("click"),o.bind("click",function(e){return e.hasType("selected")?!1:(w.getAllConnections().forEach(function(e){e.removeType("selected"),e.endpoints.forEach(function(e){e.removeType("selected")})}),void e.connections.forEach(function(e){e.setType("selected"),e.endpoints.forEach(function(e){e.setType("selected")})}))})}for(var t in T.pins)T.pins[t].forEach(e)};t()}function r(){w&&T&&q&&(q.classList.remove(T.id),w.removeAllEndpoints(q)),T=null}function a(e){function t(){function t(t,o){var i=t,s=!1;e.pin||(e.pin={}),t in e.pin?(r[a]||(r[a]={}),r[a][t]=e.pin[t],s=!0):e.pin[t]=null,"string"!=typeof t&&(i=Object.keys(t)[0]);var l=e.anchors[t];l=[l[0],l[1],0,0,0,0],e.endpoints||(e.endpoints={}),e.endpoints[i]||(e.endpoints[i]={type:a,uid:jsPlumbUtil.uuid()});var c=w.addEndpoint(n,{anchor:l,uuid:e.endpoints[i].uid,parameters:{pinComponent:i,type:a},endpoint:["Dot",{radius:7}],isSource:!0,isTarget:!1,cssClass:"component_ep pin-"+i,hoverClass:"component_ep--hover",connectorStyle:{strokeStyle:_.color,fillStyle:"transparent",lineWidth:5,joinstyle:"round",outlineWidth:1,outlineColor:"#EBEBEB"},connectorHoverStyle:{strokeStyle:_.colorHover}},{scope:a});if(c.canvas.classList.add("selected"),c.unbind("click"),c.bind("click",function(e){return e.canvas.classList.add("selected"),b(),e.hasType("selected")?!1:void e.connections.forEach(function(e){f(e)})}),s&&r[a][t]){var u=document.querySelector(".pin-"+r[a][t].toLowerCase());if(u){var d=u._jsPlumb;d.detachAll();var p=d.getUuid(),h=c.getUuid();w.connect({uuids:[h,p],type:"automatic"})}}}var o;o=e.pins.digital&&e.pins.analog?{digital:{x:e.pins.digital&&e.width/(e.pins.digital.length+1)/e.width,y:0},analog:{x:e.pins.analog&&e.width/(e.pins.analog.length+1)/e.width,y:1},serial:{x:1,y:.5}}:{digital:{x:e.pins.digital&&e.width/(e.pins.digital.length+1)/e.width,y:1},analog:{x:e.pins.analog&&e.width/(e.pins.analog.length+1)/e.width,y:0},serial:{x:1,y:.5}};var r={};for(var a in e.pins)e.pins[a]&&e.pins[a].forEach(t);w.draggable(n,{containment:!0})}if(!e)throw new Error("You need provide a component element :: addComponent");e.uid||(e.uid=jsPlumbUtil.uuid());var n=document.createElement("img");return x.appendChild(n),n.dataset.uid=e.uid,n.dataset.target="component-context-menu",n.dataset.name=e.name,n.setAttribute("context-menu",!0),n.classList.add("component"),n.style.top=e.coordinates.y+"%",n.style.left=e.coordinates.x+"%",n.src="assets/image/components/"+e.id+".png",n.style.width=e.width+"px",n.style.height=e.height+"px",n.draggable=!0,$(".component_ep").removeClass("selected"),n.addEventListener("mousedown",A),t(n),g(),n}function i(e){var t=document.querySelector('[data-uid="'+e.uid+'"]');w.select({source:t.id}).detach()}function s(){w.detachAllConnections(q)}function l(e){e.removeEventListener("mousedown",A),w.getConnections(e).forEach(function(e){e.setType("removing")}),w.detachAllConnections(e),w.remove(e)}function c(){w.deleteEveryEndpoint();var e=x.querySelectorAll(".component");[].forEach.call(e,function(e){e.removeEventListener("mousedown",A),t.remove(e)})}function u(){w.getAllConnections().forEach(function(e){e.hasType("selected")&&(e.endpoints.forEach(function(e){e.removeType("selected"),e.removeClass("selected")}),w.detach(e))})}function d(e){this.schema=e;var t=this;t.schema.board&&(o(t.schema.board),this.schema.components.forEach(function(e){a(e)}),this.schema.connections.forEach(function(e){return w.getEndpoint(e.pinSourceUid).isFull()?!1:void w.connect({uuids:[e.pinSourceUid,e.pinTargetUid],type:"automatic"})})),g()}function p(){function e(e){o[e.getParameter("pinComponent")]={uid:e.getUuid(),type:e.scope}}function t(){return w.getAllConnections().map(function(e){var t=e.getParameters();return{pinSourceUid:t.pinSourceUid,pinTargetUid:t.pinTargetUid}})||[]}var n={components:[],connections:[]},o={},r=[].slice.call(x.querySelectorAll(".component"));return r.forEach(function(t){var r=w.getEndpoints(t);if(r&&r.length>0){o={},r.forEach(e);var a=w.getConnections({source:t});a.length&&n.components.push({endpoints:o,uid:t.dataset.uid,connected:a.length>0})}}),n.connections=t(),n}function h(){w.unbind("click"),w.unbind("connection"),w.unbind("connectionDetached"),w.bind("connection",function(e){e.targetEndpoint.setType("connected"),e.sourceEndpoint.setType("connected"),e.connection.setParameters({pinSourceUid:e.sourceEndpoint.getUuid(),pinTargetUid:e.targetEndpoint.getUuid()});var t={};t[e.sourceEndpoint.getParameter("pinComponent")]=e.targetEndpoint.getParameter("pinBoard");var n={uid:e.source.dataset.uid,connections:[e.connection],pin:t};e.connection.bind("click",function(e){b(),f(e)}),S.componentData=n,S.protoBoLaAction="attach",S.protoBoLaActionParent=e.connection.hasType("undoredo")||e.connection.hasType("removing")||e.connection.getData().undoredo,e.target.classList.contains("board")&&x.dispatchEvent(S)}),w.bind("connectionDetached",function(e){e.targetEndpoint.removeType("connected"),e.sourceEndpoint.removeType("connected");var t={};t[e.sourceEndpoint.getParameter("pinComponent")]=void 0;var n={uid:e.source.dataset.uid,id:e.source.dataset.id,category:e.source.dataset.category,pin:t,connections:[e.connection]};m(e.connection),e.connection.unbind("click"),S.componentData=n,S.protoBoLaAction="detach",S.protoBoLaActionParent=e.connection.hasType("undoredo")||e.connection.hasType("removing")||e.connection.getData().undoredo,e.target.classList.contains("board")&&x.dispatchEvent(S)}),w.bind("connectionMoved",function(e){e.originalTargetEndpoint.removeType("selected"),e.originalTargetEndpoint.removeClass("selected"),e.originalTargetEndpoint.removeClass("endpointDrag")})}function f(e){return e.hasType("selected")?!1:(e.setType("selected"),e.canvas.classList.add("selected"),void e.endpoints.forEach(function(e){e.setType("selected"),e.canvas.classList.add("selected")}))}function m(e){e.removeType("selected"),e.canvas.classList.remove("selected"),e.endpoints.forEach(function(e){e.removeType("selected"),e.canvas.classList.remove("selected")})}function b(){w.getAllConnections().forEach(function(e){e.removeType("selected"),e.canvas.classList.remove("selected"),e.endpoints.forEach(function(e){e.removeType("selected"),e.canvas.classList.remove("selected")})})}function g(){setTimeout(function(){try{w.repaintEverything()}catch(e){console.warn("protoboard container reference lost!. Re-engage",e)}},100)}function v(){var e={};w.registerConnectionTypes({selected:{paintStyle:{strokeStyle:_.colorHover},hoverPaintStyle:{strokeStyle:_.colorHover}},"default":e}),w.registerEndpointTypes({selected:{paintStyle:{strokeStyle:_.colorHover,fillStyle:_.colorHover},hoverPaintStyle:{fillStyle:_.colorHover}}}),w.registerEndpointTypes({connected:{paintHoverStyle:{fillStyle:_.colorHover},endpointHoverStyle:{fillStyle:_.colorHover}}})}var y=function(e,t,n){n=n||window;var o=!1,r=function(){o||(o=!0,requestAnimationFrame(function(){n.dispatchEvent(new CustomEvent(t)),o=!1}))};n.addEventListener(e,r)};y("resize","optimizedResize");var w=null,_={color:"#F1C933",colorHover:"#F19833"},x=null,C=null,q=null,E=null,T=null,S=new CustomEvent("connectionEvent"),A=function(){var e=this;E=e,b();var t=w.getConnections().filter(function(t){return t.sourceId===e.id});$(".component_ep").removeClass("selected"),w.selectEndpoints({source:this}).addClass("selected"),t.forEach(function(e){f(e)})};return{initialize:n,repaint:g,addBoard:o,removeBoard:r,unselectAllConnections:b,addComponent:a,disconnectComponent:i,disconnectAllComponents:s,removeComponent:l,removeAllComponents:c,removeSelectedConnection:u,loadSchema:d,saveSchema:p}}]),angular.module("kenrobot").service("utils",function(){var e={};return e.getDOMElement=function(e){var t=document.querySelectorAll(e);return t.length?t[t.length-1]:null},e.prettyCode=function(e){function t(e){return"/* beautify ignore:start */"+e+"/* beautify ignore:end */"}var n="";return n=js_beautify(e.replace(/(#include *.*)/gm,t).replace(/(#define *.*)/gm,t)).replace(/(\/\* (beautify)+ .*? \*\/)/gm,"")},e});