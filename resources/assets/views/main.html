<div ng-controller="ProjectController" ng-cloak>
  <div id="main-content" class="main__content main__content--with-header">
    <div ng-click="tabsClick()">
    	<tabset>
    	    <tab icon="'#hardware'" icon-size="'vlarge'" callback="hw2Bloqs.repaint()">
    	        <div class="hardware-tab tab--make" ng-controller="HardwareController" ng-keyup="onHwKeyPress($event)" tabindex="1" ng-cloak>
    	            <div class="protocanvas" droppable drop="drop" drop-offset-left="70" drop-offset-top="offsetTop" ng-click="detectElement($event)" >
    	                <div class="name--container">
    	                    <div class="component-name__container" ng-class="{opaque:componentSelected}">
    	                        <span class="form--input form--input--reset">
    	                            <label ng-if="!componentSelected.no_name" for="componentName" class="component-name__label">{{'name' | translate}}</label>
    	                            <input ng-if="!componentSelected.no_name" id="componentName" class="component-name__input" type="text" placeholder="{{'insert-name' | translate}}" ng-model="componentSelected.name" ng-model-options="{ debounce: { 'default': 500, 'blur': 0 } }">
    	                            <span ng-if="componentSelected.oscillator !== undefined" class="input input--checkbox input--checkbox__oscillator form--input--reset">
    	                                <label for="sample--checkbox" class="component-name__label">{{'make-hardware-component-oscillator' | translate}}</label>
    	                                <input type="checkbox" id="oscillator--checkbox" class="oscillator--checkbox" name="oscillator--checkbox" ng-model="componentSelected.oscillator">
    	                            </span>
    	                            <span ng-if="componentSelected.baudRate" class="form--input--reset baudrate__container">
    	                                <label for="componentBaudRate" class="component-name__label">{{'make-hardware-component-baudrate' | translate}}</label>
    	                                <common-dropdown class="baudrate__dropdown" options="baudRates" options-click="setBaudRate" heading-option="componentSelected.baudRate" ng-model="componentSelected.baudRate" class="form--input--reset" />
    	                            </span>
    	                        </span>
    	                    </div>
    	                </div>

    	                <div class="component__container" ng-class="{'component__container--visible':(project.hardware.components.length === 0 && project.hardware.board) ,'component__container--pseudovisible':(project.hardware.components.length !== 0) && project.hardware.board }" >
    	                    <p class="component__message">{{'make-hardware-component-container' | translate}}</p>
    	                </div>

    	                <div id="boardSchema" class="board" ng-class="{'board--present':project.hardware.board, 'board--selected':boardSelected, 'opaque':!project.hardware.robot}">
    	                    <p class="board__message">{{'make-hardware-board-container' | translate}}</p>
    	                </div>
    	            </div>
    	            <div id="component-context-menu" class="hw-context-menu">
    	                <ul class="menu">
    	                    <li class="menu__item">
    	                        <button ng-click="duplicateComponent(componentSelected)" tabindex="0" data-element="hw-contextmenu-component-duplicate">{{'make-hardware-component-duplicate' | translate}}</button>
    	                    </li>
    	                    <li class="menu__item">
    	                        <button ng-show="componentSelected.connected" ng-click="disconnectComponent()" data-element="hw-contextmenu-component-disconnect">{{'make-hardware-component-disconnect' | translate}}</button>
    	                    </li>
    	                    <hr>
    	                    <li class="menu__item">
    	                        <button ng-click="deleteComponent($event)" data-element="hw-contextmenu-component-delete">{{'make-hardware-component-delete' | translate}}</button>
    	                    </li>
    	                </ul>
    	            </div>
    	            <div id="board-context-menu" class="hw-context-menu">
    	                <ul class="menu">
    	                    <li class="menu__item">
    	                        <button ng-show="anyComponent() || componentsArray.serialElements.length > 0" ng-click="disconnectAllComponents()" data-element="hw-contextmenu-board-disconnect">{{'make-hardware-component-disconnect' | translate}}</button>
    	                    </li>
    	                    <hr>
    	                    <li class="menu__item">
    	                        <button ng-click="deleteBoard($event)" data-element="hw-contextmenu-board-delete">{{'make-hardware-component-delete' | translate}}</button>
    	                    </li>
    	                </ul>
    	            </div>
    	        </div>
    	        <toolbox class="toolbox-hw" tree="commonHardware" type="hardware"></toolbox>
    	    </tab>
    	    <tab icon="'#software'" class="bloqs-tab" icon-size="'vlarge'">
    	        <div class="software">
    	        	<div ng-controller="SoftwareController" ng-keyup="onFieldKeyUp($event)" ng-cloak>
    	        	  <div id="bloqs--field" ng-class="{'theme-colors':project.defaultTheme === 'infotab_option_colorTheme', 'theme-basic':project.defaultTheme === 'infotab_option_grayTheme' || !project.defaultTheme}">
    	        	    <toolbox class="toolbox-sw" tree="commonSoftware" type="software" components-array="componentsArray"  show-components="showComponents", show-communications="showCommunications"></toolbox>
    	        	    <scrollbar class="software--scroll" type="'horizontal'" target=".field--content > .bloq--extension__content" container=".field--content"></scrollbar>
    	        	    <scrollbar class="software--vscroll" type="'vertical'" bind-only="true" target="#bloqs--field" container=".software"></scrollbar>
    	        	    <div id="empty"></div>
    	        	    <div id="bloqs-context-menu">
    	        	      <ul>
    	        	        <li>
    	        	          <button ng-click="duplicateBloqFromContextMenu(contextMenuBloq)">{{ 'bloqstab-duplicate-bloq' | translate }}</button>
    	        	        </li>
    	        	        <li>
    	        	          <button ng-show="!contextMenuBloq.itsEnabled() && !contextMenuBloq.itsFree()" ng-click="enableBloqFromContextMenu(contextMenuBloq)">{{ 'bloqstab-enable-bloq' | translate }}</button>
    	        	        </li>
    	        	        <li>
    	        	          <button ng-show="contextMenuBloq.itsEnabled()" ng-click="disableBloqFromContextMenu(contextMenuBloq)">{{ 'bloqstab-disable-bloq' | translate }}</button>
    	        	        </li>
    	        	        <li class="dropdown__item--separator"></li>
    	        	        <li>
    	        	          <button ng-click="removeBloqFromContextMenu(contextMenuBloq)">{{ 'bloqstab-remove-bloq' | translate }}</button>
    	        	        </li>
    	        	      </ul>
    	        	    </div>
    	        	  </div>
    	        	</div>
    	        </div>
    	    </tab>
    	    <tab icon="'#code'" class="code-tab" icon-size="'vlarge'">
    	        <prism class="console--content" data-code="code"></prism>
    	    </tab>
    	</tabset>
    </div>
  </div>
  <div id="api-controller" ng-controller="ApiController"></div>
</div>